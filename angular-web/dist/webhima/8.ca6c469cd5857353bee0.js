(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{qxg3:function(t,i,e){"use strict";e.r(i);var n=e("Valr"),a=e("DUip"),s=e("AytR"),c=e("TYT/"),o=e("cUzu"),r=function(){function t(t){this.httpClient=t,this.countApiUrl=s.a.apiUrl+"count"}return t.prototype.count=function(t){return this.httpClient.post(this.countApiUrl,t)},t.\u0275fac=function(i){return new(i||t)(c.Yb(o.c))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),d=e("uLXW"),h=e("uad8"),u=e("XIAg"),l=e("p+mS"),g=["animatedDigit1"],b=["animatedDigit2"],m=["animatedDigit3"],f=["congratsMessage"],p=["winnerMsg"],v=["pres"],C=["vicePres"],y=["message"];function w(t,i){1&t&&(c.Ub(0,"div",2),c.Pb(1,"mat-spinner",3),c.Tb())}function x(t,i){if(1&t){var e=c.Vb();c.Ub(0,"div",16),c.Ub(1,"div",17),c.Ub(2,"button",18),c.cc("click",(function(){return c.uc(e),c.gc(2).counterClicked()})),c.Cc(3,"Start"),c.Tb(),c.Tb(),c.Tb()}}function M(t,i){if(1&t&&(c.Ub(0,"div",4),c.Ub(1,"div",5),c.Ub(2,"div",6),c.Ub(3,"h2"),c.Cc(4),c.Tb(),c.Ub(5,"h5"),c.Cc(6),c.Tb(),c.Ub(7,"h5"),c.Cc(8),c.Tb(),c.Ub(9,"h1",null,7),c.Ub(11,"span"),c.Cc(12),c.Tb(),c.Tb(),c.Tb(),c.Ub(13,"div",6),c.Ub(14,"h2"),c.Cc(15),c.Tb(),c.Ub(16,"h5"),c.Cc(17),c.Tb(),c.Ub(18,"h5"),c.Cc(19),c.Tb(),c.Ub(20,"h1",null,8),c.Ub(22,"span"),c.Cc(23),c.Tb(),c.Tb(),c.Tb(),c.Ub(24,"div",6),c.Ub(25,"h2"),c.Cc(26),c.Tb(),c.Ub(27,"h5"),c.Cc(28),c.Tb(),c.Ub(29,"h5"),c.Cc(30),c.Tb(),c.Ub(31,"h1",null,9),c.Ub(33,"span"),c.Cc(34),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Pb(35,"mat-divider"),c.Bc(36,x,4,0,"div",10),c.Ub(37,"div",5),c.Ub(38,"h1",null,11),c.Cc(40),c.Tb(),c.Pb(41,"h3",null,12),c.Pb(43,"h2",null,13),c.Pb(45,"h5",null,14),c.Pb(47,"h5",null,15),c.Tb(),c.Tb()),2&t){var e=c.gc();c.Cb(4),c.Ec("Paslon ",e.candidate1.choose_number,""),c.Cb(2),c.Dc(e.candidate1.name_pres),c.Cb(2),c.Dc(e.candidate1.name_vicepres),c.Cb(4),c.Dc(e.displayDigit1),c.Cb(3),c.Ec("Paslon ",e.candidate2.choose_number,""),c.Cb(2),c.Dc(e.candidate2.name_pres),c.Cb(2),c.Dc(e.candidate2.name_vicepres),c.Cb(4),c.Dc(e.displayDigit2),c.Cb(3),c.Ec("Paslon ",e.candidate3.choose_number,""),c.Cb(2),c.Dc(e.candidate3.name_pres),c.Cb(2),c.Dc(e.candidate3.name_vicepres),c.Cb(4),c.Dc(e.displayDigit3),c.Cb(2),c.mc("ngIf",!e.startCount),c.Cb(4),c.Dc(e.showCongrats)}}var T=[{path:"",component:function(){function t(t){this.countService=t,this.showCongrats="",this.count=0,this.digit1=0,this.digit2=0,this.digit3=0,this.displayDigit1=0,this.displayDigit2=0,this.displayDigit3=0,this.loading=!1,this.startCount=!1}return t.prototype.ngOnInit=function(){this.getCounter()},t.prototype.ngOnChanges=function(t){t.digit1?this.animateCount(this.digit1,this.animatedDigit1,this.digit1,this.digit2,this.digit3,this.congratsMessage,this.winnerMsg,this.pres,this.vicePres,this.candidate1,this.candidate2,this.candidate3,this.message):t.digit2?this.animateCount(this.digit2,this.animatedDigit2,this.digit1,this.digit2,this.digit3,this.congratsMessage,this.winnerMsg,this.pres,this.vicePres,this.candidate1,this.candidate2,this.candidate3,this.message):t.digit3&&this.animateCount(this.digit3,this.animatedDigit3,this.digit1,this.digit2,this.digit3,this.congratsMessage,this.winnerMsg,this.pres,this.vicePres,this.candidate1,this.candidate2,this.candidate3,this.message)},t.prototype.getCounter=function(){return t=this,void 0,e=function(){var t,i,e=this;return function(t,i){var e,n,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,n=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!(a=(a=c.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){c=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){c.label=s[1];break}if(6===s[0]&&c.label<a[1]){c.label=a[1],a=s;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(s);break}a[2]&&c.ops.pop(),c.trys.pop();continue}s=i.call(t,c)}catch(o){s=[6,o],n=0}finally{e=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}(this,(function(n){switch(n.label){case 0:this.loading=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.countService.count().toPromise()];case 2:return(t=n.sent())&&t.status&&200===t.status?t.data&&t.data.forEach((function(t){var i,n,a;t&&t.candidate&&t.candidate.choose_number&&(1===Number(t.candidate.choose_number)&&(e.candidate1=t.candidate,e.digit1=null===(i=t)||void 0===i?void 0:i.count),2===Number(t.candidate.choose_number)&&(e.candidate2=t.candidate,e.digit2=null===(n=t)||void 0===n?void 0:n.count),3===Number(t.candidate.choose_number)&&(e.candidate3=t.candidate,e.digit3=null===(a=t)||void 0===a?void 0:a.count))})):alert("Get Data Failed. Try again later."),[3,5];case 3:return(i=n.sent())&&i.error&&i.error.data?alert("Get Data Failed. "+i.error.data):alert("Get Data Failed. Try again later."),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))},new((i=void 0)||(i=Promise))((function(n,a){function s(t){try{o(e.next(t))}catch(i){a(i)}}function c(t){try{o(e.throw(t))}catch(i){a(i)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,c)}o((e=e.apply(t,[])).next())}));var t,i,e},t.prototype.counterClicked=function(){window.confirm("Start to count !")?(this.startCount=!0,this.animateCount(this.digit1,this.animatedDigit1,this.digit1,this.digit2,this.digit3,this.congratsMessage,this.winnerMsg,this.pres,this.vicePres,this.candidate1,this.candidate2,this.candidate3,this.message),this.animateCount(this.digit2,this.animatedDigit2,this.digit1,this.digit2,this.digit3,this.congratsMessage,this.winnerMsg,this.pres,this.vicePres,this.candidate1,this.candidate2,this.candidate3,this.message),this.animateCount(this.digit3,this.animatedDigit3,this.digit1,this.digit2,this.digit3,this.congratsMessage,this.winnerMsg,this.pres,this.vicePres,this.candidate1,this.candidate2,this.candidate3,this.message)):console.log("cancel clicked")},t.prototype.animateCount=function(t,i,e,n,a,s,c,o,r,d,h,u,l){this.duration||(this.duration=2e3),"number"==typeof t&&this.counterFunc(t,this.duration,i,e,n,a,s,c,o,r,d,h,u,l)},t.prototype.counterFunc=function(t,i,e,n,a,s,c,o,r,d,h,u,l,g){this.steps||(this.steps=3);var b=Math.abs(i/this.steps),m=(t-0)/b,f=Math.PI/b,p=0,v=0;!function t(){v+=f,p+=m*Math.pow(Math.sin(v),2)*2,e.nativeElement.textContent=Math.abs(Math.floor(p)),v<Math.PI?window.requestAnimationFrame(t):setTimeout((function(){n>a&&n>s?(c.nativeElement.textContent="CONGRATULATIONS !",g.nativeElement.textContent="Ketua dan Wakil Ketua HIMA SI Periode 2020 - 2021",o.nativeElement.textContent="PASLON "+h.choose_number,r.nativeElement.textContent=h.name_pres,d.nativeElement.textContent=h.name_vicepres):a>n&&a>s?(c.nativeElement.textContent="CONGRATULATIONS !",g.nativeElement.textContent="Ketua dan Wakil Ketua HIMA SI Periode 2020 - 2021",o.nativeElement.textContent="PASLON "+u.choose_number,r.nativeElement.textContent=u.name_pres,d.nativeElement.textContent=u.name_vicepres):s>n&&s>a?(c.nativeElement.textContent="CONGRATULATIONS !",g.nativeElement.textContent="Ketua dan Wakil Ketua HIMA SI Periode 2020 - 2021",o.nativeElement.textContent="PASLON "+l.choose_number,r.nativeElement.textContent=l.name_pres,d.nativeElement.textContent=l.name_vicepres):c.nativeElement.textContent="Draw... :("}),i)}()},t.\u0275fac=function(i){return new(i||t)(c.Ob(r))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-election-count"]],viewQuery:function(t,i){var e;1&t&&(c.Hc(g,!0),c.Hc(b,!0),c.Hc(m,!0),c.Hc(f,!0),c.Hc(p,!0),c.Hc(v,!0),c.Hc(C,!0),c.Hc(y,!0)),2&t&&(c.rc(e=c.dc())&&(i.animatedDigit1=e.first),c.rc(e=c.dc())&&(i.animatedDigit2=e.first),c.rc(e=c.dc())&&(i.animatedDigit3=e.first),c.rc(e=c.dc())&&(i.congratsMessage=e.first),c.rc(e=c.dc())&&(i.winnerMsg=e.first),c.rc(e=c.dc())&&(i.pres=e.first),c.rc(e=c.dc())&&(i.vicePres=e.first),c.rc(e=c.dc())&&(i.message=e.first))},features:[c.Ab],decls:2,vars:2,consts:[["fxFlex","100%","class","loading-container",4,"ngIf"],["fxLayout","column","fxFlex","100%","class","full-height",4,"ngIf"],["fxFlex","100%",1,"loading-container"],[1,"loading"],["fxLayout","column","fxFlex","100%",1,"full-height"],[1,"col-md-12","col-sm-12","margin-25","text-align-center"],[1,"col-md-4","col-sm-12"],["animatedDigit1",""],["animatedDigit2",""],["animatedDigit3",""],["class","col-md-12 col-sm-12 margin-25",4,"ngIf"],["congratsMessage",""],["message",""],["winnerMsg",""],["pres",""],["vicePres",""],[1,"col-md-12","col-sm-12","margin-25"],[1,"col-md-offset-4","col-sm-offset-2"],["mat-raised-button","","color","primary",2,"width","50%",3,"click"]],template:function(t,i){1&t&&(c.Bc(0,w,2,0,"div",0),c.Bc(1,M,49,14,"div",1)),2&t&&(c.mc("ngIf",i.loading),c.Cb(1),c.mc("ngIf",!i.loading))},directives:[n.l,d.b,h.b,d.d,u.a,l.a],styles:[".loading-container[_ngcontent-%COMP%]{min-height:calc(100vh - 64px)}.loading-container[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]  circle{stroke:#2f4f4f}.loading[_ngcontent-%COMP%]{left:50%;top:calc(50% - 64px)}.full-height[_ngcontent-%COMP%]{min-height:100vh}.margin-25[_ngcontent-%COMP%]{margin:25px 0}.text-align-center[_ngcontent-%COMP%]{text-align:center}"]}),t}(),data:{title:"Election"}}],D=function(){function t(){}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(i){return new(i||t)},imports:[[a.g.forChild(T)],a.g]}),t}(),P=e("PCNd");e.d(i,"ElectionModule",(function(){return U}));var U=function(){function t(){}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(i){return new(i||t)},imports:[[n.c,D,P.a]]}),t}()}}]);