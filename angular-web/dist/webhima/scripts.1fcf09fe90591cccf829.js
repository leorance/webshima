if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){var n=[],o=n.slice,r=n.concat,i=n.push,a=n.indexOf,u={},s=u.toString,c=u.hasOwnProperty,l={},f="1.11.1",d=function(t,e){return new d.fn.init(t,e)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,p=/-([\da-z])/gi,g=function(t,e){return e.toUpperCase()};function v(t){var e=t.length,n=d.type(t);return"function"!==n&&!d.isWindow(t)&&(!(1!==t.nodeType||!e)||"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}d.fn=d.prototype={jquery:f,constructor:d,selector:"",length:0,toArray:function(){return o.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:o.call(this)},pushStack:function(t){var e=d.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return d.each(this,t,e)},map:function(t){return this.pushStack(d.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:i,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var t,e,n,o,r,i,a=arguments[0]||{},u=1,s=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[u]||{},u++),"object"==typeof a||d.isFunction(a)||(a={}),u===s&&(a=this,u--);s>u;u++)if(null!=(r=arguments[u]))for(o in r)t=a[o],a!==(n=r[o])&&(c&&n&&(d.isPlainObject(n)||(e=d.isArray(n)))?(e?(e=!1,i=t&&d.isArray(t)?t:[]):i=t&&d.isPlainObject(t)?t:{},a[o]=d.extend(c,i,n)):void 0!==n&&(a[o]=n));return a},d.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===d.type(t)},isArray:Array.isArray||function(t){return"array"===d.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!d.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==d.type(t)||t.nodeType||d.isWindow(t))return!1;try{if(t.constructor&&!c.call(t,"constructor")&&!c.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(l.ownLast)for(e in t)return c.call(t,e);for(e in t);return void 0===e||c.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[s.call(t)]||"object":typeof t},globalEval:function(e){e&&d.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(h,"ms-").replace(p,g)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o=0,r=t.length,i=v(t);if(n){if(i)for(;r>o&&!1!==e.apply(t[o],n);o++);else for(o in t)if(!1===e.apply(t[o],n))break}else if(i)for(;r>o&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(m,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(v(Object(t))?d.merge(n,"string"==typeof t?[t]:t):i.call(n,t)),n},inArray:function(t,e,n){var o;if(e){if(a)return a.call(e,t,n);for(o=e.length,n=n?0>n?Math.max(0,o+n):n:0;o>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,o=0,r=t.length;n>o;)t[r++]=e[o++];if(n!=n)for(;void 0!==e[o];)t[r++]=e[o++];return t.length=r,t},grep:function(t,e,n){for(var o=[],r=0,i=t.length,a=!n;i>r;r++)!e(t[r],r)!==a&&o.push(t[r]);return o},map:function(t,e,n){var o,i=0,a=t.length,u=[];if(v(t))for(;a>i;i++)null!=(o=e(t[i],i,n))&&u.push(o);else for(i in t)null!=(o=e(t[i],i,n))&&u.push(o);return r.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(i=t[e],e=t,t=i),d.isFunction(t)?(n=o.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||d.guid++,r):void 0},now:function(){return+new Date},support:l}),d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){u["[object "+e+"]"]=e.toLowerCase()}));var b=function(t){var e,n,o,r,i,a,u,s,c,l,f,d,m,h,p,g,v,b,y,x="sizzle"+-new Date,w=t.document,C=0,S=0,k=it(),T=it(),E=it(),O=function(t,e){return t===e&&(f=!0),0},N="undefined",A={}.hasOwnProperty,_=[],D=_.pop,z=_.push,M=_.push,B=_.slice,R=_.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",L=H.replace("w","w#"),F="\\["+P+"*("+H+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+P+"*\\]",V=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),$=new RegExp("^"+P+"*,"+P+"*"),U=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),W=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),q=new RegExp(V),X=new RegExp("^"+L+"$"),G={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),ot=function(t,e,n){var o="0x"+e-65536;return o!=o||n?e:0>o?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)};try{M.apply(_=B.call(w.childNodes),w.childNodes)}catch(nt){M={apply:_.length?function(t,e){z.apply(t,B.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}function rt(t,e,o,r){var i,u,c,l,f,h,v,b,C,S;if((e?e.ownerDocument||e:w)!==m&&d(e),o=o||[],!t||"string"!=typeof t)return o;if(1!==(l=(e=e||m).nodeType)&&9!==l)return[];if(p&&!r){if(i=Q.exec(t))if(c=i[1]){if(9===l){if(!(u=e.getElementById(c))||!u.parentNode)return o;if(u.id===c)return o.push(u),o}else if(e.ownerDocument&&(u=e.ownerDocument.getElementById(c))&&y(e,u)&&u.id===c)return o.push(u),o}else{if(i[2])return M.apply(o,e.getElementsByTagName(t)),o;if((c=i[3])&&n.getElementsByClassName&&e.getElementsByClassName)return M.apply(o,e.getElementsByClassName(c)),o}if(n.qsa&&(!g||!g.test(t))){if(b=v=x,C=e,S=9===l&&t,1===l&&"object"!==e.nodeName.toLowerCase()){for(h=a(t),(v=e.getAttribute("id"))?b=v.replace(tt,"\\$&"):e.setAttribute("id",b),b="[id='"+b+"'] ",f=h.length;f--;)h[f]=b+pt(h[f]);C=Z.test(t)&&mt(e.parentNode)||e,S=h.join(",")}if(S)try{return M.apply(o,C.querySelectorAll(S)),o}catch(k){}finally{v||e.removeAttribute("id")}}}return s(t.replace(j,"$1"),e,o,r)}function it(){var t=[];return function e(n,r){return t.push(n+" ")>o.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[x]=!0,t}function ut(t){var e=m.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function st(t,e){for(var n=t.split("|"),r=t.length;r--;)o.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function lt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return at((function(e){return e=+e,at((function(n,o){for(var r,i=t([],n.length,e),a=i.length;a--;)n[r=i[a]]&&(n[r]=!(o[r]=n[r]))}))}))}function mt(t){return t&&typeof t.getElementsByTagName!==N&&t}for(e in n=rt.support={},i=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=rt.setDocument=function(t){var e,r=t?t.ownerDocument||t:w,a=r.defaultView;return r!==m&&9===r.nodeType&&r.documentElement?(m=r,h=r.documentElement,p=!i(r),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",(function(){d()}),!1):a.attachEvent&&a.attachEvent("onunload",(function(){d()}))),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(r.getElementsByClassName)&&ut((function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length})),n.getById=ut((function(t){return h.appendChild(t).id=x,!r.getElementsByName||!r.getElementsByName(x).length})),n.getById?(o.find.ID=function(t,e){if(typeof e.getElementById!==N&&p){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(t){var e=t.replace(et,ot);return function(t){return t.getAttribute("id")===e}}):(delete o.find.ID,o.filter.ID=function(t){var e=t.replace(et,ot);return function(t){var n=typeof t.getAttributeNode!==N&&t.getAttributeNode("id");return n&&n.value===e}}),o.find.TAG=n.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==N?e.getElementsByTagName(t):void 0}:function(t,e){var n,o=[],r=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},o.find.CLASS=n.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==N&&p?e.getElementsByClassName(t):void 0},v=[],g=[],(n.qsa=J.test(r.querySelectorAll))&&(ut((function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+I+")"),t.querySelectorAll(":checked").length||g.push(":checked")})),ut((function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+P+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(b=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=b.call(t,"div"),b.call(t,"[s!='']:x"),v.push("!=",V)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(h.compareDocumentPosition),y=e||J.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return f=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===o?t===r||t.ownerDocument===w&&y(w,t)?-1:e===r||e.ownerDocument===w&&y(w,e)?1:l?R.call(l,t)-R.call(l,e):0:4&o?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,o=0,i=t.parentNode,a=e.parentNode,u=[t],s=[e];if(!i||!a)return t===r?-1:e===r?1:i?-1:a?1:l?R.call(l,t)-R.call(l,e):0;if(i===a)return ct(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;u[o]===s[o];)o++;return o?ct(u[o],s[o]):u[o]===w?-1:s[o]===w?1:0},r):m},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==m&&d(t),e=e.replace(W,"='$1']"),!(!n.matchesSelector||!p||v&&v.test(e)||g&&g.test(e)))try{var o=b.call(t,e);if(o||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return o}catch(r){}return rt(e,m,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==m&&d(t),y(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==m&&d(t);var r=o.attrHandle[e.toLowerCase()],i=r&&A.call(o.attrHandle,e.toLowerCase())?r(t,e,!p):void 0;return void 0!==i?i:n.attributes||!p?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,o=[],r=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(O),f){for(;e=t[i++];)e===t[i]&&(r=o.push(i));for(;r--;)t.splice(o[r],1)}return l=null,t},r=rt.getText=function(t){var e,n="",o=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[o++];)n+=r(e);return n},(o=rt.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,ot),t[3]=(t[3]||t[4]||t[5]||"").replace(et,ot),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,ot).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==N&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(o){var r=rt.attr(o,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,o,r){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===o&&0===r?function(t){return!!t.parentNode}:function(e,n,s){var c,l,f,d,m,h,p=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=u&&e.nodeName.toLowerCase(),b=!s&&!u;if(g){if(i){for(;p;){for(f=e;f=f[p];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=p="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(d=(c=(l=g[x]||(g[x]={}))[t]||[])[0]===C&&c[2],f=(m=c[0]===C&&c[1])&&g.childNodes[m];f=++m&&f&&f[p]||(d=m=0)||h.pop();)if(1===f.nodeType&&++d&&f===e){l[t]=[C,m,d];break}}else if(b&&(c=(e[x]||(e[x]={}))[t])&&c[0]===C)d=c[1];else for(;(f=++m&&f&&f[p]||(d=m=0)||h.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[x]||(f[x]={}))[t]=[C,d]),f!==e)););return(d-=r)===o||d%o==0&&d/o>=0}}},PSEUDO:function(t,e){var n,r=o.pseudos[t]||o.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return r[x]?r(e):r.length>1?(n=[t,t,"",e],o.setFilters.hasOwnProperty(t.toLowerCase())?at((function(t,n){for(var o,i=r(t,e),a=i.length;a--;)t[o=R.call(t,i[a])]=!(n[o]=i[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:at((function(t){var e=[],n=[],o=u(t.replace(j,"$1"));return o[x]?at((function(t,e,n,r){for(var i,a=o(t,null,r,[]),u=t.length;u--;)(i=a[u])&&(t[u]=!(e[u]=i))})):function(t,r,i){return e[0]=t,o(e,null,i,n),!n.pop()}})),has:at((function(t){return function(e){return rt(t,e).length>0}})),contains:at((function(t){return function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}})),lang:at((function(t){return X.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(et,ot).toLowerCase(),function(e){var n;do{if(n=p?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!o.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return Y.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt((function(){return[0]})),last:dt((function(t,e){return[e-1]})),eq:dt((function(t,e,n){return[0>n?n+e:n]})),even:dt((function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t})),odd:dt((function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t})),lt:dt((function(t,e,n){for(var o=0>n?n+e:n;--o>=0;)t.push(o);return t})),gt:dt((function(t,e,n){for(var o=0>n?n+e:n;++o<e;)t.push(o);return t}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[e]=lt(e);for(e in{submit:!0,reset:!0})o.pseudos[e]=ft(e);function ht(){}function pt(t){for(var e=0,n=t.length,o="";n>e;e++)o+=t[e].value;return o}function gt(t,e,n){var o=e.dir,r=n&&"parentNode"===o,i=S++;return e.first?function(e,n,i){for(;e=e[o];)if(1===e.nodeType||r)return t(e,n,i)}:function(e,n,a){var u,s,c=[C,i];if(a){for(;e=e[o];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[o];)if(1===e.nodeType||r){if((u=(s=e[x]||(e[x]={}))[o])&&u[0]===C&&u[1]===i)return c[2]=u[2];if(s[o]=c,c[2]=t(e,n,a))return!0}}}function vt(t){return t.length>1?function(e,n,o){for(var r=t.length;r--;)if(!t[r](e,n,o))return!1;return!0}:t[0]}function bt(t,e,n,o,r){for(var i,a=[],u=0,s=t.length,c=null!=e;s>u;u++)(i=t[u])&&(!n||n(i,o,r))&&(a.push(i),c&&e.push(u));return a}function yt(t,e,n,o,r,i){return o&&!o[x]&&(o=yt(o)),r&&!r[x]&&(r=yt(r,i)),at((function(i,a,u,s){var c,l,f,d=[],m=[],h=a.length,p=i||function(t,e,n){for(var o=0,r=e.length;r>o;o++)rt(t,e[o],n);return n}(e||"*",u.nodeType?[u]:u,[]),g=!t||!i&&e?p:bt(p,d,t,u,s),v=n?r||(i?t:h||o)?[]:a:g;if(n&&n(g,v,u,s),o)for(c=bt(v,m),o(c,[],u,s),l=c.length;l--;)(f=c[l])&&(v[m[l]]=!(g[m[l]]=f));if(i){if(r||t){if(r){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);r(null,v=[],c,s)}for(l=v.length;l--;)(f=v[l])&&(c=r?R.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=bt(v===a?v.splice(h,v.length):v),r?r(null,a,v,s):M.apply(a,v)}))}function xt(t){for(var e,n,r,i=t.length,a=o.relative[t[0].type],u=a||o.relative[" "],s=a?1:0,l=gt((function(t){return t===e}),u,!0),f=gt((function(t){return R.call(e,t)>-1}),u,!0),d=[function(t,n,o){return!a&&(o||n!==c)||((e=n).nodeType?l(t,n,o):f(t,n,o))}];i>s;s++)if(n=o.relative[t[s].type])d=[gt(vt(d),n)];else{if((n=o.filter[t[s].type].apply(null,t[s].matches))[x]){for(r=++s;i>r&&!o.relative[t[r].type];r++);return yt(s>1&&vt(d),s>1&&pt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(j,"$1"),n,r>s&&xt(t.slice(s,r)),i>r&&xt(t=t.slice(r)),i>r&&pt(t))}d.push(n)}return vt(d)}function wt(t,e){var n=e.length>0,r=t.length>0,i=function(i,a,u,s,l){var f,d,h,p=0,g="0",v=i&&[],b=[],y=c,x=i||r&&o.find.TAG("*",l),w=C+=null==y?1:Math.random()||.1,S=x.length;for(l&&(c=a!==m&&a);g!==S&&null!=(f=x[g]);g++){if(r&&f){for(d=0;h=t[d++];)if(h(f,a,u)){s.push(f);break}l&&(C=w)}n&&((f=!h&&f)&&p--,i&&v.push(f))}if(p+=g,n&&g!==p){for(d=0;h=e[d++];)h(v,b,a,u);if(i){if(p>0)for(;g--;)v[g]||b[g]||(b[g]=D.call(s));b=bt(b)}M.apply(s,b),l&&!i&&b.length>0&&p+e.length>1&&rt.uniqueSort(s)}return l&&(C=w,c=y),v};return n?at(i):i}return ht.prototype=o.filters=o.pseudos,o.setFilters=new ht,a=rt.tokenize=function(t,e){var n,r,i,a,u,s,c,l=T[t+" "];if(l)return e?0:l.slice(0);for(u=t,s=[],c=o.preFilter;u;){for(a in(!n||(r=$.exec(u)))&&(r&&(u=u.slice(r[0].length)||u),s.push(i=[])),n=!1,(r=U.exec(u))&&(n=r.shift(),i.push({value:n,type:r[0].replace(j," ")}),u=u.slice(n.length)),o.filter)!(r=G[a].exec(u))||c[a]&&!(r=c[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),u=u.slice(n.length));if(!n)break}return e?u.length:u?rt.error(t):T(t,s).slice(0)},u=rt.compile=function(t,e){var n,o=[],r=[],i=E[t+" "];if(!i){for(e||(e=a(t)),n=e.length;n--;)(i=xt(e[n]))[x]?o.push(i):r.push(i);(i=E(t,wt(r,o))).selector=t}return i},s=rt.select=function(t,e,r,i){var s,c,l,f,d,m="function"==typeof t&&t,h=!i&&a(t=m.selector||t);if(r=r||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===e.nodeType&&p&&o.relative[c[1].type]){if(!(e=(o.find.ID(l.matches[0].replace(et,ot),e)||[])[0]))return r;m&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(s=G.needsContext.test(t)?0:c.length;s--&&!o.relative[f=(l=c[s]).type];)if((d=o.find[f])&&(i=d(l.matches[0].replace(et,ot),Z.test(c[0].type)&&mt(e.parentNode)||e))){if(c.splice(s,1),!(t=i.length&&pt(c)))return M.apply(r,i),r;break}}return(m||u(t,h))(i,e,!p,r,Z.test(t)&&mt(e.parentNode)||e),r},n.sortStable=x.split("").sort(O).join("")===x,n.detectDuplicates=!!f,d(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(m.createElement("div"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||st("type|href|height|width",(function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||st("value",(function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||st(I,(function(t,e,n){var o;return n?void 0:!0===t[e]?e.toLowerCase():(o=t.getAttributeNode(e))&&o.specified?o.value:null})),rt}(t);d.find=b,d.expr=b.selectors,d.expr[":"]=d.expr.pseudos,d.unique=b.uniqueSort,d.text=b.getText,d.isXMLDoc=b.isXML,d.contains=b.contains;var y=d.expr.match.needsContext,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function C(t,e,n){if(d.isFunction(e))return d.grep(t,(function(t,o){return!!e.call(t,o,t)!==n}));if(e.nodeType)return d.grep(t,(function(t){return t===e!==n}));if("string"==typeof e){if(w.test(e))return d.filter(e,t,n);e=d.filter(e,t)}return d.grep(t,(function(t){return d.inArray(t,e)>=0!==n}))}d.filter=function(t,e,n){var o=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===o.nodeType?d.find.matchesSelector(o,t)?[o]:[]:d.find.matches(t,d.grep(e,(function(t){return 1===t.nodeType})))},d.fn.extend({find:function(t){var e,n=[],o=this,r=o.length;if("string"!=typeof t)return this.pushStack(d(t).filter((function(){for(e=0;r>e;e++)if(d.contains(o[e],this))return!0})));for(e=0;r>e;e++)d.find(t,o[e],n);return(n=this.pushStack(r>1?d.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(C(this,t||[],!1))},not:function(t){return this.pushStack(C(this,t||[],!0))},is:function(t){return!!C(this,"string"==typeof t&&y.test(t)?d(t):t||[],!1).length}});var S,k=t.document,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(d.fn.init=function(t,e){var n,o;if(!t)return this;if("string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:T.exec(t))||!n[1]&&e)return!e||e.jquery?(e||S).find(t):this.constructor(e).find(t);if(n[1]){if(d.merge(this,d.parseHTML(n[1],(e=e instanceof d?e[0]:e)&&e.nodeType?e.ownerDocument||e:k,!0)),x.test(n[1])&&d.isPlainObject(e))for(n in e)d.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((o=k.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return S.find(t);this.length=1,this[0]=o}return this.context=k,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):d.isFunction(t)?void 0!==S.ready?S.ready(t):t(d):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),d.makeArray(t,this))}).prototype=d.fn,S=d(k);var E=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}d.extend({dir:function(t,e,n){for(var o=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!d(r).is(n));)1===r.nodeType&&o.push(r),r=r[e];return o},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),d.fn.extend({has:function(t){var e,n=d(t,this),o=n.length;return this.filter((function(){for(e=0;o>e;e++)if(d.contains(this,n[e]))return!0}))},closest:function(t,e){for(var n,o=0,r=this.length,i=[],a=y.test(t)||"string"!=typeof t?d(t,e||this.context):0;r>o;o++)for(n=this[o];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&d.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?d.unique(i):i)},index:function(t){return t?"string"==typeof t?d.inArray(this[0],d(t)):d.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(d.unique(d.merge(this.get(),d(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),d.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return d.dir(t,"parentNode")},parentsUntil:function(t,e,n){return d.dir(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return d.dir(t,"nextSibling")},prevAll:function(t){return d.dir(t,"previousSibling")},nextUntil:function(t,e,n){return d.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return d.dir(t,"previousSibling",n)},siblings:function(t){return d.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return d.sibling(t.firstChild)},contents:function(t){return d.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:d.merge([],t.childNodes)}},(function(t,e){d.fn[t]=function(n,o){var r=d.map(this,e,n);return"Until"!==t.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=d.filter(o,r)),this.length>1&&(O[t]||(r=d.unique(r)),E.test(t)&&(r=r.reverse())),this.pushStack(r)}}));var A,_=/\S+/g,D={};function z(){k.addEventListener?(k.removeEventListener("DOMContentLoaded",M,!1),t.removeEventListener("load",M,!1)):(k.detachEvent("onreadystatechange",M),t.detachEvent("onload",M))}function M(){(k.addEventListener||"load"===event.type||"complete"===k.readyState)&&(z(),d.ready())}d.Callbacks=function(t){t="string"==typeof t?D[t]||function(t){var e=D[t]={};return d.each(t.match(_)||[],(function(t,n){e[n]=!0})),e}(t):d.extend({},t);var e,n,o,r,i,a,u=[],s=!t.once&&[],c=function(f){for(n=t.memory&&f,o=!0,i=a||0,a=0,r=u.length,e=!0;u&&r>i;i++)if(!1===u[i].apply(f[0],f[1])&&t.stopOnFalse){n=!1;break}e=!1,u&&(s?s.length&&c(s.shift()):n?u=[]:l.disable())},l={add:function(){if(u){var o=u.length;!function e(n){d.each(n,(function(n,o){var r=d.type(o);"function"===r?t.unique&&l.has(o)||u.push(o):o&&o.length&&"string"!==r&&e(o)}))}(arguments),e?r=u.length:n&&(a=o,c(n))}return this},remove:function(){return u&&d.each(arguments,(function(t,n){for(var o;(o=d.inArray(n,u,o))>-1;)u.splice(o,1),e&&(r>=o&&r--,i>=o&&i--)})),this},has:function(t){return t?d.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],r=0,this},disable:function(){return u=s=n=void 0,this},disabled:function(){return!u},lock:function(){return s=void 0,n||l.disable(),this},locked:function(){return!s},fireWith:function(t,n){return!u||o&&!s||(n=[t,(n=n||[]).slice?n.slice():n],e?s.push(n):c(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!o}};return l},d.extend({Deferred:function(t){var e=[["resolve","done",d.Callbacks("once memory"),"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return d.Deferred((function(n){d.each(e,(function(e,i){var a=d.isFunction(t[e])&&t[e];r[i[1]]((function(){var t=a&&a.apply(this,arguments);t&&d.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===o?n.promise():this,a?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?d.extend(t,o):o}},r={};return o.pipe=o.then,d.each(e,(function(t,i){var a=i[2],u=i[3];o[i[1]]=a.add,u&&a.add((function(){n=u}),e[1^t][2].disable,e[2][2].lock),r[i[0]]=function(){return r[i[0]+"With"](this===r?o:this,arguments),this},r[i[0]+"With"]=a.fireWith})),o.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,r,i=0,a=o.call(arguments),u=a.length,s=1!==u||t&&d.isFunction(t.promise)?u:0,c=1===s?t:d.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?o.call(arguments):i,r===e?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(u>1)for(e=new Array(u),n=new Array(u),r=new Array(u);u>i;i++)a[i]&&d.isFunction(a[i].promise)?a[i].promise().done(l(i,r,a)).fail(c.reject).progress(l(i,n,e)):--s;return s||c.resolveWith(r,a),c.promise()}}),d.fn.ready=function(t){return d.ready.promise().done(t),this},d.extend({isReady:!1,readyWait:1,holdReady:function(t){t?d.readyWait++:d.ready(!0)},ready:function(t){if(!0===t?!--d.readyWait:!d.isReady){if(!k.body)return setTimeout(d.ready);d.isReady=!0,!0!==t&&--d.readyWait>0||(A.resolveWith(k,[d]),d.fn.triggerHandler&&(d(k).triggerHandler("ready"),d(k).off("ready")))}}}),d.ready.promise=function(e){if(!A)if(A=d.Deferred(),"complete"===k.readyState)setTimeout(d.ready);else if(k.addEventListener)k.addEventListener("DOMContentLoaded",M,!1),t.addEventListener("load",M,!1);else{k.attachEvent("onreadystatechange",M),t.attachEvent("onload",M);var n=!1;try{n=null==t.frameElement&&k.documentElement}catch(o){}n&&n.doScroll&&function e(){if(!d.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}z(),d.ready()}}()}return A.promise(e)};var B,R="undefined";for(B in d(l))break;l.ownLast="0"!==B,l.inlineBlockNeedsLayout=!1,d((function(){var t,e,n,o;(n=k.getElementsByTagName("body")[0])&&n.style&&(e=k.createElement("div"),(o=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),typeof e.style.zoom!==R&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(o))})),function(){var t=k.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete t.test}catch(e){l.deleteExpando=!1}}t=null}(),d.acceptData=function(t){var e=d.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var I=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,P=/([A-Z])/g;function H(t,e,n){if(void 0===n&&1===t.nodeType){var o="data-"+e.replace(P,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(o))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:I.test(n)?d.parseJSON(n):n)}catch(r){}d.data(t,e,n)}else n=void 0}return n}function L(t){var e;for(e in t)if(("data"!==e||!d.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function F(t,e,o,r){if(d.acceptData(t)){var i,a,u=d.expando,s=t.nodeType,c=s?d.cache:t,l=s?t[u]:t[u]&&u;if(l&&c[l]&&(r||c[l].data)||void 0!==o||"string"!=typeof e)return l||(l=s?t[u]=n.pop()||d.guid++:u),c[l]||(c[l]=s?{}:{toJSON:d.noop}),("object"==typeof e||"function"==typeof e)&&(r?c[l]=d.extend(c[l],e):c[l].data=d.extend(c[l].data,e)),a=c[l],r||(a.data||(a.data={}),a=a.data),void 0!==o&&(a[d.camelCase(e)]=o),"string"==typeof e?null==(i=a[e])&&(i=a[d.camelCase(e)]):i=a,i}}function V(t,e,n){if(d.acceptData(t)){var o,r,i=t.nodeType,a=i?d.cache:t,u=i?t[d.expando]:d.expando;if(a[u]){if(e&&(o=n?a[u]:a[u].data)){r=(e=d.isArray(e)?e.concat(d.map(e,d.camelCase)):e in o?[e]:(e=d.camelCase(e))in o?[e]:e.split(" ")).length;for(;r--;)delete o[e[r]];if(n?!L(o):!d.isEmptyObject(o))return}(n||(delete a[u].data,L(a[u])))&&(i?d.cleanData([t],!0):l.deleteExpando||a!=a.window?delete a[u]:a[u]=null)}}}d.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?d.cache[t[d.expando]]:t[d.expando])&&!L(t)},data:function(t,e,n){return F(t,e,n)},removeData:function(t,e){return V(t,e)},_data:function(t,e,n){return F(t,e,n,!0)},_removeData:function(t,e){return V(t,e,!0)}}),d.fn.extend({data:function(t,e){var n,o,r,i=this[0],a=i&&i.attributes;if(void 0===t){if(this.length&&(r=d.data(i),1===i.nodeType&&!d._data(i,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(o=a[n].name).indexOf("data-")&&H(i,o=d.camelCase(o.slice(5)),r[o]);d._data(i,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each((function(){d.data(this,t)})):arguments.length>1?this.each((function(){d.data(this,t,e)})):i?H(i,t,d.data(i,t)):void 0},removeData:function(t){return this.each((function(){d.removeData(this,t)}))}}),d.extend({queue:function(t,e,n){var o;return t?(o=d._data(t,e=(e||"fx")+"queue"),n&&(!o||d.isArray(n)?o=d._data(t,e,d.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(t,e){var n=d.queue(t,e=e||"fx"),o=n.length,r=n.shift(),i=d._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===e&&n.unshift("inprogress"),delete i.stop,r.call(t,(function(){d.dequeue(t,e)}),i)),!o&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return d._data(t,n)||d._data(t,n,{empty:d.Callbacks("once memory").add((function(){d._removeData(t,e+"queue"),d._removeData(t,n)}))})}}),d.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?d.queue(this[0],t):void 0===e?this:this.each((function(){var n=d.queue(this,t,e);d._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&d.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){d.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,o=1,r=d.Deferred(),i=this,a=this.length,u=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=d._data(i[a],t+"queueHooks"))&&n.empty&&(o++,n.empty.add(u));return u(),r.promise(e)}});var j=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$=["Top","Right","Bottom","Left"],U=function(t,e){return"none"===d.css(t=e||t,"display")||!d.contains(t.ownerDocument,t)},W=d.access=function(t,e,n,o,r,i,a){var u=0,s=t.length,c=null==n;if("object"===d.type(n))for(u in r=!0,n)d.access(t,e,u,n[u],!0,i,a);else if(void 0!==o&&(r=!0,d.isFunction(o)||(a=!0),c&&(a?(e.call(t,o),e=null):(c=e,e=function(t,e,n){return c.call(d(t),n)})),e))for(;s>u;u++)e(t[u],n,a?o:o.call(t[u],u,e(t[u],n)));return r?t:c?e.call(t):s?e(t[0],n):i},q=/^(?:checkbox|radio)$/i;!function(){var t=k.createElement("input"),e=k.createElement("div"),n=k.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===e.firstChild.nodeType,l.tbody=!e.getElementsByTagName("tbody").length,l.htmlSerialize=!!e.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==k.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,n.appendChild(t),l.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,n.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",(function(){l.noCloneEvent=!1})),e.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete e.test}catch(o){l.deleteExpando=!1}}}(),function(){var e,n,o=k.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})(l[e+"Bubbles"]=(n="on"+e)in t)||(o.setAttribute(n,"t"),l[e+"Bubbles"]=!1===o.attributes[n].expando);o=null}();var X=/^(?:input|select|textarea)$/i,G=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,J=/^([^.]*)(?:\.(.+)|)$/;function Q(){return!0}function Z(){return!1}function tt(){try{return k.activeElement}catch(t){}}function et(t){var e=nt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}d.event={global:{},add:function(t,e,n,o,r){var i,a,u,s,c,l,f,m,h,p,g,v=d._data(t);if(v){for(n.handler&&(n=(s=n).handler,r=s.selector),n.guid||(n.guid=d.guid++),(a=v.events)||(a=v.events={}),(l=v.handle)||((l=v.handle=function(t){return typeof d===R||t&&d.event.triggered===t.type?void 0:d.event.dispatch.apply(l.elem,arguments)}).elem=t),u=(e=(e||"").match(_)||[""]).length;u--;)h=g=(i=J.exec(e[u])||[])[1],p=(i[2]||"").split(".").sort(),h&&(c=d.event.special[h]||{},c=d.event.special[h=(r?c.delegateType:c.bindType)||h]||{},f=d.extend({type:h,origType:g,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&d.expr.match.needsContext.test(r),namespace:p.join(".")},s),(m=a[h])||((m=a[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,o,p,l)||(t.addEventListener?t.addEventListener(h,l,!1):t.attachEvent&&t.attachEvent("on"+h,l))),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),r?m.splice(m.delegateCount++,0,f):m.push(f),d.event.global[h]=!0);t=null}},remove:function(t,e,n,o,r){var i,a,u,s,c,l,f,m,h,p,g,v=d.hasData(t)&&d._data(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(_)||[""]).length;c--;)if(h=g=(u=J.exec(e[c])||[])[1],p=(u[2]||"").split(".").sort(),h){for(f=d.event.special[h]||{},m=l[h=(o?f.delegateType:f.bindType)||h]||[],u=u[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=m.length;i--;)a=m[i],!r&&g!==a.origType||n&&n.guid!==a.guid||u&&!u.test(a.namespace)||o&&o!==a.selector&&("**"!==o||!a.selector)||(m.splice(i,1),a.selector&&m.delegateCount--,f.remove&&f.remove.call(t,a));s&&!m.length&&(f.teardown&&!1!==f.teardown.call(t,p,v.handle)||d.removeEvent(t,h,v.handle),delete l[h])}else for(h in l)d.event.remove(t,h+e[c],n,o,!0);d.isEmptyObject(l)&&(delete v.handle,d._removeData(t,"events"))}},trigger:function(e,n,o,r){var i,a,u,s,l,f,m,h=[o||k],p=c.call(e,"type")?e.type:e,g=c.call(e,"namespace")?e.namespace.split("."):[];if(u=f=o=o||k,3!==o.nodeType&&8!==o.nodeType&&!K.test(p+d.event.triggered)&&(p.indexOf(".")>=0&&(g=p.split("."),p=g.shift(),g.sort()),a=p.indexOf(":")<0&&"on"+p,(e=e[d.expando]?e:new d.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:d.makeArray(n,[e]),l=d.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(o,n))){if(!r&&!l.noBubble&&!d.isWindow(o)){for(K.test((s=l.delegateType||p)+p)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(o.ownerDocument||k)&&h.push(f.defaultView||f.parentWindow||t)}for(m=0;(u=h[m++])&&!e.isPropagationStopped();)e.type=m>1?s:l.bindType||p,(i=(d._data(u,"events")||{})[e.type]&&d._data(u,"handle"))&&i.apply(u,n),(i=a&&u[a])&&i.apply&&d.acceptData(u)&&(e.result=i.apply(u,n),!1===e.result&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),n))&&d.acceptData(o)&&a&&o[p]&&!d.isWindow(o)){(f=o[a])&&(o[a]=null),d.event.triggered=p;try{o[p]()}catch(v){}d.event.triggered=void 0,f&&(o[a]=f)}return e.result}},dispatch:function(t){t=d.event.fix(t);var e,n,r,i,a,u=[],s=o.call(arguments),c=(d._data(this,"events")||{})[t.type]||[],l=d.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(u=d.event.handlers.call(this,t,c),e=0;(i=u[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,a=0;(r=i.handlers[a++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,void 0!==(n=((d.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,o,r,i,a=[],u=e.delegateCount,s=t.target;if(u&&s.nodeType&&(!t.button||"click"!==t.type))for(;s!=this;s=s.parentNode||this)if(1===s.nodeType&&(!0!==s.disabled||"click"!==t.type)){for(r=[],i=0;u>i;i++)void 0===r[n=(o=e[i]).selector+" "]&&(r[n]=o.needsContext?d(n,this).index(s)>=0:d.find(n,this,null,[s]).length),r[n]&&r.push(o);r.length&&a.push({elem:s,handlers:r})}return u<e.length&&a.push({elem:this,handlers:e.slice(u)}),a},fix:function(t){if(t[d.expando])return t;var e,n,o,r=t.type,i=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Y.test(r)?this.mouseHooks:G.test(r)?this.keyHooks:{}),o=a.props?this.props.concat(a.props):this.props,t=new d.Event(i),e=o.length;e--;)t[n=o[e]]=i[n];return t.target||(t.target=i.srcElement||k),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,i):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,o,r,i=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=(o=t.target.ownerDocument||k).body,t.pageX=e.clientX+((r=o.documentElement)&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===i||(t.which=1&i?1:2&i?3:4&i?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==tt()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===tt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return d.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return d.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,o){var r=d.extend(new d.Event,n,{type:t,isSimulated:!0,originalEvent:{}});o?d.event.trigger(r,null,e):d.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},d.removeEvent=k.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var o="on"+e;t.detachEvent&&(typeof t[o]===R&&(t[o]=null),t.detachEvent(o,n))},d.Event=function(t,e){return this instanceof d.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Q:Z):this.type=t,e&&d.extend(this,e),this.timeStamp=t&&t.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(t,e)},d.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Q,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Q,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Q,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){d.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,o=this,r=t.relatedTarget,i=t.handleObj;return(!r||r!==o&&!d.contains(o,r))&&(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),l.submitBubbles||(d.event.special.submit={setup:function(){return!d.nodeName(this,"form")&&void d.event.add(this,"click._submit keypress._submit",(function(t){var e=t.target,n=d.nodeName(e,"input")||d.nodeName(e,"button")?e.form:void 0;n&&!d._data(n,"submitBubbles")&&(d.event.add(n,"submit._submit",(function(t){t._submit_bubble=!0})),d._data(n,"submitBubbles",!0))}))},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&d.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!d.nodeName(this,"form")&&void d.event.remove(this,"._submit")}}),l.changeBubbles||(d.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(d.event.add(this,"propertychange._change",(function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)})),d.event.add(this,"click._change",(function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),d.event.simulate("change",this,t,!0)}))),!1):void d.event.add(this,"beforeactivate._change",(function(t){var e=t.target;X.test(e.nodeName)&&!d._data(e,"changeBubbles")&&(d.event.add(e,"change._change",(function(t){!this.parentNode||t.isSimulated||t.isTrigger||d.event.simulate("change",this.parentNode,t,!0)})),d._data(e,"changeBubbles",!0))}))},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return d.event.remove(this,"._change"),!X.test(this.nodeName)}}),l.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){d.event.simulate(e,t.target,d.event.fix(t),!0)};d.event.special[e]={setup:function(){var o=this.ownerDocument||this,r=d._data(o,e);r||o.addEventListener(t,n,!0),d._data(o,e,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this,r=d._data(o,e)-1;r?d._data(o,e,r):(o.removeEventListener(t,n,!0),d._removeData(o,e))}}})),d.fn.extend({on:function(t,e,n,o,r){var i,a;if("object"==typeof t){for(i in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(i,e,n,t[i],r);return this}if(null==n&&null==o?(o=e,n=e=void 0):null==o&&("string"==typeof e?(o=n,n=void 0):(o=n,n=e,e=void 0)),!1===o)o=Z;else if(!o)return this;return 1===r&&(a=o,(o=function(t){return d().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=d.guid++)),this.each((function(){d.event.add(this,t,o,n,e)}))},one:function(t,e,n,o){return this.on(t,e,n,o,1)},off:function(t,e,n){var o,r;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,d(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=Z),this.each((function(){d.event.remove(this,t,n,e)}))},trigger:function(t,e){return this.each((function(){d.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];return n?d.event.trigger(t,e,n,!0):void 0}});var nt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ot=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+nt+")[\\s/>]","i"),it=/^\s+/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ut=/<([\w:]+)/,st=/<tbody/i,ct=/<|&#?\w+;/,lt=/<(?:script|style|link)/i,ft=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^$|\/(?:java|ecma)script/i,mt=/^true\/(.*)/,ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,pt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},gt=et(k).appendChild(k.createElement("div"));function vt(t,e){var n,o,r=0,i=typeof t.getElementsByTagName!==R?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==R?t.querySelectorAll(e||"*"):void 0;if(!i)for(i=[],n=t.childNodes||t;null!=(o=n[r]);r++)!e||d.nodeName(o,e)?i.push(o):d.merge(i,vt(o,e));return void 0===e||e&&d.nodeName(t,e)?d.merge([t],i):i}function bt(t){q.test(t.type)&&(t.defaultChecked=t.checked)}function yt(t,e){return d.nodeName(t,"table")&&d.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function xt(t){return t.type=(null!==d.find.attr(t,"type"))+"/"+t.type,t}function wt(t){var e=mt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function Ct(t,e){for(var n,o=0;null!=(n=t[o]);o++)d._data(n,"globalEval",!e||d._data(e[o],"globalEval"))}function St(t,e){if(1===e.nodeType&&d.hasData(t)){var n,o,r,i=d._data(t),a=d._data(e,i),u=i.events;if(u)for(n in delete a.handle,a.events={},u)for(o=0,r=u[n].length;r>o;o++)d.event.add(e,n,u[n][o]);a.data&&(a.data=d.extend({},a.data))}}function kt(t,e){var n,o,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!l.noCloneEvent&&e[d.expando]){for(o in(r=d._data(e)).events)d.removeEvent(e,o,r.handle);e.removeAttribute(d.expando)}"script"===n&&e.text!==t.text?(xt(e).text=t.text,wt(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),l.html5Clone&&t.innerHTML&&!d.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&q.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}pt.optgroup=pt.option,pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td,d.extend({clone:function(t,e,n){var o,r,i,a,u,s=d.contains(t.ownerDocument,t);if(l.html5Clone||d.isXMLDoc(t)||!rt.test("<"+t.nodeName+">")?i=t.cloneNode(!0):(gt.innerHTML=t.outerHTML,gt.removeChild(i=gt.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||d.isXMLDoc(t)))for(o=vt(i),u=vt(t),a=0;null!=(r=u[a]);++a)o[a]&&kt(r,o[a]);if(e)if(n)for(u=u||vt(t),o=o||vt(i),a=0;null!=(r=u[a]);a++)St(r,o[a]);else St(t,i);return(o=vt(i,"script")).length>0&&Ct(o,!s&&vt(t,"script")),o=u=r=null,i},buildFragment:function(t,e,n,o){for(var r,i,a,u,s,c,f,m=t.length,h=et(e),p=[],g=0;m>g;g++)if((i=t[g])||0===i)if("object"===d.type(i))d.merge(p,i.nodeType?[i]:i);else if(ct.test(i)){for(u=u||h.appendChild(e.createElement("div")),s=(ut.exec(i)||["",""])[1].toLowerCase(),u.innerHTML=(f=pt[s]||pt._default)[1]+i.replace(at,"<$1></$2>")+f[2],r=f[0];r--;)u=u.lastChild;if(!l.leadingWhitespace&&it.test(i)&&p.push(e.createTextNode(it.exec(i)[0])),!l.tbody)for(r=(i="table"!==s||st.test(i)?"<table>"!==f[1]||st.test(i)?0:u:u.firstChild)&&i.childNodes.length;r--;)d.nodeName(c=i.childNodes[r],"tbody")&&!c.childNodes.length&&i.removeChild(c);for(d.merge(p,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=h.lastChild}else p.push(e.createTextNode(i));for(u&&h.removeChild(u),l.appendChecked||d.grep(vt(p,"input"),bt),g=0;i=p[g++];)if((!o||-1===d.inArray(i,o))&&(a=d.contains(i.ownerDocument,i),u=vt(h.appendChild(i),"script"),a&&Ct(u),n))for(r=0;i=u[r++];)dt.test(i.type||"")&&n.push(i);return u=null,h},cleanData:function(t,e){for(var o,r,i,a,u=0,s=d.expando,c=d.cache,f=l.deleteExpando,m=d.event.special;null!=(o=t[u]);u++)if((e||d.acceptData(o))&&(a=(i=o[s])&&c[i])){if(a.events)for(r in a.events)m[r]?d.event.remove(o,r):d.removeEvent(o,r,a.handle);c[i]&&(delete c[i],f?delete o[s]:typeof o.removeAttribute!==R?o.removeAttribute(s):o[s]=null,n.push(i))}}}),d.fn.extend({text:function(t){return W(this,(function(t){return void 0===t?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||k).createTextNode(t))}),null,t,arguments.length)},append:function(){return this.domManip(arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||yt(this,t).appendChild(t)}))},prepend:function(){return this.domManip(arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=yt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},remove:function(t,e){for(var n,o=t?d.filter(t,this):this,r=0;null!=(n=o[r]);r++)e||1!==n.nodeType||d.cleanData(vt(n)),n.parentNode&&(e&&d.contains(n.ownerDocument,n)&&Ct(vt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&d.cleanData(vt(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&d.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return d.clone(this,t,e)}))},html:function(t){return W(this,(function(t){var e=this[0]||{},n=0,o=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ot,""):void 0;if(!("string"!=typeof t||lt.test(t)||!l.htmlSerialize&&rt.test(t)||!l.leadingWhitespace&&it.test(t)||pt[(ut.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(at,"<$1></$2>");try{for(;o>n;n++)1===(e=this[n]||{}).nodeType&&(d.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,(function(e){t=this.parentNode,d.cleanData(vt(this)),t&&t.replaceChild(e,this)})),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=r.apply([],t);var n,o,i,a,u,s,c=0,f=this.length,m=this,h=f-1,p=t[0],g=d.isFunction(p);if(g||f>1&&"string"==typeof p&&!l.checkClone&&ft.test(p))return this.each((function(n){var o=m.eq(n);g&&(t[0]=p.call(this,n,o.html())),o.domManip(t,e)}));if(f&&(n=(s=d.buildFragment(t,this[0].ownerDocument,!1,this)).firstChild,1===s.childNodes.length&&(s=n),n)){for(i=(a=d.map(vt(s,"script"),xt)).length;f>c;c++)o=s,c!==h&&(o=d.clone(o,!0,!0),i&&d.merge(a,vt(o,"script"))),e.call(this[c],o,c);if(i)for(u=a[a.length-1].ownerDocument,d.map(a,wt),c=0;i>c;c++)dt.test((o=a[c]).type||"")&&!d._data(o,"globalEval")&&d.contains(u,o)&&(o.src?d._evalUrl&&d._evalUrl(o.src):d.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ht,"")));s=n=null}return this}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){d.fn[t]=function(t){for(var n,o=0,r=[],a=d(t),u=a.length-1;u>=o;o++)n=o===u?this:this.clone(!0),d(a[o])[e](n),i.apply(r,n.get());return this.pushStack(r)}}));var Tt,Et={};function Ot(e,n){var o,r=d(n.createElement(e)).appendTo(n.body),i=t.getDefaultComputedStyle&&(o=t.getDefaultComputedStyle(r[0]))?o.display:d.css(r[0],"display");return r.detach(),i}function Nt(t){var e=k,n=Et[t];return n||("none"!==(n=Ot(t,e))&&n||((e=((Tt=(Tt||d("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||Tt[0].contentDocument).document).write(),e.close(),n=Ot(t,e),Tt.detach()),Et[t]=n),n}!function(){var t;l.shrinkWrapBlocks=function(){return null!=t?t:(t=!1,(n=k.getElementsByTagName("body")[0])&&n.style?(e=k.createElement("div"),(o=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),typeof e.style.zoom!==R&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(k.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(o),t):void 0);var e,n,o}}();var At,_t,Dt=/^margin/,zt=new RegExp("^("+j+")(?!px)[a-z%]+$","i"),Mt=/^(top|right|bottom|left)$/;function Bt(t,e){return{get:function(){var n=t();if(null!=n)return n?void delete this.get:(this.get=e).apply(this,arguments)}}}t.getComputedStyle?(At=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},_t=function(t,e,n){var o,r,i,a,u=t.style;return a=(n=n||At(t))?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==a||d.contains(t.ownerDocument,t)||(a=d.style(t,e)),zt.test(a)&&Dt.test(e)&&(o=u.width,r=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=o,u.minWidth=r,u.maxWidth=i)),void 0===a?a:a+""}):k.documentElement.currentStyle&&(At=function(t){return t.currentStyle},_t=function(t,e,n){var o,r,i,a,u=t.style;return null==(a=(n=n||At(t))?n[e]:void 0)&&u&&u[e]&&(a=u[e]),zt.test(a)&&!Mt.test(e)&&(o=u.left,(i=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),u.left="fontSize"===e?"1em":a,a=u.pixelLeft+"px",u.left=o,i&&(r.left=i)),void 0===a?a:a+""||"auto"}),function(){var e,n,o,r,i,a,u;if((e=k.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=(o=e.getElementsByTagName("a")[0])&&o.style){function s(){var e,n,o,s;(n=k.getElementsByTagName("body")[0])&&n.style&&(e=k.createElement("div"),(o=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(o).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=i=!1,u=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(e,null)||{}).top,i="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,(s=e.appendChild(k.createElement("div"))).style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",e.style.width="1px",u=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(s=e.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===s[0].offsetHeight)&&(s[0].style.display="",s[1].style.display="none",a=0===s[0].offsetHeight),n.removeChild(o))}n.cssText="float:left;opacity:.5",l.opacity="0.5"===n.opacity,l.cssFloat=!!n.cssFloat,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===e.style.backgroundClip,l.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,d.extend(l,{reliableHiddenOffsets:function(){return null==a&&s(),a},boxSizingReliable:function(){return null==i&&s(),i},pixelPosition:function(){return null==r&&s(),r},reliableMarginRight:function(){return null==u&&s(),u}})}}(),d.swap=function(t,e,n,o){var r,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];for(i in r=n.apply(t,o||[]),e)t.style[i]=a[i];return r};var Rt=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,Pt=/^(none|table(?!-c[ea]).+)/,Ht=new RegExp("^("+j+")(.*)$","i"),Lt=new RegExp("^([+-])=("+j+")","i"),Ft={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},jt=["Webkit","O","Moz","ms"];function $t(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),o=e,r=jt.length;r--;)if((e=jt[r]+n)in t)return e;return o}function Ut(t,e){for(var n,o,r,i=[],a=0,u=t.length;u>a;a++)(o=t[a]).style&&(i[a]=d._data(o,"olddisplay"),n=o.style.display,e?(i[a]||"none"!==n||(o.style.display=""),""===o.style.display&&U(o)&&(i[a]=d._data(o,"olddisplay",Nt(o.nodeName)))):(r=U(o),(n&&"none"!==n||!r)&&d._data(o,"olddisplay",r?n:d.css(o,"display"))));for(a=0;u>a;a++)(o=t[a]).style&&(e&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=e?i[a]||"":"none"));return t}function Wt(t,e,n){var o=Ht.exec(e);return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):e}function qt(t,e,n,o,r){for(var i=n===(o?"border":"content")?4:"width"===e?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=d.css(t,n+$[i],!0,r)),o?("content"===n&&(a-=d.css(t,"padding"+$[i],!0,r)),"margin"!==n&&(a-=d.css(t,"border"+$[i]+"Width",!0,r))):(a+=d.css(t,"padding"+$[i],!0,r),"padding"!==n&&(a+=d.css(t,"border"+$[i]+"Width",!0,r)));return a}function Xt(t,e,n){var o=!0,r="width"===e?t.offsetWidth:t.offsetHeight,i=At(t),a=l.boxSizing&&"border-box"===d.css(t,"boxSizing",!1,i);if(0>=r||null==r){if((0>(r=_t(t,e,i))||null==r)&&(r=t.style[e]),zt.test(r))return r;o=a&&(l.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+qt(t,e,n||(a?"border":"content"),o,i)+"px"}function Gt(t,e,n,o,r){return new Gt.prototype.init(t,e,n,o,r)}d.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=_t(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:l.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,i,a,u=d.camelCase(e),s=t.style;if(e=d.cssProps[u]||(d.cssProps[u]=$t(s,u)),a=d.cssHooks[e]||d.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,o))?r:s[e];if("string"==(i=typeof n)&&(r=Lt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(d.css(t,e)),i="number"),null!=n&&n==n&&("number"!==i||d.cssNumber[u]||(n+="px"),l.clearCloneStyle||""!==n||0!==e.indexOf("background")||(s[e]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(t,n,o)))))try{s[e]=n}catch(c){}}},css:function(t,e,n,o){var r,i,a,u=d.camelCase(e);return e=d.cssProps[u]||(d.cssProps[u]=$t(t.style,u)),(a=d.cssHooks[e]||d.cssHooks[u])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=_t(t,e,o)),"normal"===i&&e in Vt&&(i=Vt[e]),""===n||n?(r=parseFloat(i),!0===n||d.isNumeric(r)?r||0:i):i}}),d.each(["height","width"],(function(t,e){d.cssHooks[e]={get:function(t,n,o){return n?Pt.test(d.css(t,"display"))&&0===t.offsetWidth?d.swap(t,Ft,(function(){return Xt(t,e,o)})):Xt(t,e,o):void 0},set:function(t,n,o){var r=o&&At(t);return Wt(0,n,o?qt(t,e,o,l.boxSizing&&"border-box"===d.css(t,"boxSizing",!1,r),r):0)}}})),l.opacity||(d.cssHooks.opacity={get:function(t,e){return It.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,o=t.currentStyle,r=d.isNumeric(e)?"alpha(opacity="+100*e+")":"",i=o&&o.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===d.trim(i.replace(Rt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||o&&!o.filter)||(n.filter=Rt.test(i)?i.replace(Rt,r):i+" "+r)}}),d.cssHooks.marginRight=Bt(l.reliableMarginRight,(function(t,e){return e?d.swap(t,{display:"inline-block"},_t,[t,"marginRight"]):void 0})),d.each({margin:"",padding:"",border:"Width"},(function(t,e){d.cssHooks[t+e]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];4>o;o++)r[t+$[o]+e]=i[o]||i[o-2]||i[0];return r}},Dt.test(t)||(d.cssHooks[t+e].set=Wt)})),d.fn.extend({css:function(t,e){return W(this,(function(t,e,n){var o,r,i={},a=0;if(d.isArray(e)){for(o=At(t),r=e.length;r>a;a++)i[e[a]]=d.css(t,e[a],!1,o);return i}return void 0!==n?d.style(t,e,n):d.css(t,e)}),t,e,arguments.length>1)},show:function(){return Ut(this,!0)},hide:function(){return Ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){U(this)?d(this).show():d(this).hide()}))}}),d.Tween=Gt,(Gt.prototype={constructor:Gt,init:function(t,e,n,o,r,i){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=o,this.unit=i||(d.cssNumber[n]?"":"px")},cur:function(){var t=Gt.propHooks[this.prop];return t&&t.get?t.get(this):Gt.propHooks._default.get(this)},run:function(t){var e,n=Gt.propHooks[this.prop];return this.pos=e=this.options.duration?d.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Gt.propHooks._default.set(this),this}}).init.prototype=Gt.prototype,(Gt.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=d.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){d.fx.step[t.prop]?d.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[d.cssProps[t.prop]]||d.cssHooks[t.prop])?d.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}}).scrollTop=Gt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},d.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},d.fx=Gt.prototype.init,d.fx.step={};var Yt,Kt,Jt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+j+")([a-z%]*)$","i"),Zt=/queueHooks$/,te=[function(t,e,n){var o,r,i,a,u,s,c,f=this,m={},h=t.style,p=t.nodeType&&U(t),g=d._data(t,"fxshow");for(o in n.queue||(null==(u=d._queueHooks(t,"fx")).unqueued&&(u.unqueued=0,s=u.empty.fire,u.empty.fire=function(){u.unqueued||s()}),u.unqueued++,f.always((function(){f.always((function(){u.unqueued--,d.queue(t,"fx").length||u.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=d.css(t,"display"))?d._data(t,"olddisplay")||Nt(t.nodeName):c)&&"none"===d.css(t,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Nt(t.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.shrinkWrapBlocks()||f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),e)if(Jt.exec(r=e[o])){if(delete e[o],i=i||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[o])continue;p=!0}m[o]=g&&g[o]||d.style(t,o)}else c=void 0;if(d.isEmptyObject(m))"inline"===("none"===c?Nt(t.nodeName):c)&&(h.display=c);else for(o in g?"hidden"in g&&(p=g.hidden):g=d._data(t,"fxshow",{}),i&&(g.hidden=!p),p?d(t).show():f.done((function(){d(t).hide()})),f.done((function(){var e;for(e in d._removeData(t,"fxshow"),m)d.style(t,e,m[e])})),m)a=re(p?g[o]:0,o,f),o in g||(g[o]=a.start,p&&(a.end=a.start,a.start="width"===o||"height"===o?1:0))}],ee={"*":[function(t,e){var n=this.createTween(t,e),o=n.cur(),r=Qt.exec(e),i=r&&r[3]||(d.cssNumber[t]?"":"px"),a=(d.cssNumber[t]||"px"!==i&&+o)&&Qt.exec(d.css(n.elem,t)),u=1,s=20;if(a&&a[3]!==i){i=i||a[3],r=r||[],a=+o||1;do{d.style(n.elem,t,(a/=u=u||".5")+i)}while(u!==(u=n.cur()/o)&&1!==u&&--s)}return r&&(a=n.start=+a||+o||0,n.unit=i,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function ne(){return setTimeout((function(){Yt=void 0})),Yt=d.now()}function oe(t,e){var n,o={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)o["margin"+(n=$[r])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function re(t,e,n){for(var o,r=(ee[e]||[]).concat(ee["*"]),i=0,a=r.length;a>i;i++)if(o=r[i].call(n,e,t))return o}function ie(t,e,n){var o,r,i=0,a=te.length,u=d.Deferred().always((function(){delete s.elem})),s=function(){if(r)return!1;for(var e=Yt||ne(),n=Math.max(0,c.startTime+c.duration-e),o=1-(n/c.duration||0),i=0,a=c.tweens.length;a>i;i++)c.tweens[i].run(o);return u.notifyWith(t,[c,o,n]),1>o&&a?n:(u.resolveWith(t,[c]),!1)},c=u.promise({elem:t,props:d.extend({},e),opts:d.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Yt||ne(),duration:n.duration,tweens:[],createTween:function(e,n){var o=d.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(o),o},stop:function(e){var n=0,o=e?c.tweens.length:0;if(r)return this;for(r=!0;o>n;n++)c.tweens[n].run(1);return e?u.resolveWith(t,[c,e]):u.rejectWith(t,[c,e]),this}}),l=c.props;for(function(t,e){var n,o,r,i,a;for(n in t)if(r=e[o=d.camelCase(n)],d.isArray(i=t[n])&&(r=i[1],i=t[n]=i[0]),n!==o&&(t[o]=i,delete t[n]),(a=d.cssHooks[o])&&"expand"in a)for(n in i=a.expand(i),delete t[o],i)n in t||(t[n]=i[n],e[n]=r);else e[o]=r}(l,c.opts.specialEasing);a>i;i++)if(o=te[i].call(c,t,l,c.opts))return o;return d.map(l,re,c),d.isFunction(c.opts.start)&&c.opts.start.call(t,c),d.fx.timer(d.extend(s,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}d.Animation=d.extend(ie,{tweener:function(t,e){d.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,o=0,r=t.length;r>o;o++)ee[n=t[o]]=ee[n]||[],ee[n].unshift(e)},prefilter:function(t,e){e?te.unshift(t):te.push(t)}}),d.speed=function(t,e,n){var o=t&&"object"==typeof t?d.extend({},t):{complete:n||!n&&e||d.isFunction(t)&&t,duration:t,easing:n&&e||e&&!d.isFunction(e)&&e};return o.duration=d.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in d.fx.speeds?d.fx.speeds[o.duration]:d.fx.speeds._default,(null==o.queue||!0===o.queue)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){d.isFunction(o.old)&&o.old.call(this),o.queue&&d.dequeue(this,o.queue)},o},d.fn.extend({fadeTo:function(t,e,n,o){return this.filter(U).css("opacity",0).show().end().animate({opacity:e},t,n,o)},animate:function(t,e,n,o){var r=d.isEmptyObject(t),i=d.speed(e,n,o),a=function(){var e=ie(this,d.extend({},t),i);(r||d._data(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(t,e,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",i=d.timers,a=d._data(this);if(r)a[r]&&a[r].stop&&o(a[r]);else for(r in a)a[r]&&a[r].stop&&Zt.test(r)&&o(a[r]);for(r=i.length;r--;)i[r].elem!==this||null!=t&&i[r].queue!==t||(i[r].anim.stop(n),e=!1,i.splice(r,1));(e||!n)&&d.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=d._data(this),o=n[t+"queue"],r=n[t+"queueHooks"],i=d.timers,a=o?o.length:0;for(n.finish=!0,d.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;a>e;e++)o[e]&&o[e].finish&&o[e].finish.call(this);delete n.finish}))}}),d.each(["toggle","show","hide"],(function(t,e){var n=d.fn[e];d.fn[e]=function(t,o,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(oe(e,!0),t,o,r)}})),d.each({slideDown:oe("show"),slideUp:oe("hide"),slideToggle:oe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){d.fn[t]=function(t,n,o){return this.animate(e,t,n,o)}})),d.timers=[],d.fx.tick=function(){var t,e=d.timers,n=0;for(Yt=d.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||d.fx.stop(),Yt=void 0},d.fx.timer=function(t){d.timers.push(t),t()?d.fx.start():d.timers.pop()},d.fx.interval=13,d.fx.start=function(){Kt||(Kt=setInterval(d.fx.tick,d.fx.interval))},d.fx.stop=function(){clearInterval(Kt),Kt=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(t,e){return t=d.fx&&d.fx.speeds[t]||t,this.queue(e=e||"fx",(function(e,n){var o=setTimeout(e,t);n.stop=function(){clearTimeout(o)}}))},function(){var t,e,n,o,r;(e=k.createElement("div")).setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=e.getElementsByTagName("a")[0],r=(n=k.createElement("select")).appendChild(k.createElement("option")),t=e.getElementsByTagName("input")[0],o.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(o.getAttribute("style")),l.hrefNormalized="/a"===o.getAttribute("href"),l.checkOn=!!t.value,l.optSelected=r.selected,l.enctype=!!k.createElement("form").enctype,n.disabled=!0,l.optDisabled=!r.disabled,(t=k.createElement("input")).setAttribute("value",""),l.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),l.radioValue="t"===t.value}();var ae=/\r/g;d.fn.extend({val:function(t){var e,n,o,r=this[0];return arguments.length?(o=d.isFunction(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=o?t.call(this,n,d(this).val()):t)?r="":"number"==typeof r?r+="":d.isArray(r)&&(r=d.map(r,(function(t){return null==t?"":t+""}))),(e=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=d.valHooks[r.type]||d.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ae,""):null==n?"":n:void 0}}),d.extend({valHooks:{option:{get:function(t){var e=d.find.attr(t,"value");return null!=e?e:d.trim(d.text(t))}},select:{get:function(t){for(var e,n,o=t.options,r=t.selectedIndex,i="select-one"===t.type||0>r,a=i?null:[],u=i?r+1:o.length,s=0>r?u:i?r:0;u>s;s++)if(!(!(n=o[s]).selected&&s!==r||(l.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&d.nodeName(n.parentNode,"optgroup"))){if(e=d(n).val(),i)return e;a.push(e)}return a},set:function(t,e){for(var n,o,r=t.options,i=d.makeArray(e),a=r.length;a--;)if(d.inArray(d.valHooks.option.get(o=r[a]),i)>=0)try{o.selected=n=!0}catch(u){}else o.selected=!1;return n||(t.selectedIndex=-1),r}}}}),d.each(["radio","checkbox"],(function(){d.valHooks[this]={set:function(t,e){return d.isArray(e)?t.checked=d.inArray(d(t).val(),e)>=0:void 0}},l.checkOn||(d.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var ue,se,ce=d.expr.attrHandle,le=/^(?:checked|selected)$/i,fe=l.getSetAttribute,de=l.input;d.fn.extend({attr:function(t,e){return W(this,d.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){d.removeAttr(this,t)}))}}),d.extend({attr:function(t,e,n){var o,r,i=t.nodeType;if(t&&3!==i&&8!==i&&2!==i)return typeof t.getAttribute===R?d.prop(t,e,n):(1===i&&d.isXMLDoc(t)||(e=e.toLowerCase(),o=d.attrHooks[e]||(d.expr.match.bool.test(e)?se:ue)),void 0===n?o&&"get"in o&&null!==(r=o.get(t,e))?r:null==(r=d.find.attr(t,e))?void 0:r:null!==n?o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void d.removeAttr(t,e))},removeAttr:function(t,e){var n,o,r=0,i=e&&e.match(_);if(i&&1===t.nodeType)for(;n=i[r++];)o=d.propFix[n]||n,d.expr.match.bool.test(n)?de&&fe||!le.test(n)?t[o]=!1:t[d.camelCase("default-"+n)]=t[o]=!1:d.attr(t,n,""),t.removeAttribute(fe?n:o)},attrHooks:{type:{set:function(t,e){if(!l.radioValue&&"radio"===e&&d.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),se={set:function(t,e,n){return!1===e?d.removeAttr(t,n):de&&fe||!le.test(n)?t.setAttribute(!fe&&d.propFix[n]||n,n):t[d.camelCase("default-"+n)]=t[n]=!0,n}},d.each(d.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ce[e]||d.find.attr;ce[e]=de&&fe||!le.test(e)?function(t,e,o){var r,i;return o||(i=ce[e],ce[e]=r,r=null!=n(t,e,o)?e.toLowerCase():null,ce[e]=i),r}:function(t,e,n){return n?void 0:t[d.camelCase("default-"+e)]?e.toLowerCase():null}})),de&&fe||(d.attrHooks.value={set:function(t,e,n){return d.nodeName(t,"input")?void(t.defaultValue=e):ue&&ue.set(t,e,n)}}),fe||(ue={set:function(t,e,n){var o=t.getAttributeNode(n);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(n)),o.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},ce.id=ce.name=ce.coords=function(t,e,n){var o;return n?void 0:(o=t.getAttributeNode(e))&&""!==o.value?o.value:null},d.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:ue.set},d.attrHooks.contenteditable={set:function(t,e,n){ue.set(t,""!==e&&e,n)}},d.each(["width","height"],(function(t,e){d.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}}))),l.style||(d.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var me=/^(?:input|select|textarea|button|object)$/i,he=/^(?:a|area)$/i;d.fn.extend({prop:function(t,e){return W(this,d.prop,t,e,arguments.length>1)},removeProp:function(t){return t=d.propFix[t]||t,this.each((function(){try{this[t]=void 0,delete this[t]}catch(e){}}))}}),d.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var o,r,i=t.nodeType;if(t&&3!==i&&8!==i&&2!==i)return(1!==i||!d.isXMLDoc(t))&&(r=d.propHooks[e=d.propFix[e]||e]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(t,n,e))?o:t[e]=n:r&&"get"in r&&null!==(o=r.get(t,e))?o:t[e]},propHooks:{tabIndex:{get:function(t){var e=d.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}}}),l.hrefNormalized||d.each(["href","src"],(function(t,e){d.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}})),l.optSelected||(d.propHooks.selected={get:function(t){return null}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){d.propFix[this.toLowerCase()]=this})),l.enctype||(d.propFix.enctype="encoding");var pe=/[\t\r\n\f]/g;d.fn.extend({addClass:function(t){var e,n,o,r,i,a,u=0,s=this.length,c="string"==typeof t&&t;if(d.isFunction(t))return this.each((function(e){d(this).addClass(t.call(this,e,this.className))}));if(c)for(e=(t||"").match(_)||[];s>u;u++)if(o=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(pe," "):" ")){for(i=0;r=e[i++];)o.indexOf(" "+r+" ")<0&&(o+=r+" ");a=d.trim(o),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,o,r,i,a,u=0,s=this.length,c=0===arguments.length||"string"==typeof t&&t;if(d.isFunction(t))return this.each((function(e){d(this).removeClass(t.call(this,e,this.className))}));if(c)for(e=(t||"").match(_)||[];s>u;u++)if(o=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(pe," "):"")){for(i=0;r=e[i++];)for(;o.indexOf(" "+r+" ")>=0;)o=o.replace(" "+r+" "," ");a=t?d.trim(o):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(d.isFunction(t)?function(n){d(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,o=0,r=d(this),i=t.match(_)||[];e=i[o++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===R||"boolean"===n)&&(this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===t?"":d._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,o=this.length;o>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(pe," ").indexOf(e)>=0)return!0;return!1}}),d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){d.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),d.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,o){return this.on(e,t,n,o)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ge=d.now(),ve=/\?/,be=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;d.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,o=null,r=d.trim(e+"");return r&&!d.trim(r.replace(be,(function(t,e,r,i){return n&&e&&(o=0),0===o?t:(n=r||e,o+=!i-!r,"")})))?Function("return "+r)():d.error("Invalid JSON: "+e)},d.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?n=(new DOMParser).parseFromString(e,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+e),n};var ye,xe,we=/#.*$/,Ce=/([?&])_=[^&]*/,Se=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ke=/^(?:GET|HEAD)$/,Te=/^\/\//,Ee=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Oe={},Ne={},Ae="*/".concat("*");try{xe=location.href}catch(Ke){(xe=k.createElement("a")).href="",xe=xe.href}function _e(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var o,r=0,i=e.toLowerCase().match(_)||[];if(d.isFunction(n))for(;o=i[r++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(t[o]=t[o]||[]).unshift(n)):(t[o]=t[o]||[]).push(n)}}function De(t,e,n,o){var r={},i=t===Ne;function a(u){var s;return r[u]=!0,d.each(t[u]||[],(function(t,u){var c=u(e,n,o);return"string"!=typeof c||i||r[c]?i?!(s=c):void 0:(e.dataTypes.unshift(c),a(c),!1)})),s}return a(e.dataTypes[0])||!r["*"]&&a("*")}function ze(t,e){var n,o,r=d.ajaxSettings.flatOptions||{};for(o in e)void 0!==e[o]&&((r[o]?t:n||(n={}))[o]=e[o]);return n&&d.extend(!0,t,n),t}ye=Ee.exec(xe.toLowerCase())||[],d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ye[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ae,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,d.ajaxSettings),e):ze(d.ajaxSettings,t)},ajaxPrefilter:_e(Oe),ajaxTransport:_e(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var n,o,r,i,a,u,s,c,l=d.ajaxSetup({},e=e||{}),f=l.context||l,m=l.context&&(f.nodeType||f.jquery)?d(f):d.event,h=d.Deferred(),p=d.Callbacks("once memory"),g=l.statusCode||{},v={},b={},y=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!c)for(c={};e=Se.exec(i);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?i:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(l.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return s&&s.abort(e),S(0,e),this}};if(h.promise(w).complete=p.add,w.success=w.done,w.error=w.fail,l.url=((t||l.url||xe)+"").replace(we,"").replace(Te,ye[1]+"//"),l.type=e.method||e.type||l.method||l.type,l.dataTypes=d.trim(l.dataType||"*").toLowerCase().match(_)||[""],null==l.crossDomain&&(n=Ee.exec(l.url.toLowerCase()),l.crossDomain=!(!n||n[1]===ye[1]&&n[2]===ye[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(ye[3]||("http:"===ye[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=d.param(l.data,l.traditional)),De(Oe,l,e,w),2===y)return w;for(o in(u=l.global)&&0==d.active++&&d.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!ke.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(ve.test(r)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Ce.test(r)?r.replace(Ce,"$1_="+ge++):r+(ve.test(r)?"&":"?")+"_="+ge++)),l.ifModified&&(d.lastModified[r]&&w.setRequestHeader("If-Modified-Since",d.lastModified[r]),d.etag[r]&&w.setRequestHeader("If-None-Match",d.etag[r])),(l.data&&l.hasContent&&!1!==l.contentType||e.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Ae+"; q=0.01":""):l.accepts["*"]),l.headers)w.setRequestHeader(o,l.headers[o]);if(l.beforeSend&&(!1===l.beforeSend.call(f,w,l)||2===y))return w.abort();for(o in x="abort",{success:1,error:1,complete:1})w[o](l[o]);if(s=De(Ne,l,e,w)){w.readyState=1,u&&m.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(a=setTimeout((function(){w.abort("timeout")}),l.timeout));try{y=1,s.send(v,S)}catch(C){if(!(2>y))throw C;S(-1,C)}}else S(-1,"No Transport");function S(t,e,n,o){var c,v,b,x,C,S=e;2!==y&&(y=2,a&&clearTimeout(a),s=void 0,i=o||"",w.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(x=function(t,e,n){for(var o,r,i,a,u=t.contents,s=t.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in u)if(u[a]&&u[a].test(r)){s.unshift(a);break}if(s[0]in n)i=s[0];else{for(a in n){if(!s[0]||t.converters[a+" "+s[0]]){i=a;break}o||(o=a)}i=i||o}return i?(i!==s[0]&&s.unshift(i),n[i]):void 0}(l,w,n)),x=function(t,e,n,o){var r,i,a,u,s,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(i=l.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!s&&o&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s=i,i=l.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=c[s+" "+i]||c["* "+i]))for(r in c)if((u=r.split(" "))[1]===i&&(a=c[s+" "+u[0]]||c["* "+u[0]])){!0===a?a=c[r]:!0!==c[r]&&(i=u[0],l.unshift(u[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+s+" to "+i}}}return{state:"success",data:e}}(l,x,w,c),c?(l.ifModified&&((C=w.getResponseHeader("Last-Modified"))&&(d.lastModified[r]=C),(C=w.getResponseHeader("etag"))&&(d.etag[r]=C)),204===t||"HEAD"===l.type?S="nocontent":304===t?S="notmodified":(S=x.state,v=x.data,c=!(b=x.error))):(b=S,(t||!S)&&(S="error",0>t&&(t=0))),w.status=t,w.statusText=(e||S)+"",c?h.resolveWith(f,[v,S,w]):h.rejectWith(f,[w,S,b]),w.statusCode(g),g=void 0,u&&m.trigger(c?"ajaxSuccess":"ajaxError",[w,l,c?v:b]),p.fireWith(f,[w,S]),u&&(m.trigger("ajaxComplete",[w,l]),--d.active||d.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return d.get(t,e,n,"json")},getScript:function(t,e){return d.get(t,void 0,e,"script")}}),d.each(["get","post"],(function(t,e){d[e]=function(t,n,o,r){return d.isFunction(n)&&(r=r||o,o=n,n=void 0),d.ajax({url:t,type:e,dataType:r,data:n,success:o})}})),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){d.fn[e]=function(t){return this.on(e,t)}})),d._evalUrl=function(t){return d.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},d.fn.extend({wrapAll:function(t){if(d.isFunction(t))return this.each((function(e){d(this).wrapAll(t.call(this,e))}));if(this[0]){var e=d(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t})).append(this)}return this},wrapInner:function(t){return this.each(d.isFunction(t)?function(e){d(this).wrapInner(t.call(this,e))}:function(){var e=d(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=d.isFunction(t);return this.each((function(n){d(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(){return this.parent().each((function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)})).end()}}),d.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||d.css(t,"display"))},d.expr.filters.visible=function(t){return!d.expr.filters.hidden(t)};var Me=/%20/g,Be=/\[\]$/,Re=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function He(t,e,n,o){var r;if(d.isArray(e))d.each(e,(function(e,r){n||Be.test(t)?o(t,r):He(t+"["+("object"==typeof r?e:"")+"]",r,n,o)}));else if(n||"object"!==d.type(e))o(t,e);else for(r in e)He(t+"["+r+"]",e[r],n,o)}d.param=function(t,e){var n,o=[],r=function(t,e){e=d.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=d.ajaxSettings&&d.ajaxSettings.traditional),d.isArray(t)||t.jquery&&!d.isPlainObject(t))d.each(t,(function(){r(this.name,this.value)}));else for(n in t)He(n,t[n],e,r);return o.join("&").replace(Me,"+")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=d.prop(this,"elements");return t?d.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!d(this).is(":disabled")&&Pe.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!q.test(t))})).map((function(t,e){var n=d(this).val();return null==n?null:d.isArray(n)?d.map(n,(function(t){return{name:e.name,value:t.replace(Re,"\r\n")}})):{name:e.name,value:n.replace(Re,"\r\n")}})).get()}}),d.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&je()||function(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:je;var Le=0,Fe={},Ve=d.ajaxSettings.xhr();function je(){try{return new t.XMLHttpRequest}catch(e){}}t.ActiveXObject&&d(t).on("unload",(function(){for(var t in Fe)Fe[t](void 0,!0)})),l.cors=!!Ve&&"withCredentials"in Ve,(Ve=l.ajax=!!Ve)&&d.ajaxTransport((function(t){var e;if(!t.crossDomain||l.cors)return{send:function(n,o){var r,i=t.xhr(),a=++Le;if(i.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)i[r]=t.xhrFields[r];for(r in t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)void 0!==n[r]&&i.setRequestHeader(r,n[r]+"");i.send(t.hasContent&&t.data||null),e=function(n,r){var u,s,c;if(e&&(r||4===i.readyState))if(delete Fe[a],e=void 0,i.onreadystatechange=d.noop,r)4!==i.readyState&&i.abort();else{c={},u=i.status,"string"==typeof i.responseText&&(c.text=i.responseText);try{s=i.statusText}catch(l){s=""}u||!t.isLocal||t.crossDomain?1223===u&&(u=204):u=c.text?200:404}c&&o(u,s,c,i.getAllResponseHeaders())},t.async?4===i.readyState?setTimeout(e):i.onreadystatechange=Fe[a]=e:e()},abort:function(){e&&e(void 0,!0)}}})),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return d.globalEval(t),t}}}),d.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)})),d.ajaxTransport("script",(function(t){if(t.crossDomain){var e,n=k.head||d("head")[0]||k.documentElement;return{send:function(o,r){(e=k.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}}));var $e=[],Ue=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||d.expando+"_"+ge++;return this[t]=!0,t}}),d.ajaxPrefilter("json jsonp",(function(e,n,o){var r,i,a,u=!1!==e.jsonp&&(Ue.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(e.data)&&"data");return u||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=d.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Ue,"$1"+r):!1!==e.jsonp&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||d.error(r+" was not called"),a[0]},e.dataTypes[0]="json",i=t[r],t[r]=function(){a=arguments},o.always((function(){t[r]=i,e[r]&&(e.jsonpCallback=n.jsonpCallback,$e.push(r)),a&&d.isFunction(i)&&i(a[0]),a=i=void 0})),"script"):void 0})),d.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||k;var o=x.exec(t),r=!n&&[];return o?[e.createElement(o[1])]:(o=d.buildFragment([t],e,r),r&&r.length&&d(r).remove(),d.merge([],o.childNodes))};var We=d.fn.load;d.fn.load=function(t,e,n){if("string"!=typeof t&&We)return We.apply(this,arguments);var o,r,i,a=this,u=t.indexOf(" ");return u>=0&&(o=d.trim(t.slice(u,t.length)),t=t.slice(0,u)),d.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&d.ajax({url:t,type:i,dataType:"html",data:e}).done((function(t){r=arguments,a.html(o?d("<div>").append(d.parseHTML(t)).find(o):t)})).complete(n&&function(t,e){a.each(n,r||[t.responseText,e,t])}),this},d.expr.filters.animated=function(t){return d.grep(d.timers,(function(e){return t===e.elem})).length};var qe=t.document.documentElement;function Xe(t){return d.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}d.offset={setOffset:function(t,e,n){var o,r,i,a,u,s,c=d.css(t,"position"),l=d(t),f={};"static"===c&&(t.style.position="relative"),u=l.offset(),i=d.css(t,"top"),s=d.css(t,"left"),("absolute"===c||"fixed"===c)&&d.inArray("auto",[i,s])>-1?(a=(o=l.position()).top,r=o.left):(a=parseFloat(i)||0,r=parseFloat(s)||0),d.isFunction(e)&&(e=e.call(t,n,u)),null!=e.top&&(f.top=e.top-u.top+a),null!=e.left&&(f.left=e.left-u.left+r),"using"in e?e.using.call(t,f):l.css(f)}},d.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){d.offset.setOffset(this,t,e)}));var e,n,o={top:0,left:0},r=this[0],i=r&&r.ownerDocument;return i?d.contains(e=i.documentElement,r)?(typeof r.getBoundingClientRect!==R&&(o=r.getBoundingClientRect()),n=Xe(i),{top:o.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:o.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):o:void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},o=this[0];return"fixed"===d.css(o,"position")?e=o.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),d.nodeName(t[0],"html")||(n=t.offset()),n.top+=d.css(t[0],"borderTopWidth",!0),n.left+=d.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-d.css(o,"marginTop",!0),left:e.left-n.left-d.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||qe;t&&!d.nodeName(t,"html")&&"static"===d.css(t,"position");)t=t.offsetParent;return t||qe}))}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n=/Y/.test(e);d.fn[t]=function(o){return W(this,(function(t,o,r){var i=Xe(t);return void 0===r?i?e in i?i[e]:i.document.documentElement[o]:t[o]:void(i?i.scrollTo(n?d(i).scrollLeft():r,n?r:d(i).scrollTop()):t[o]=r)}),t,o,arguments.length,null)}})),d.each(["top","left"],(function(t,e){d.cssHooks[e]=Bt(l.pixelPosition,(function(t,n){return n?(n=_t(t,e),zt.test(n)?d(t).position()[e]+"px":n):void 0}))})),d.each({Height:"height",Width:"width"},(function(t,e){d.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,o){d.fn[o]=function(o,r){var i=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===r?"margin":"border");return W(this,(function(e,n,o){var r;return d.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?d.css(e,n,a):d.style(e,n,o,a)}),e,i?o:void 0,i,null)}}))})),d.fn.size=function(){return this.length},d.fn.andSelf=d.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return d}));var Ge=t.jQuery,Ye=t.$;return d.noConflict=function(e){return t.$===d&&(t.$=Ye),e&&t.jQuery===d&&(t.jQuery=Ge),d},typeof e===R&&(t.jQuery=t.$=d),d})),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;return t(this).one("bsTransitionEnd",(function(){n=!0})),setTimeout((function(){n||t(o).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})}))}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function o(){a.detach().trigger("closed.bs.alert").remove()}var r=t(this),i=r.attr("data-target");i||(i=(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var a=t(i);e&&e.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o())};var o=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var o=t(this),r=o.data("bs.alert");r||o.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(o)}))},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var o=t(this),r=o.data("bs.button");r||o.data("bs.button",r=new n(this,"object"==typeof e&&e)),"toggle"==e?r.toggle():e&&r.setState(e)}))}var n=function(e,o){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,o),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",o=this.$element,r=o.is("input")?"val":"html",i=o.data();e+="Text",null==i.resetText&&o.data("resetText",o[r]()),setTimeout(t.proxy((function(){o[r](null==i[e]?this.options[e]:i[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,o.removeClass(n).removeAttr(n))}),this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(n){var o=t(n.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var o=t(this),r=o.data("bs.carousel"),i=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:i.slide;r||o.data("bs.carousel",r=new n(this,i)),"number"==typeof e?r.to(e):a?r[a]():i.interval&&r.pause().cycle()}))}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);return("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap?e:this.$items.eq((n+("prev"==t?-1:1))%this.$items.length)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,o){var r=this.$element.find(".item.active"),i=o||this.getItemForDirection(e,r),a=this.interval,u="next"==e?"left":"right",s=this;if(i.hasClass("active"))return this.sliding=!1;var c=i[0],l=t.Event("slide.bs.carousel",{relatedTarget:c,direction:u});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(i)]);f&&f.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:u});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),r.addClass(u),i.addClass(u),r.one("bsTransitionEnd",(function(){i.removeClass([e,u].join(" ")).addClass("active"),r.removeClass(["active",u].join(" ")),s.sliding=!1,setTimeout((function(){s.$element.trigger(d)}),0)})).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var r=function(n){var o,r=t(this),i=t(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var a=t.extend({},i.data(),r.data()),u=r.attr("data-slide-to");u&&(a.interval=!1),e.call(i,a),u&&i.data("bs.carousel").to(u),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var n=t(this);e.call(n,n.data())}))}))}(jQuery),function(t){"use strict";function e(e){var n,o=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function n(e){return this.each((function(){var n=t(this),r=n.data("bs.collapse"),i=t.extend({},o.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),r||n.data("bs.collapse",r=new o(this,i)),"string"==typeof e&&r[e]()}))}var o=function(e,n){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.6",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var u=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return u.call(this);var s=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(u,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][s])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]()),this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION):r.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy((function(n,o){var r=t(o);this.addAriaAndCollapsedClass(e(r),r)}),this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(o){var r=t(this);r.attr("data-target")||o.preventDefault();var i=e(r),a=i.data("bs.collapse")?"toggle":r.data();n.call(i,a)}))}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var o=n&&t(n);return o&&o.length?o:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(r).each((function(){var o=t(this),r=e(o),i={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(o.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",i)))))})))}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',i=function(e){t(e).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.6",i.prototype.toggle=function(o){var r=t(this);if(!r.is(".disabled, :disabled")){var i=e(r),a=i.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var u={relatedTarget:this};if(i.trigger(o=t.Event("show.bs.dropdown",u)),o.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(t.Event("shown.bs.dropdown",u))}return!1}},i.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var o=t(this);if(n.preventDefault(),n.stopPropagation(),!o.is(".disabled, :disabled")){var i=e(o),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(r).trigger("focus"),o.trigger("click");var u=i.find(".dropdown-menu li:not(.disabled):visible a");if(u.length){var s=u.index(n.target);38==n.which&&s>0&&s--,40==n.which&&s<u.length-1&&s++,~s||(s=0),u.eq(s).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var n=t(this),o=n.data("bs.dropdown");o||n.data("bs.dropdown",o=new i(this)),"string"==typeof e&&o[e].call(n)}))},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",r,i.prototype.toggle).on("keydown.bs.dropdown.data-api",r,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,o){return this.each((function(){var r=t(this),i=r.data("bs.modal"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);i||r.data("bs.modal",i=new n(this,a)),"string"==typeof e?i[e](o):a.show&&i.show(o)}))}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var o=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){o.$element.one("mouseup.dismiss.bs.modal",(function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var r=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),o.$element.addClass("in"),o.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});r?o.$dialog.one("bsTransitionEnd",(function(){o.$element.trigger("focus").trigger(i)})).emulateTransitionEnd(n.TRANSITION_DURATION):o.$element.trigger("focus").trigger(i)})))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")}),this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")}))},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var o=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy((function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))}),this)),this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(n){var o=t(this),r=o.attr("href"),i=t(o.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),o.data());o.is("a")&&n.preventDefault(),i.one("show.bs.modal",(function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",(function(){o.is(":visible")&&o.trigger("focus")}))})),e.call(i,a,this)}))}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.6",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,o){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),i=r.length;i--;){var a=r[i];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var u="hover"==a?"mouseleave":"focusout";this.$element.on(("hover"==a?"mouseenter":"focusin")+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,(function(t,o){n[t]!=o&&(e[t]=o)})),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)):n.show())},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)):n.hide())},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!o)return;var r=this,i=this.tip(),a=this.getUID(this.type);this.setContent(),i.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&i.addClass("fade");var u="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,c=s.test(u);c&&(u=u.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),f=i[0].offsetWidth,d=i[0].offsetHeight;if(c){var m=u,h=this.getPosition(this.$viewport);u="bottom"==u&&l.bottom+d>h.bottom?"top":"top"==u&&l.top-d<h.top?"bottom":"right"==u&&l.right+f>h.width?"left":"left"==u&&l.left-f<h.left?"right":u,i.removeClass(m).addClass(u)}var p=this.getCalculatedOffset(u,l,f,d);this.applyPlacement(p,u);var g=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",g).emulateTransitionEnd(e.TRANSITION_DURATION):g()}},e.prototype.applyPlacement=function(e,n){var o=this.tip(),r=o[0].offsetWidth,i=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),u=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(u)&&(u=0),e.top+=a,e.left+=u,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var s=o[0].offsetWidth,c=o[0].offsetHeight;"top"==n&&c!=i&&(e.top=e.top+i-c);var l=this.getViewportAdjustedDelta(n,e,s,c);l.left?e.left+=l.left:e.top+=l.top;var f=/top|bottom/.test(n),d=f?2*l.left-r+s:2*l.top-i+c,m=f?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(d,o[0][m],f)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){function o(){"in"!=r.hoverState&&i.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),n&&n()}var r=this,i=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(e.TRANSITION_DURATION):o(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],o="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var i=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},u=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,u,i)},e.prototype.getCalculatedOffset=function(t,e,n,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-n}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,o){var r={top:0,left:0};if(!this.$viewport)return r;var i=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var u=e.top-i-a.scroll,s=e.top+i-a.scroll+o;u<a.top?r.top=a.top-u:s>a.top+a.height&&(r.top=a.top+a.height-s)}else{var c=e.left-i,l=e.left+i+n;c<a.left?r.left=a.left-c:l>a.right&&(r.left=a.left+a.width-l)}return r},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide((function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null}))};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each((function(){var o=t(this),r=o.data("bs.tooltip"),i="object"==typeof n&&n;(r||!/destroy|hide/.test(n))&&(r||o.data("bs.tooltip",r=new e(this,i)),"string"==typeof n&&r[n]())}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.6",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),(e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype)).constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each((function(){var o=t(this),r=o.data("bs.popover"),i="object"==typeof n&&n;(r||!/destroy|hide/.test(n))&&(r||o.data("bs.popover",r=new e(this,i)),"string"==typeof n&&r[n]())}))},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,o){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each((function(){var o=t(this),r=o.data("bs.scrollspy");r||o.data("bs.scrollspy",r=new e(this,"object"==typeof n&&n)),"string"==typeof n&&r[n]()}))}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var e=t(this),r=e.data("target")||e.attr("href"),i=/^#./.test(r)&&t(r);return i&&i.length&&i.is(":visible")&&[[i[n]().top+o,r]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),o=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,i=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=o)return a!=(t=i[i.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=i[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(i[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=t(this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]').parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var o=t(this),r=o.data("bs.tab");r||o.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()}))}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=(o=e.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),i=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(i),e.trigger(a),!a.isDefaultPrevented()&&!i.isDefaultPrevented()){var u=t(o);this.activate(e.closest("li"),n),this.activate(u,u.parent(),(function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}}},n.prototype.activate=function(e,o,r){function i(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),u?e.addClass("in"):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=o.find("> .active"),u=r&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&u?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(t){"use strict";function e(e){return this.each((function(){var o=t(this),r=o.data("bs.affix");r||o.data("bs.affix",r=new n(this,"object"==typeof e&&e)),"string"==typeof e&&r[e]()}))}var n=function(e,o){this.options=t.extend({},n.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.6",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,o){var r=this.$target.scrollTop(),i=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=i.top)&&"bottom":!(t-o>=r+a)&&"bottom";var u=null==this.affixed;return null!=n&&n>=r?"top":null!=o&&(u?r:i.top)+(u?a:e)>=t-o&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,r=o.top,i=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(i=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof i&&(i=o.bottom(this.$element));var u=this.getState(a,e,r,i);if(this.affixed!=u){null!=this.unpin&&this.$element.css("top","");var s="affix"+(u?"-"+u:""),c=t.Event(s+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=u,this.unpin="bottom"==u?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(s).trigger(s.replace("affix","affixed")+".bs.affix")}"bottom"==u&&this.$element.offset({top:a-e-i})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var n=t(this),o=n.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(n,o)}))}))}(jQuery),$(window).load((function(){$(".preloader").fadeOut(1e3)})),$(window).scroll((function(){$(".navbar").offset().top>50?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")})),$(document).ready((function(){$(".navbar-collapse a").click((function(){$(".navbar-collapse").collapse("hide")})),$("#intro").parallax("100%",.1),$("#overview").parallax("100%",.3),$("#detail").parallax("100%",.2),$("#video").parallax("100%",.3),$("#speakers").parallax("100%",.1),$("#program").parallax("100%",.2),$("#register").parallax("100%",.1),$("#faq").parallax("100%",.3),$("#venue").parallax("100%",.1),$("#sponsors").parallax("100%",.3),$("#contact").parallax("100%",.2),$(document).ready((function(){$("#owl-speakers").owlCarousel({autoPlay:6e3,items:4,itemsDesktop:[1199,2],itemsDesktopSmall:[979,1],itemsTablet:[768,1],itemsTabletSmall:[985,2],itemsMobile:[479,1]})})),$(window).scroll((function(){$(this).scrollTop()>200?$(".go-top").fadeIn(200):$(".go-top").fadeOut(200)})),$(".go-top").click((function(t){t.preventDefault(),$("html, body").animate({scrollTop:0},300)})),new WOW({mobile:!1}).init()})),function(t){var e=t(window),n=e.height();e.resize((function(){n=e.height()})),t.fn.parallax=function(o,r,i){var a,u,s=t(this);function c(){s.each((function(){u=s.offset().top})),a=i?function(t){return t.outerHeight(!0)}:function(t){return t.height()},(arguments.length<1||null===o)&&(o="50%"),(arguments.length<2||null===r)&&(r=.5),(arguments.length<3||null===i)&&(i=!0);var c=e.scrollTop();s.each((function(){var e=t(this),i=e.offset().top;i+a(e)<c||i>c+n||s.css("backgroundPosition",o+" "+Math.round((u-c)*r)+"px")}))}e.bind("scroll",c).resize(c),c()}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,n){var o={init:function(e,n){this.$elem=t(n),this.options=t.extend({},t.fn.owlCarousel.options,this.$elem.data(),e),this.userOptions=e,this.loadContent()},loadContent:function(){var e=this;"function"==typeof e.options.beforeInit&&e.options.beforeInit.apply(this,[e.$elem]),"string"==typeof e.options.jsonPath?t.getJSON(e.options.jsonPath,(function(t){var n,o="";if("function"==typeof e.options.jsonSuccess)e.options.jsonSuccess.apply(this,[t]);else{for(n in t.owl)t.owl.hasOwnProperty(n)&&(o+=t.owl[n].item);e.$elem.html(o)}e.logIn()})):e.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),this.onStartup()},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;e.setTimeout((function(){t.updateVars()}),0)},watchVisibility:function(){var t=this;if(!1!==t.$elem.is(":visible"))return!1;t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),t.checkVisible=e.setInterval((function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))}),500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,n;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if((e=t(this.options.responsiveBaseWidth).width())>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort((function(t,e){return t[0]-e[0]})),n=0;n<this.options.itemsCustom.length;n+=1)this.options.itemsCustom[n][0]<=e&&(this.options.items=this.options.itemsCustom[n][1]);else e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var n,o,r=this;if(!0!==r.options.responsive)return!1;o=t(e).width(),r.resizer=function(){t(e).width()!==o&&(!1!==r.options.autoPlay&&e.clearInterval(r.autoPlayInterval),e.clearTimeout(n),n=e.setTimeout((function(){o=t(e).width(),r.updateVars()}),r.options.responsiveRefreshRate))},t(e).resize(r.resizer)},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var e=this,n=0,o=e.itemsAmount-e.options.items;e.$owlItems.each((function(r){var i=t(this);i.css({width:e.itemWidth}).data("owl-item",Number(r)),0!=r%e.options.items&&r!==o||r>o||(n+=1),i.data("owl-roundPages",n)}))},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var e,n,o=0,r=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)this.positionsInArray.push(-(r+=this.itemWidth)),!0===this.options.scrollPerPage&&(n=(n=t(this.$owlItems[e])).data("owl-roundPages"))!==o&&(this.pagesInArray[o]=this.positionsInArray[e],o=n)},buildControls:function(){!0!==this.options.navigation&&!0!==this.options.pagination||(this.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,n=t('<div class="owl-buttons"/>');e.owlControls.append(n),e.buttonPrev=t("<div/>",{class:"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{class:"owl-next",html:e.options.navigationText[1]||""}),n.append(e.buttonPrev).append(e.buttonNext),n.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',(function(t){t.preventDefault()})),n.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',(function(n){n.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()}))},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",(function(n){n.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)}))},updatePagination:function(){var e,n,o,r,i,a;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),e=0,n=this.itemsAmount-this.itemsAmount%this.options.items,r=0;r<this.itemsAmount;r+=1)0==r%this.options.items&&(e+=1,n===r&&(o=this.itemsAmount-this.options.items),i=t("<div/>",{class:"owl-page"}),a=t("<span></span>",{text:!0===this.options.paginationNumbers?e:"",class:!0===this.options.paginationNumbers?"owl-numbers":""}),i.append(a),i.data("owl-page",n===r?o:r),i.data("owl-roundPages",e),this.paginationWrapper.append(i));this.checkPagination()},checkPagination:function(){var e=this;if(!1===e.options.pagination)return!1;e.paginationWrapper.find(".owl-page").each((function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))}))},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,n,o){var r=this;return!r.isTransition&&("function"==typeof r.options.beforeMove&&r.options.beforeMove.apply(this,[r.$elem]),t>=r.maximumItem?t=r.maximumItem:0>=t&&(t=0),r.currentItem=r.owl.currentItem=t,!1!==r.options.transitionStyle&&"drag"!==o&&1===r.options.items&&!0===r.browser.support3d?(r.swapSpeed(0),!0===r.browser.support3d?r.transition3d(r.positionsInArray[t]):r.css2slide(r.positionsInArray[t],1),r.afterGo(),r.singleItemTransition(),!1):(t=r.positionsInArray[t],!0===r.browser.support3d?(r.isCss3Finish=!1,!0===n?(r.swapSpeed("paginationSpeed"),e.setTimeout((function(){r.isCss3Finish=!0}),r.options.paginationSpeed)):"rewind"===n?(r.swapSpeed(r.options.rewindSpeed),e.setTimeout((function(){r.isCss3Finish=!0}),r.options.rewindSpeed)):(r.swapSpeed("slideSpeed"),e.setTimeout((function(){r.isCss3Finish=!0}),r.options.slideSpeed)),r.transition3d(t)):r.css2slide(t,!0===n?r.options.paginationSpeed:"rewind"===n?r.options.rewindSpeed:r.options.slideSpeed),void r.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:0>=t&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",e.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;if(t.apStatus="play",!1===t.options.autoPlay)return!1;e.clearInterval(t.autoPlayInterval),t.autoPlayInterval=e.setInterval((function(){t.next(!0)}),t.options.autoPlay)},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var n=this;n.isCssFinish=!1,n.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||n.options.slideSpeed,complete:function(){n.isCssFinish=!0}})},checkBrowser:function(){var t=n.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in e||e.navigator.msMaxTouchPoints}},moveEvents:function(){!1===this.options.mouseDrag&&!1===this.options.touchDrag||(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",(function(t){t.preventDefault()})),this.$elem.on("mousedown.disableTextSelect",(function(e){return t(e.target).is("input, textarea, select, option")}))},gestures:function(){function o(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function r(e){"on"===e?(t(n).on(u.ev_types.move,i),t(n).on(u.ev_types.end,a)):"off"===e&&(t(n).off(u.ev_types.move),t(n).off(u.ev_types.end))}function i(r){u.newPosX=o(r=r.originalEvent||r||e.event).x-s.offsetX,u.newPosY=o(r).y-s.offsetY,u.newRelativeX=u.newPosX-s.relativePos,"function"==typeof u.options.startDragging&&!0!==s.dragging&&0!==u.newRelativeX&&(s.dragging=!0,u.options.startDragging.apply(u,[u.$elem])),(8<u.newRelativeX||-8>u.newRelativeX)&&!0===u.browser.isTouch&&(void 0!==r.preventDefault?r.preventDefault():r.returnValue=!1,s.sliding=!0),(10<u.newPosY||-10>u.newPosY)&&!1===s.sliding&&t(n).off("touchmove.owl"),u.newPosX=Math.max(Math.min(u.newPosX,u.newRelativeX/5),u.maximumPixels+u.newRelativeX/5),!0===u.browser.support3d?u.transition3d(u.newPosX):u.css2move(u.newPosX)}function a(n){var o;(n=n.originalEvent||n||e.event).target=n.target||n.srcElement,s.dragging=!1,!0!==u.browser.isTouch&&u.$owlWrapper.removeClass("grabbing"),u.dragDirection=u.owl.dragDirection=0>u.newRelativeX?"left":"right",0!==u.newRelativeX&&(o=u.getNewPosition(),u.goTo(o,!1,"drag"),s.targetElement===n.target&&!0!==u.browser.isTouch&&(t(n.target).on("click.disable",(function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")})),o=(n=t._data(n.target,"events").click).pop(),n.splice(0,0,o))),r("off")}var u=this,s={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};u.isCssFinish=!0,u.$elem.on(u.ev_types.start,".owl-wrapper",(function(n){var i;if(3===(n=n.originalEvent||n||e.event).which)return!1;if(!(u.itemsAmount<=u.options.items)){if(!1===u.isCssFinish&&!u.options.dragBeforeAnimFinish||!1===u.isCss3Finish&&!u.options.dragBeforeAnimFinish)return!1;!1!==u.options.autoPlay&&e.clearInterval(u.autoPlayInterval),!0===u.browser.isTouch||u.$owlWrapper.hasClass("grabbing")||u.$owlWrapper.addClass("grabbing"),u.newPosX=0,u.newRelativeX=0,t(this).css(u.removeTransition()),i=t(this).position(),s.relativePos=i.left,s.offsetX=o(n).x-i.left,s.offsetY=o(n).y-i.top,r("on"),s.sliding=!1,s.targetElement=n.target||n.srcElement}}))},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var e=this,n=!0===e.options.scrollPerPage?e.pagesInArray:e.positionsInArray,o=e.newPosX,r=null;return t.each(n,(function(i,a){o-e.itemWidth/20>n[i+1]&&o-e.itemWidth/20<a&&"left"===e.moveDirection()?(r=a,e.currentItem=!0===e.options.scrollPerPage?t.inArray(r,e.positionsInArray):i):o+e.itemWidth/20<a&&o+e.itemWidth/20>(n[i+1]||n[i]-e.itemWidth)&&"right"===e.moveDirection()&&(!0===e.options.scrollPerPage?e.currentItem=t.inArray(r=n[i+1]||n[n.length-1],e.positionsInArray):(r=n[i+1],e.currentItem=i+1))})),e.currentItem},moveDirection:function(){var t;return 0>this.newRelativeX?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",(function(){t.next()})),t.$elem.on("owl.prev",(function(){t.prev()})),t.$elem.on("owl.play",(function(e,n){t.options.autoPlay=n,t.play(),t.hoverStatus="play"})),t.$elem.on("owl.stop",(function(){t.stop(),t.hoverStatus="stop"})),t.$elem.on("owl.goTo",(function(e,n){t.goTo(n)})),t.$elem.on("owl.jumpTo",(function(e,n){t.jumpTo(n)}))},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",(function(){t.stop()})),t.$elem.on("mouseout",(function(){"stop"!==t.hoverStatus&&t.play()})))},lazyLoad:function(){var e,n,o,r;if(!1===this.options.lazyLoad)return!1;for(e=0;e<this.itemsAmount;e+=1)"loaded"!==(n=t(this.$owlItems[e])).data("owl-loaded")&&(o=n.data("owl-item"),"string"!=typeof(r=n.find(".lazyOwl")).data("src")?n.data("owl-loaded","loaded"):(void 0===n.data("owl-loaded")&&(r.hide(),n.addClass("loading").data("owl-loaded","checked")),(!0!==this.options.lazyFollow||o>=this.currentItem)&&o<this.currentItem+this.options.items&&r.length&&this.lazyPreload(n,r)))},lazyPreload:function(t,n){function o(){t.data("owl-loaded","loaded").removeClass("loading"),n.removeAttr("data-src"),"fade"===i.options.lazyEffect?n.fadeIn(400):n.show(),"function"==typeof i.options.afterLazyLoad&&i.options.afterLazyLoad.apply(this,[i.$elem])}var r,i=this,a=0;"DIV"===n.prop("tagName")?(n.css("background-image","url("+n.data("src")+")"),r=!0):n[0].src=n.data("src"),function t(){a+=1,i.completeImg(n.get(0))||!0===r?o():100>=a?e.setTimeout(t,100):o()}()},autoHeight:function(){function n(){var n=t(r.$owlItems[r.currentItem]).height();r.wrapperOuter.css("height",n+"px"),r.wrapperOuter.hasClass("autoHeight")||e.setTimeout((function(){r.wrapperOuter.addClass("autoHeight")}),0)}var o,r=this,i=t(r.$owlItems[r.currentItem]).find("img");void 0!==i.get(0)?(o=0,function t(){o+=1,r.completeImg(i.get(0))?n():100>=o?e.setTimeout(t,100):r.wrapperOuter.css("height","")}()):n()},completeImg:function(t){return!(!t.complete||void 0!==t.naturalWidth&&0===t.naturalWidth)},onVisibleItems:function(){var e;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],e=this.currentItem;e<this.currentItem+this.options.items;e+=1)this.visibleItems.push(e),!0===this.options.addClassActive&&t(this.$owlItems[e]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,n=t.inClass,o=t.$owlItems.eq(t.currentItem),r=t.$owlItems.eq(t.prevItem),i=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],a=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":a+"px","-moz-perspective-origin":a+"px","perspective-origin":a+"px"}),r.css({position:"relative",left:i+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",(function(){t.endPrev=!0,r.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(r,e)})),o.addClass(n).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",(function(){t.endCurrent=!0,o.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(o,n)}))},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),t(n).off(".owl owl"),t(e).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),e.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(e){e=t.extend({},this.userOptions,e),this.unWrap(),this.init(e,this.$elem)},addItem:function(t,e){var n;return!!t&&(0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),(n=void 0===e||-1===e?-1:e)>=this.$userItems.length||-1===n?this.$userItems.eq(-1).after(t):this.$userItems.eq(n).before(t),void this.setVars()))},removeItem:function(t){if(0===this.$elem.children().length)return!1;t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),this.setVars()}};t.fn.owlCarousel=function(e){return this.each((function(){if(!0===t(this).data("owl-init"))return!1;t(this).data("owl-init",!0);var n=Object.create(o);n.init(e,this),t.data(this,"owlCarousel",n)}))},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),window.jQuery||alert("The jQuery library must be included before the smoothscroll.js file.  The plugin will not work propery."),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){"use strict";function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var o=t.scrollTo=function(e,n,o){return t(window).scrollTo(e,n,o)};return o.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(r,i,a){"object"==typeof i&&(a=i,i=0),"function"==typeof a&&(a={onAfter:a}),"max"===r&&(r=9e9),a=t.extend({},o.defaults,a),i=i||a.duration;var u=a.queue&&1<a.axis.length;return u&&(i/=2),a.offset=n(a.offset),a.over=n(a.over),this.each((function(){function s(e){var n=t.extend({},a,{queue:!0,duration:i,complete:e&&function(){e.call(f,m,a)}});d.animate(h,n)}if(null!==r){var c,l=e(this),f=l?this.contentWindow||window:this,d=t(f),m=r,h={};switch(typeof m){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(m)){m=n(m);break}m=l?t(m):t(m,f);case"object":if(0===m.length)return;(m.is||m.style)&&(c=(m=t(m)).offset())}var p=t.isFunction(a.offset)&&a.offset(f,m)||a.offset;t.each(a.axis.split(""),(function(t,e){var n="x"===e?"Left":"Top",r=n.toLowerCase(),i="scroll"+n,g=d[i](),v=o.max(f,e);c?(h[i]=c[r]+(l?0:g-d.offset()[r]),a.margin&&(h[i]-=parseInt(m.css("margin"+n),10)||0,h[i]-=parseInt(m.css("border"+n+"Width"),10)||0),h[i]+=p[r]||0,a.over[r]&&(h[i]+=m["x"===e?"width":"height"]()*a.over[r])):h[i]=(n=m[r]).slice&&"%"===n.slice(-1)?parseFloat(n)/100*v:n,a.limit&&/^\d+$/.test(h[i])&&(h[i]=0>=h[i]?0:Math.min(h[i],v)),!t&&1<a.axis.length&&(g===h[i]?h={}:u&&(s(a.onAfterFirst),h={}))})),s(a.onAfter)}}))},o.max=function(n,o){var r="scroll"+(i="x"===o?"Width":"Height");if(!e(n))return n[r]-t(n)[i.toLowerCase()]();var i="client"+i,a=(u=n.ownerDocument||n.document).documentElement,u=u.body;return Math.max(a[r],u[r])-Math.min(a[i],u[i])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var n=this.get(e);if(e.options.interrupt&&e._last&&e._last!==n)return t(e.elem).stop();var o=Math.round(e.now);n!==o&&(t(e.elem)[e.prop](o),e._last=this.get(e))}},o})),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}((function(t){function e(e,n,o){var r=n.hash.slice(1),i=document.getElementById(r)||document.getElementsByName(r)[0];if(i){e&&e.preventDefault();var a=t(o.target);if(!(o.lock&&a.is(":animated")||o.onBefore&&!1===o.onBefore(e,i,a))){if(o.stop&&a.stop(!0),o.hash){var u=i.id===r?"id":"name",s=t("<a> </a>").attr(u,r).css({position:"absolute",top:t(window).scrollTop(),left:t(window).scrollLeft()});i[u]="",t("body").prepend(s),location.hash=n.hash,s.remove(),i[u]=r}a.scrollTo(i,o).trigger("notify.serialScroll",[i])}}}var n=location.href.replace(/#.*/,""),o=t.localScroll=function(e){t("body").localScroll(e)};return o.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,autoscroll:!0},t.fn.localScroll=function(r){function i(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")===n&&(!r.filter||t(this).is(r.filter))}return(r=t.extend({},o.defaults,r)).autoscroll&&r.hash&&location.hash&&(r.target&&window.scrollTo(0,0),e(0,location,r)),r.lazy?this.on(r.event,"a,area",(function(t){i.call(this)&&e(t,this,r)})):this.find("a,area").filter(i).bind(r.event,(function(t){e(t,this,r)})).end().end()},o.hash=function(){},o})),jQuery((function(t){t.localScroll({filter:".smoothScroll"})})),(function(){var t,e,n,o,r,i=function(t,e){return function(){return t.apply(e,arguments)}},a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var n;for(n in e)null==t[n]&&(t[n]=e[n]);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.addEvent=function(t,e,n){return null!=t.addEventListener?t.addEventListener(e,n,!1):null!=t.attachEvent?t.attachEvent("on"+e,n):t[e]=n},t.prototype.removeEvent=function(t,e,n){return null!=t.removeEventListener?t.removeEventListener(e,n,!1):null!=t.detachEvent?t.detachEvent("on"+e,n):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),n=this.WeakMap||this.MozWeakMap||(n=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,n,o,r;for(e=n=0,o=(r=this.keys).length;o>n;e=++n)if(r[e]===t)return this.values[e]},t.prototype.set=function(t,e){var n,o,r,i;for(n=o=0,r=(i=this.keys).length;r>o;n=++o)if(i[n]===t)return void(this.values[n]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),o=this.getComputedStyle||function(t){return this.getPropertyValue=function(e){var n;return"float"===e&&(e="styleFloat"),r.test(e)&&e.replace(r,(function(t,e){return e.toUpperCase()})),(null!=(n=t.currentStyle)?n[e]:void 0)||null},this},r=/(\-([a-z]){1})/g,this.WOW=function(){function r(t){null==t&&(t={}),this.scrollCallback=i(this.scrollCallback,this),this.scrollHandler=i(this.scrollHandler,this),this.start=i(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new n}return r.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0},r.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},r.prototype.start=function(){var e,n,o;if(this.stopped=!1,this.boxes=(function(){var t,e,n,o;for(o=[],t=0,e=(n=this.element.querySelectorAll("."+this.config.boxClass)).length;e>t;t++)o.push(n[t]);return o}).call(this),this.all=(function(){var t,e,n,o;for(o=[],t=0,e=(n=this.boxes).length;e>t;t++)o.push(n[t]);return o}).call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(e=0,n=(o=this.boxes).length;n>e;e++)this.applyStyle(o[e],!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new t(function(t){return function(e){var n,o,r,i;for(i=[],o=0,r=e.length;r>o;o++)n=e[o],i.push((function(){var t,e,o,r;for(r=[],t=0,e=(o=n.addedNodes||[]).length;e>t;t++)r.push(this.doSync(o[t]));return r}).call(t));return i}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},r.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},r.prototype.sync=function(){return t.notSupported?this.doSync(this.element):void 0},r.prototype.doSync=function(t){var e,n,o,r,i;if(null==t&&(t=this.element),1===t.nodeType){for(i=[],n=0,o=(r=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass)).length;o>n;n++)a.call(this.all,e=r[n])<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),i.push(this.scrolled=!0)):i.push(void 0);return i}},r.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass},r.prototype.applyStyle=function(t,e){var n,o,r;return o=t.getAttribute("data-wow-duration"),n=t.getAttribute("data-wow-delay"),r=t.getAttribute("data-wow-iteration"),this.animate(function(i){return function(){return i.customStyle(t,e,o,n,r)}}(this))},r.prototype.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},r.prototype.resetStyle=function(){var t,e,n,o;for(o=[],t=0,e=(n=this.boxes).length;e>t;t++)o.push(n[t].style.visibility="visible");return o},r.prototype.customStyle=function(t,e,n,o,r){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",n&&this.vendorSet(t.style,{animationDuration:n}),o&&this.vendorSet(t.style,{animationDelay:o}),r&&this.vendorSet(t.style,{animationIterationCount:r}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},r.prototype.vendors=["moz","webkit"],r.prototype.vendorSet=function(t,e){var n,o,r;for(n in r=[],e)t[""+n]=o=e[n],r.push((function(){var e,r,i,a;for(a=[],e=0,r=(i=this.vendors).length;r>e;e++)a.push(t[""+i[e]+n.charAt(0).toUpperCase()+n.substr(1)]=o);return a}).call(this));return r},r.prototype.vendorCSS=function(t,e){var n,r,i,a,u;for(n=(r=o(t)).getPropertyCSSValue(e),i=0,a=(u=this.vendors).length;a>i;i++)n=n||r.getPropertyCSSValue("-"+u[i]+"-"+e);return n},r.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(n){e=o(t).getPropertyValue("animation-name")}return"none"===e?"":e},r.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},r.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},r.prototype.scrollHandler=function(){return this.scrolled=!0},r.prototype.scrollCallback=function(){var t;return!this.scrolled||(this.scrolled=!1,this.boxes=(function(){var e,n,o,r;for(r=[],e=0,n=(o=this.boxes).length;n>e;e++)(t=o[e])&&(this.isVisible(t)?this.show(t):r.push(t));return r}).call(this),this.boxes.length||this.config.live)?void 0:this.stop()},r.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},r.prototype.isVisible=function(t){var e,n,o;return e=t.getAttribute("data-wow-offset")||this.config.offset,(o=window.pageYOffset)+Math.min(this.element.clientHeight,this.util().innerHeight())-e>=(n=this.offsetTop(t))&&n+t.clientHeight>=o},r.prototype.util=function(){return null!=this._util?this._util:this._util=new e},r.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},r}()}).call(this),function(t){"use strict";function e(){}var n=function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t(e.apply(null,n))}},o=function(t){return function(){return t}},r=function(t){return t};function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=e.concat(n);return t.apply(null,r)}}function a(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}}function u(){return f}var s,c=o(!1),l=o(!0),f=(s={fold:function(t,e){return t()},is:c,isSome:c,isNone:l,getOr:h,getOrThunk:m,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:h,orThunk:m,map:u,each:e,bind:u,exists:c,forall:l,filter:u,equals:d,equals_:d,toArray:function(){return[]},toString:o("none()")},Object.freeze&&Object.freeze(s),s);function d(t){return t.isNone()}function m(t){return t()}function h(t){return t}function p(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"==e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}}function g(t,e){return W.call(t,e)}function v(t,e){return-1<g(t,e)}function b(t,e){for(var n=0,o=t.length;n<o;n++)if(e(t[n],n))return!0;return!1}function y(t,e,n){return function(t,e){for(var n=t.length-1;0<=n;n--)e(t[n])}(t,(function(t){n=e(n,t)})),n}function x(t,e,n){return G(t,(function(t){n=e(n,t)})),n}function w(t,e){for(var n=0,o=t.length;n<o;n++){var r=t[n];if(e(r,n))return I.some(r)}return I.none()}function C(t,e){for(var n=0,o=t.length;n<o;n++)if(e(t[n],n))return I.some(n);return I.none()}function S(t,e){return function(t){for(var e=[],n=0,o=t.length;n<o;++n){if(!L(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);q.apply(e,t[n])}return e}(X(t,e))}function k(t,e){for(var n=0,o=t.length;n<o;++n)if(!0!==e(t[n],n))return!1;return!0}function T(t){var e=U.call(t,0);return e.reverse(),e}function E(t,e){return Y(t,(function(t){return!v(e,t)}))}function O(t){return 0===t.length?I.none():I.some(t[0])}function N(t){return 0===t.length?I.none():I.some(t[t.length-1])}function A(t,e){for(var n=J(t),o=0,r=n.length;o<r;o++){var i=n[o];e(t[i],i)}}function _(t,e){return Z(t,(function(t,n){return{k:n,v:e(t,n)}}))}function D(t){return function(e,n){t[n]=e}}function z(t,e,n,o){return A(t,(function(t,r){(e(t,r)?n:o)(t,r)})),{}}function M(t,e){var n={},o={};return z(t,e,D(n),D(o)),{t:n,f:o}}function B(t,e){return tt(t,e)?I.from(t[e]):I.none()}var R=function(t){function e(){return i}function n(e){return e(t)}var r=o(t),i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:c,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return R(e(t))},each:function(e){e(t)},bind:n,exists:n,forall:n,filter:function(e){return e(t)?i:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(c,(function(e){return n(t,e)}))}};return i},I={some:R,none:u,from:function(t){return null==t?f:R(t)}},P=p("string"),H=p("object"),L=p("array"),F=p("null"),V=p("boolean"),j=p("function"),$=p("number"),U=Array.prototype.slice,W=Array.prototype.indexOf,q=Array.prototype.push,X=function(t,e){for(var n=t.length,o=new Array(n),r=0;r<n;r++)o[r]=e(t[r],r);return o},G=function(t,e){for(var n=0,o=t.length;n<o;n++)e(t[n],n)},Y=function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o];e(i,o)&&n.push(i)}return n},K=j(Array.from)?Array.from:function(t){return U.call(t)},J=Object.keys,Q=Object.hasOwnProperty,Z=function(t,e){var n={};return A(t,(function(t,o){var r=e(t,o);n[r.k]=r.v})),n},tt=function(t,e){return Q.call(t,e)},et=function(){return(et=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function nt(t,e){return function(){return e===t}}function ot(t,e){return function(){return e===t}}function rt(t,e){var n=String(e).toLowerCase();return w(t,(function(t){return t.search(n)}))}function it(t,e){return-1!==t.indexOf(e)}function at(t,e){return function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(0,0+e.length)===e}(t,e)}function ut(t){return t.replace(/^\s+|\s+$/g,"")}function st(t){return t.replace(/\s+$/g,"")}function ct(t){return function(e){return it(e,t)}}function lt(){return Se.get()}function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return G(t,(function(t,n){r[t]=o(e[n])})),r}}function dt(t,e){var n=t.dom();if(n.nodeType!==Oe)return!1;var o=n;if(void 0!==o.matches)return o.matches(e);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(e);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}function mt(t){return t.nodeType!==Oe&&t.nodeType!==Ne||0===t.childElementCount}function ht(t,e){return t.dom()===e.dom()}function pt(t){return ee.fromDom(t.dom().ownerDocument)}function gt(t){return ee.fromDom(t.dom().ownerDocument.defaultView)}function vt(t){return I.from(t.dom().parentNode).map(ee.fromDom)}function bt(t){return I.from(t.dom().previousSibling).map(ee.fromDom)}function yt(t){return I.from(t.dom().nextSibling).map(ee.fromDom)}function xt(t){return T(ke(t,bt))}function wt(t){return ke(t,yt)}function Ct(t){return X(t.dom().childNodes,ee.fromDom)}function St(t,e){var n=t.dom().childNodes;return I.from(n[e]).map(ee.fromDom)}function kt(t){return St(t,0)}function Tt(t){return St(t,t.dom().childNodes.length-1)}function Et(t,e){vt(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}function Ot(t,e){yt(t).fold((function(){vt(t).each((function(t){_e(t,e)}))}),(function(t){Et(t,e)}))}function Nt(t,e){kt(t).fold((function(){_e(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))}function At(t,e){G(e,(function(e){_e(t,e)}))}function _t(t){t.dom().textContent="",G(Ct(t),(function(t){De(t)}))}function Dt(t){var e=Ct(t);0<e.length&&function(t,e){G(e,(function(e){Et(t,e)}))}(t,e),De(t)}function zt(t){return t.dom().nodeName.toLowerCase()}function Mt(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}}function Bt(t){var e=Me(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)}function Rt(t,e){return void 0!==t?t:void 0!==e?e:0}function It(e){var n=void 0!==e?e.dom():t.document;return Re(n.body.scrollLeft||n.documentElement.scrollLeft,n.body.scrollTop||n.documentElement.scrollTop)}function Pt(e,n,o){(void 0!==o?o.dom():t.document).defaultView.scrollTo(e,n)}function Ht(t,e){Pe&&j(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)}function Lt(t,e,n,r){return{x:o(t),y:o(e),width:o(n),height:o(r),right:o(t+n),bottom:o(e+r)}}function Ft(t){return function(e){return!!e&&e.nodeType===t}}function Vt(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return v(e,n)}return!1}}function jt(t){return function(e){if(Le(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}function $t(t){return void 0!==t.style&&j(t.style.getPropertyValue)}function Ut(e,n,o){if(!(P(o)||V(o)||$(o)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,o+"")}function Wt(t,e){var n=t.dom();A(e,(function(t,e){Ut(n,e,t)}))}function qt(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n}function Xt(t,e){t.dom().removeAttribute(e)}function Gt(e,n){var o=e.dom(),r=t.window.getComputedStyle(o).getPropertyValue(n),i=""!==r||Bt(e)?r:Ke(o,n);return null===i?void 0:i}function Yt(t,e){var n=t.dom(),o=Ke(n,e);return I.from(o).filter((function(t){return 0<t.length}))}function Kt(t){return w(t,ze)}function Jt(t,e){return t.children&&v(t.children,e)}var Qt,Zt,te=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:o(t)}},ee={fromHtml:function(e,n){var o=(n||t.document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||1<o.childNodes.length)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return te(o.childNodes[0])},fromTag:function(e,n){var o=(n||t.document).createElement(e);return te(o)},fromText:function(e,n){var o=(n||t.document).createTextNode(e);return te(o)},fromDom:te,fromPoint:function(t,e,n){var o=t.dom();return I.from(o.elementFromPoint(e,n)).map(te)}},ne=function(t){function e(){return n}var n=t;return{get:e,set:function(t){n=t},clone:function(){return ne(e())}}},oe=function(){return re(0,0)},re=function(t,e){return{major:t,minor:e}},ie=function(t,e){var n=String(e).toLowerCase();return 0===t.length?oe():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(o.test(e))return o}}(t,e);if(!n)return{major:0,minor:0};function o(t){return Number(e.replace(n,"$"+t))}return re(o(1),o(2))}(t,n)},ae=oe,ue="Firefox",se=function(t){var e=t.current;return{current:e,version:t.version,isEdge:nt("Edge",e),isChrome:nt("Chrome",e),isIE:nt("IE",e),isOpera:nt("Opera",e),isFirefox:nt(ue,e),isSafari:nt("Safari",e)}},ce=function(){return se({current:void 0,version:ae()})},le=se,fe=(o("Edge"),o("Chrome"),o("IE"),o("Opera"),o(ue),o("Safari"),"Windows"),de="Android",me="Solaris",he="FreeBSD",pe="ChromeOS",ge=function(t){var e=t.current;return{current:e,version:t.version,isWindows:ot(fe,e),isiOS:ot("iOS",e),isAndroid:ot(de,e),isOSX:ot("OSX",e),isLinux:ot("Linux",e),isSolaris:ot(me,e),isFreeBSD:ot(he,e),isChromeOS:ot(pe,e)}},ve=function(){return ge({current:void 0,version:ae()})},be=ge,ye=(o(fe),o("iOS"),o(de),o("Linux"),o("OSX"),o(me),o(he),o(pe),/.*?version\/\ ?([0-9]+)\.([0-9]+).*/),xe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return it(t,"edge/")&&it(t,"chrome")&&it(t,"safari")&&it(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ye],search:function(t){return it(t,"chrome")&&!it(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return it(t,"msie")||it(t,"trident")}},{name:"Opera",versionRegexes:[ye,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ct("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ct("firefox")},{name:"Safari",versionRegexes:[ye,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(it(t,"safari")||it(t,"mobile/"))&&it(t,"applewebkit")}}],we=[{name:"Windows",search:ct("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return it(t,"iphone")||it(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ct("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ct("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ct("linux"),versionRegexes:[]},{name:"Solaris",search:ct("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ct("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ct("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ce={browsers:o(xe),oses:o(we)},Se=ne(function(e,n){var r=Ce.browsers(),i=Ce.oses(),a=function(t,e){return rt(t,e).map((function(t){var n=ie(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,e).fold(ce,le),u=function(t,e){return rt(t,e).map((function(t){var n=ie(t.versionRegexes,e);return{current:t.name,version:n}}))}(i,e).fold(ve,be);return{browser:a,os:u,deviceType:function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),s=u||r("(pointer:coarse)"),c=i||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(c),isPhone:o(l),isTouch:o(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:o(f),isDesktop:o(d)}}(u,a,e,(function(e){return t.window.matchMedia(e).matches}))}}(t.navigator.userAgent)),ke=function(t,e){for(var n=[],o=function(t){return n.push(t),e(t)},r=e(t);(r=r.bind(o)).isSome(););return n},Te=t.Node.ELEMENT_NODE,Ee=t.Node.TEXT_NODE,Oe=Te,Ne=t.Node.DOCUMENT_NODE,Ae=lt().browser.isIE()?function(e,n){return function(e,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)}(e.dom(),n.dom())}:function(t,e){var n=t.dom(),o=e.dom();return n!==o&&n.contains(o)},_e=(ft("element","offset"),function(t,e){t.dom().appendChild(e.dom())}),De=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},ze=(void 0!==t.window||Function("return this;")(),Mt(Te)),Me=Mt(Ee),Be=function(t,e){return{left:o(t),top:o(e),translate:function(n,o){return Be(t+n,e+o)}}},Re=Be,Ie=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?Re(n.offsetLeft,n.offsetTop):Bt(t)?function(t){var e=t.getBoundingClientRect();return Re(e.left,e.top)}(e):Re(0,0)},Pe=lt().browser.isSafari(),He=function(e){var n=void 0===e?t.window:e,o=It(ee.fromDom(n.document));return function(e){return I.from((void 0===e?t.window:e).visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,r=t.clientHeight;return Lt(o.left(),o.top(),e,r)}),(function(t){return Lt(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},Le=Ft(1),Fe=Vt(["textarea","input"]),Ve=Ft(3),je=Ft(8),$e=Ft(9),Ue=Ft(11),We=Vt(["br"]),qe=jt("true"),Xe=jt("false"),Ge={isText:Ve,isElement:Le,isComment:je,isDocument:$e,isDocumentFragment:Ue,isBr:We,isContentEditableTrue:qe,isContentEditableFalse:Xe,isRestrictedNode:function(t){return!!t&&!Object.getPrototypeOf(t)},matchNodeNames:Vt,hasPropValue:function(t,e){return function(n){return Le(n)&&n[t]===e}},hasAttribute:function(t,e){return function(e){return Le(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,e){return function(n){return Le(n)&&n.getAttribute(t)===e}},matchStyleValues:function(t,e){var n=e.toLowerCase().split(" ");return function(e){var o;if(Le(e))for(o=0;o<n.length;o++){var r=e.ownerDocument.defaultView.getComputedStyle(e,null);if((r?r.getPropertyValue(t):null)===n[o])return!0}return!1}},isBogus:function(t){return Le(t)&&t.hasAttribute("data-mce-bogus")},isBogusAll:function(t){return Le(t)&&"all"===t.getAttribute("data-mce-bogus")},isTable:function(t){return Le(t)&&"TABLE"===t.tagName},isTextareaOrInput:Fe},Ye=function(t,e,n){Ut(t.dom(),e,n)},Ke=function(t,e){return $t(t)?t.style.getPropertyValue(e):""},Je=lt().browser,Qe={},Ze={exports:Qe};function tn(e){t.setTimeout((function(){throw e}),0)}Qt=Qe,Zt=Ze,function(t){"object"==typeof Qt&&void 0!==Zt?Zt.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,o){function r(a,u){if(!n[a]){if(!e[a]){if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return r(e[a][1][t]||t)}),c,c.exports,t,e,n,o)}return n[a].exports}for(var i=!1,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){var o,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(o===setTimeout)return setTimeout(t,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(t){o=a}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,l=[],f=!1,d=-1;function m(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!f){var t=s(m);f=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||f||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){function n(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var o;try{o=n(t._value)}catch(l){return void a(e.promise,l)}i(e.promise,o)}else(1===t._state?i:a)(e.promise,t._value)}))):t._deferreds.push(e)}function i(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void c(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,u(t)}catch(r){a(t,r)}}function a(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function s(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function c(t,e){var o=!1;try{t((function(t){o||(o=!0,i(e,t))}),(function(t){o||(o=!0,a(e,t))}))}catch(n){if(o)return;o=!0,a(e,n)}}var l;l=setTimeout,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var o=new this.constructor(n);return r(this,new s(t,e,o)),o},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,o){if(0===e.length)return t([]);var r=e.length;function i(a,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var s=u.then;if("function"==typeof s)return void s.call(u,(function(t){i(a,t)}),o)}e[a]=u,0==--r&&t(e)}catch(n){o(n)}}for(var a=0;a<e.length;a++)i(a,e[a])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){l(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=o:this.Promise||(this.Promise=o)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,o){var r=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=s++,o=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,r((function(){u[e]&&(o?t.apply(null,o):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof o?o:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var o=t("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:r.Promise||o}},{"promise-polyfill":2}]},{},[4])(4)}));var en,nn,on,rn=Ze.exports.boltExport,an=function(e){var n=I.none(),o=[],r=function(t){i()?a(t):o.push(t)},i=function(){return n.isSome()},a=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(t){n=I.some(t),function(t){G(t,a)}(o),o=[]})),{get:r,map:function(t){return an((function(e){r((function(n){e(t(n))}))}))},isReady:i}},un={nu:an,pure:function(t){return an((function(e){e(t)}))}},sn=function(t){function e(e){t().then(e,tn)}return{map:function(e){return sn((function(){return t().then(e)}))},bind:function(e){return sn((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return sn((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return un.nu(e)},toCached:function(){var e=null;return sn((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},cn=function(t){return sn((function(){return new rn(t)}))},ln=function(t){return{is:function(e){return t===e},isValue:l,isError:c,getOr:o(t),getOrThunk:o(t),getOrDie:o(t),or:function(e){return ln(t)},orThunk:function(e){return ln(t)},fold:function(e,n){return n(t)},map:function(e){return ln(e(t))},mapError:function(e){return ln(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return I.some(t)}}},fn=function(t){return{is:c,isValue:c,isError:l,getOr:r,getOrThunk:function(t){return t()},getOrDie:function(){return function(t){return function(){throw new Error(t)}}(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return fn(t)},mapError:function(e){return fn(e(t))},each:e,bind:function(e){return fn(t)},exists:c,forall:l,toOption:I.none}},dn={value:ln,error:fn,fromOption:function(t,e){return t.fold((function(){return fn(e)}),ln)}},mn=window.Promise?window.Promise:(en=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},nn=pn.immediateFn||"function"==typeof t.setImmediate&&t.setImmediate||function(e){t.setTimeout(e,1)},pn.prototype.catch=function(t){return this.then(null,t)},pn.prototype.then=function(t,e){var n=this;return new pn((function(o,r){gn.call(n,new xn(t,e,o,r))}))},pn.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&en(arguments[0])?arguments[0]:arguments);return new pn((function(e,n){if(0===t.length)return e([]);var o=t.length;function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){r(i,t)}),n)}t[i]=a,0==--o&&e(t)}catch(m){n(m)}}for(var i=0;i<t.length;i++)r(i,t[i])}))},pn.resolve=function(t){return t&&"object"==typeof t&&t.constructor===pn?t:new pn((function(e){e(t)}))},pn.reject=function(t){return new pn((function(e,n){n(t)}))},pn.race=function(t){return new pn((function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)}))},pn);function hn(t,e){return function(){t.apply(e,arguments)}}function pn(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],wn(t,hn(vn,this),hn(bn,this))}function gn(t){var e=this;null!==this._state?nn((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(d){return void t.reject(d)}t.resolve(o)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function vn(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void wn(hn(e,t),hn(vn,this),hn(bn,this))}this._state=!0,this._value=t,yn.call(this)}catch(d){bn.call(this,d)}}function bn(t){this._state=!1,this._value=t,yn.call(this)}function yn(){for(var t=0,e=this._deferreds.length;t<e;t++)gn.call(this,this._deferreds[t]);this._deferreds=null}function xn(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function wn(t,e,n){var o=!1;try{t((function(t){o||(o=!0,e(t))}),(function(t){o||(o=!0,n(t))}))}catch(h){if(o)return;o=!0,n(h)}}function Cn(e,n){return"number"!=typeof n&&(n=0),t.setTimeout(e,n)}function Sn(e,n){return"number"!=typeof n&&(n=1),t.setInterval(e,n)}function kn(e,n){var o,r;return(r=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t.clearTimeout(o),o=Cn((function(){e.apply(this,r)}),n)}).stop=function(){t.clearTimeout(o)},r}function Tn(t,e,n){var o,r;if(!t)return 0;if(n=n||t,void 0!==t.length){for(o=0,r=t.length;o<r;o++)if(!1===e.call(n,t[o],o,t))return 0}else for(o in t)if(t.hasOwnProperty(o)&&!1===e.call(n,t[o],o,t))return 0;return 1}function En(t,e,n){var o,r;for(o=0,r=t.length;o<r;o++)if(e.call(n,t[o],o,t))return o;return-1}function On(t){return null==t?"":(""+t).replace(Vn,"")}function Nn(t,e){return e?!("array"!==e||!Fn.isArray(t))||typeof t===e:void 0!==t}var An={requestAnimationFrame:function(e,n){on?on.then(e):on=new mn((function(e){!function(e,n){var o,r=t.window.requestAnimationFrame,i=["ms","moz","webkit"];for(o=0;o<i.length&&!r;o++)r=t.window[i[o]+"RequestAnimationFrame"];(r=r||function(e){t.window.setTimeout(e,0)})(e,n)}(e,n=n||t.document.body)})).then(e)},setTimeout:Cn,setInterval:Sn,setEditorTimeout:function(t,e,n){return Cn((function(){t.removed||e()}),n)},setEditorInterval:function(e,n,o){var r;return r=Sn((function(){e.removed?t.clearInterval(r):n()}),o)},debounce:kn,throttle:kn,clearInterval:function(e){return t.clearInterval(e)},clearTimeout:function(e){return t.clearTimeout(e)}},_n=t.navigator.userAgent,Dn=lt(),zn=Dn.browser,Mn=Dn.os,Bn=Dn.deviceType,Rn=/WebKit/.test(_n)&&!zn.isEdge(),In="FormData"in t.window&&"FileReader"in t.window&&"URL"in t.window&&!!t.URL.createObjectURL,Pn=-1!==_n.indexOf("Windows Phone"),Hn={opera:zn.isOpera(),webkit:Rn,ie:!(!zn.isIE()&&!zn.isEdge())&&zn.version.major,gecko:zn.isFirefox(),mac:Mn.isOSX()||Mn.isiOS(),iOS:Bn.isiPad()||Bn.isiPhone(),android:Mn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:t.window.getSelection&&"Range"in t.window,documentMode:zn.isIE()?t.document.documentMode||7:10,fileApi:In,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!zn.isIE(),desktop:Bn.isDesktop(),windowsPhone:Pn,browser:{current:zn.current,version:zn.version,isChrome:zn.isChrome,isEdge:zn.isEdge,isFirefox:zn.isFirefox,isIE:zn.isIE,isOpera:zn.isOpera,isSafari:zn.isSafari},os:{current:Mn.current,version:Mn.version,isAndroid:Mn.isAndroid,isChromeOS:Mn.isChromeOS,isFreeBSD:Mn.isFreeBSD,isiOS:Mn.isiOS,isLinux:Mn.isLinux,isOSX:Mn.isOSX,isSolaris:Mn.isSolaris,isWindows:Mn.isWindows},deviceType:{isDesktop:Bn.isDesktop,isiPad:Bn.isiPad,isiPhone:Bn.isiPhone,isPhone:Bn.isPhone,isTablet:Bn.isTablet,isTouch:Bn.isTouch,isWebView:Bn.isWebView}},Ln=Array.isArray,Fn={isArray:Ln,toArray:function(t){var e,n,o=t;if(!Ln(t))for(o=[],e=0,n=t.length;e<n;e++)o[e]=t[e];return o},each:Tn,map:function(t,e){var n=[];return Tn(t,(function(o,r){n.push(e(o,r,t))})),n},filter:function(t,e){var n=[];return Tn(t,(function(o,r){e&&!e(o,r,t)||n.push(o)})),n},indexOf:function(t,e){var n,o;if(t)for(n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,o){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(o,n,t[r],r);return n},findIndex:En,find:function(t,e,n){var o=En(t,e,n);return-1!==o?t[o]:void 0},last:function(t){return t[t.length-1]}},Vn=/^\s*|\s*$/g,jn=function(t,e,n,o){o=o||this,t&&(n&&(t=t[n]),Fn.each(t,(function(t,r){if(!1===e.call(o,t,r,n))return!1;jn(t,e,n,o)})))},$n={trim:On,isArray:Fn.isArray,is:Nn,toArray:Fn.toArray,makeMap:function(t,e,n){var o;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},o=t.length;o--;)n[t[o]]={};return n},each:Fn.each,map:Fn.map,grep:Fn.filter,inArray:Fn.indexOf,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t,e){for(var n,o,r,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u,s=arguments;for(n=1,o=s.length;n<o;n++)for(r in e=s[n])e.hasOwnProperty(r)&&void 0!==(u=e[r])&&(t[r]=u);return t},create:function(t,e,n){var o,r,i,a,u,s=this,c=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),i=t[3].match(/(^|\.)(\w+)$/i)[2],!(r=s.createNS(t[3].replace(/\.\w+$/,""),n))[i]){if("static"===t[2])return r[i]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[i]));e[i]||(e[i]=function(){},c=1),r[i]=e[i],s.extend(r[i].prototype,e),t[5]&&(o=s.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],u=r[i],r[i]=c?function(){return o[a].apply(this,arguments)}:function(){return this.parent=o[a],u.apply(this,arguments)},r[i].prototype[i]=r[i],s.each(o,(function(t,e){r[i].prototype[e]=o[e]})),s.each(e,(function(t,e){o[e]?r[i].prototype[e]=function(){return this.parent=o[e],t.apply(this,arguments)}:e!==i&&(r[i].prototype[e]=t)}))),s.each(e.static,(function(t,e){r[i][e]=t}))}},walk:jn,createNS:function(e,n){var o,r;for(n=n||t.window,e=e.split("."),o=0;o<e.length;o++)n[r=e[o]]||(n[r]={}),n=n[r];return n},resolve:function(e,n){var o,r;for(n=n||t.window,o=0,r=(e=e.split(".")).length;o<r&&(n=n[e[o]]);o++);return n},explode:function(t,e){return!t||Nn(t,"array")?t:Fn.map(t.split(e||","),On)},_addCacheSuffix:function(t){var e=Hn.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}};function Un(t){var e;return function(n){return(e=e||function(t,e){for(var n={},o=0,r=t.length;o<r;o++){var i=t[o];n[String(i)]=e(i,o)}return n}(t,o(!0))).hasOwnProperty(zt(n))}}function Wn(t){return ze(t)&&!Qn(t)}function qn(t){return ze(t)&&"br"===zt(t)}function Xn(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}var Gn,Yn,Kn,Jn=Un(["h1","h2","h3","h4","h5","h6"]),Qn=Un(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Zn=Un(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),to=Un(["ul","ol","dl"]),eo=Un(["li","dd","dt"]),no=Un(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),oo=Un(["thead","tbody","tfoot"]),ro=Un(["td","th"]),io=Un(["pre","script","textarea","style"]),ao=function(t,e){var n,o=e.childNodes;if(!Ge.isElement(e)||!Xn(e)){for(n=o.length-1;0<=n;n--)ao(t,o[n]);if(!1===Ge.isDocument(e)){if(Ge.isText(e)&&0<e.nodeValue.length){var r=$n.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||0<r)return;if(0===r&&function(t){return t.previousSibling&&"SPAN"===t.previousSibling.nodeName&&t.nextSibling&&"SPAN"===t.nextSibling.nodeName}(e))return}else if(Ge.isElement(e)&&(1===(o=e.childNodes).length&&Xn(o[0])&&e.parentNode.insertBefore(o[0],e),o.length||no(ee.fromDom(e))))return;t.remove(e)}return e}},uo={trimNode:ao},so=$n.makeMap,co=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fo=/[<>&\"\']/g,mo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ho={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};function po(t,e){var n,o,r,i={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)o=String.fromCharCode(parseInt(t[n],e)),Yn[o]||(i[o]=r="&"+t[n+1]+";",i[r]=o);return i}}function go(t,e){return t.replace(e?co:lo,(function(t){return Yn[t]||t}))}function vo(t,e){return t.replace(e?co:lo,(function(t){return 1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":Yn[t]||"&#"+t.charCodeAt(0)+";"}))}function bo(t,e,n){return n=n||Gn,t.replace(e?co:lo,(function(t){return Yn[t]||n[t]||t}))}Yn={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Kn={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Gn=po("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var yo={encodeRaw:go,encodeAllRaw:function(t){return(""+t).replace(fo,(function(t){return Yn[t]||t}))},encodeNumeric:vo,encodeNamed:bo,getEncodeFunc:function(t,e){var n=po(e)||Gn,o=so(t.replace(/\+/g,","));return o.named&&o.numeric?function(t,e){return t.replace(e?co:lo,(function(t){return void 0!==Yn[t]?Yn[t]:void 0!==n[t]?n[t]:1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:o.named?e?function(t,e){return bo(t,e,n)}:bo:o.numeric?vo:go},decode:function(t){return t.replace(mo,(function(t,e){return e?65535<(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):ho[e]||String.fromCharCode(e):Kn[t]||Gn[t]||function(t){var e;return(e=ee.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t}(t)}))}},xo={},wo={},Co=$n.makeMap,So=$n.each,ko=$n.extend,To=$n.explode,Eo=$n.inArray,Oo=function(t,e){return(t=$n.trim(t))?t.split(e||" "):[]},No=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),So(t,(function(t,o){n[o]=n[o.toUpperCase()]="map"===e?Co(t,/[, ]/):To(t,/[, ]/)}))),n};function Ao(t){function e(e,n,o){var r=t[e];return r?r=Co(r,/[, ]/,Co(r.toUpperCase(),/[, ]/)):(r=xo[e])||(r=Co(n," ",Co(n.toUpperCase()," ")),r=ko(r,o),xo[e]=r),r}var n,o,r,i,a,u,s,c,l,f,d,m,h,p={},g={},v=[],b={},y={};function x(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function w(t){var e,n,o,r,i,a,u,s,c,l,f,d,m,h,g,b,y,w,C,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(t)for(t=Oo(t,","),p["@"]&&(b=p["@"].attributes,y=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(i=S.exec(t[e])){if(c=i[2],g=i[3],s=i[5],a={attributes:d={},attributesOrder:m=[]},"#"===(h=i[1])&&(a.paddEmpty=!0),"-"===h&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),b){for(w in b)d[w]=b[w];m.push.apply(m,y)}if(s)for(o=0,r=(s=Oo(s,"|")).length;o<r;o++)if(i=k.exec(s[o])){if(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),h=i[3],C=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f){delete d[l],m.splice(Eo(m,l),1);continue}h&&("="===h&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:C}),u.defaultValue=C),":"===h&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:C}),u.forcedValue=C),"<"===h&&(u.validValues=Co(C,"?"))),T.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=x(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)}b||"@"!==c||(b=d,y=m),g&&(a.outputName=c,p[g]=a),T.test(c)?(a.pattern=x(c),v.push(a)):p[c]=a}}function C(t){p={},v=[],w(t),So(r,(function(t,e){g[e]=t.children}))}function S(t){var e=/^(~)?(.+)$/;t&&(xo.text_block_elements=xo.block_elements=null,So(Oo(t,","),(function(t){var n=e.exec(t),o="~"===n[1],r=o?"span":"div",i=n[2];if(g[i]=g[r],b[i]=r,o||(l[i.toUpperCase()]={},l[i]={}),!p[i]){var a=p[r];delete(a=ko({},a)).removeEmptyAttrs,delete a.removeEmpty,p[i]=a}So(g,(function(t,e){t[r]&&(g[e]=t=ko({},g[e]),t[i]=t[r])}))})))}function k(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;xo[t.schema]=null,e&&So(Oo(e,","),(function(t){var e,o,r=n.exec(t);r&&(e=(o=r[1])?g[r[2]]:g[r[2]]={"#comment":{}},e=g[r[2]],So(Oo(r[3],"|"),(function(t){"-"===o?delete e[t]:e[t]={}})))}))}function T(t){var e,n=p[t];if(n)return n;for(e=v.length;e--;)if((n=v[e]).pattern.test(t))return n}return r=function(t){function e(t,e,n){function r(t,e){var n,o,r={};for(n=0,o=t.length;n<o;n++)r[t[n]]=e||{};return r}var i,a,u;for(e=e||"","string"==typeof(n=n||[])&&(n=Oo(n)),i=(t=Oo(t)).length;i--;)u={attributes:r(a=Oo([o,e].join(" "))),attributesOrder:a,children:r(n,wo)},c[t[i]]=u}function n(t,e){var n,o,r,i;for(n=(t=Oo(t)).length,e=Oo(e);n--;)for(o=c[t[n]],r=0,i=e.length;r<i;r++)o.attributes[e[r]]={},o.attributesOrder.push(e[r])}var o,r,i,a,u,s,c={};return xo[t]?xo[t]:(o="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(o+=" xml:lang",i=[i,s="acronym applet basefont big font strike tt"].join(" "),So(Oo(s),(function(t){e(t,"",i)})),r=[r,u="center dir isindex noframes"].join(" "),a=[r,i].join(" "),So(Oo(u),(function(t){e(t,"",a)}))),a=a||[r,i].join(" "),e("html","manifest","head body"),e("head","","base command link meta noscript script style title"),e("title hr noscript br"),e("base","href target"),e("link","href rel media hreflang type sizes hreflang"),e("meta","name http-equiv content charset"),e("style","media type scoped"),e("script","src async defer type charset"),e("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a),e("address dt dd div caption","",a),e("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),e("blockquote","cite",a),e("ol","reversed start type","li"),e("ul","","li"),e("li","value",a),e("dl","","dt dd"),e("a","href target rel media hreflang type",i),e("q","cite",i),e("ins del","cite datetime",a),e("img","src sizes srcset alt usemap ismap width height"),e("iframe","src name width height",a),e("embed","src type width height"),e("object","data type typemustmatch name usemap form width height",[a,"param"].join(" ")),e("param","name value"),e("map","name",[a,"area"].join(" ")),e("area","alt coords shape href target rel media hreflang type"),e("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),e("colgroup","span","col"),e("col","span"),e("tbody thead tfoot","","tr"),e("tr","","td th"),e("td","colspan rowspan headers",a),e("th","colspan rowspan headers scope abbr",a),e("form","accept-charset action autocomplete enctype method name novalidate target",a),e("fieldset","disabled form name",[a,"legend"].join(" ")),e("label","form for",i),e("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),e("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?a:i),e("select","disabled form multiple name required size","option optgroup"),e("optgroup","disabled label","option"),e("option","disabled label selected value"),e("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),e("menu","type label",[a,"li"].join(" ")),e("noscript","",a),"html4"!==t&&(e("wbr"),e("ruby","",[i,"rt rp"].join(" ")),e("figcaption","",a),e("mark rt rp summary bdi","",i),e("canvas","width height",a),e("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" ")),e("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" ")),e("picture","","img source"),e("source","src srcset type media sizes"),e("track","kind src srclang label default"),e("datalist","",[i,"option"].join(" ")),e("article section nav aside main header footer","",a),e("hgroup","","h1 h2 h3 h4 h5 h6"),e("figure","",[a,"figcaption"].join(" ")),e("time","datetime",i),e("dialog","open",a),e("command","type label icon disabled checked radiogroup command"),e("output","for form name",i),e("progress","value max",i),e("meter","value min max low high optimum",i),e("details","open",[a,"summary"].join(" ")),e("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!==t&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("img","loading"),n("iframe","sandbox seamless allowfullscreen loading")),So(Oo("a form meter progress dfn"),(function(t){c[t]&&delete c[t].children[t]})),delete c.caption.children.table,delete c.script,xo[t]=c)}((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),n=No(t.valid_styles),o=No(t.invalid_styles,"map"),c=No(t.valid_classes,"map"),i=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),a=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),u=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),f=e("non_empty_elements","td th iframe video audio object script pre code",u),d=e("move_caret_before_on_enter_elements","table",f),m=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),l=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",m),h=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),So((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(t){y[t]=new RegExp("</"+t+"[^>]*>","gi")})),t.valid_elements?C(t.valid_elements):(So(r,(function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},g[e]=t.children})),"html5"!==t.schema&&So(Oo("strong/b em/i"),(function(t){t=Oo(t,"/"),p[t[1]].outputName=t[0]})),So(Oo("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(t){p[t]&&(p[t].removeEmpty=!0)})),So(Oo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){p[t].paddEmpty=!0})),So(Oo("span"),(function(t){p[t].removeEmptyAttrs=!0}))),S(t.custom_elements),k(t.valid_children),w(t.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),So({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){p[e]&&(p[e].parentsRequired=Oo(t))})),t.invalid_elements&&So(To(t.invalid_elements),(function(t){p[t]&&delete p[t]})),T("span")||w("span[!data-mce-type|*]"),{children:g,elements:p,getValidStyles:function(){return n},getValidClasses:function(){return c},getBlockElements:function(){return l},getInvalidStyles:function(){return o},getShortEndedElements:function(){return u},getTextBlockElements:function(){return m},getTextInlineElements:function(){return h},getBoolAttrs:function(){return s},getElementRule:T,getSelfClosingElements:function(){return a},getNonEmptyElements:function(){return f},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return i},getSpecialElements:function(){return y},isValidChild:function(t,e){var n=g[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,o,r=T(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(o=n.length;o--;)if(n[o].pattern.test(t))return!0}return!1},getCustomElements:function(){return b},addValidElements:w,setValidElements:C,addCustomElements:S,addValidChildren:k}}function _o(t,e,n,o){function r(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t}return"#"+r(e)+r(n)+r(o)}function Do(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function zo(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function Mo(e,n){var o,r=n||{};for(o in e)Lo[o]||(r[o]=e[o]);if(r.target||(r.target=r.srcElement||t.document),Hn.experimentalShadowDom&&(r.target=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&0<n.length)return n[0]}return e}(e,r.target)),e&&Ho.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var i=r.target.ownerDocument||t.document,a=i.documentElement,u=i.body;r.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),r.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return r.preventDefault=function(){r.isDefaultPrevented=Vo,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=Vo,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=Vo,r.stopPropagation()})===function(t){return t.isDefaultPrevented===Vo||t.isDefaultPrevented===Fo}(r)&&(r.isDefaultPrevented=Fo,r.isPropagationStopped=Fo,r.isImmediatePropagationStopped=Fo),void 0===r.metaKey&&(r.metaKey=!1),r}function Bo(t,e,n){var o=t.document,r={type:"ready"};if(n.domLoaded)e(r);else{var i=function(){zo(t,"DOMContentLoaded",i),zo(t,"load",i),n.domLoaded||(n.domLoaded=!0,e(r))};"complete"===o.readyState||"interactive"===o.readyState&&o.body?i():Do(t,"DOMContentLoaded",i),Do(t,"load",i)}}var Ro="\ufeff",Io="\xa0",Po=function(t,e){var n,o,r,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},f=Ro;for(t=t||{},e&&(r=e.getValidStyles(),i=e.getInvalidStyles()),o=("\\\" \\' \\; \\: ; : "+f).split(" "),n=0;n<o.length;n++)l[o[n]]=f+n,l[f+n]=o[n];return{toHex:function(t){return t.replace(a,_o)},parse:function(e){function o(t,e,o){var r,i,a,u;if((r=S[t+"-top"+e])&&(i=S[t+"-right"+e])&&(a=S[t+"-bottom"+e])&&(u=S[t+"-left"+e])){var s=[r,i,a,u];for(n=s.length-1;n--&&s[n]===s[n+1];);-1<n&&o||(S[t+e]=-1===n?s[0]:s.join(" "),delete S[t+"-top"+e],delete S[t+"-right"+e],delete S[t+"-bottom"+e],delete S[t+"-left"+e])}}function r(t){var e,n=S[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return S[t]=n[0],!0}}function i(t){return y=!0,l[t]}function d(t,e){return y&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return l[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function m(t){return String.fromCharCode(parseInt(t.slice(1),16))}function h(t){return t.replace(/\\[0-9a-f]+/gi,m)}function p(e,n,o,r,i,a){if(i=i||a)return"'"+(i=d(i)).replace(/\'/g,"\\'")+"'";if(n=d(n||o||r),!t.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return k&&(n=k.call(T,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var g,v,b,y,x,w,C,S={},k=t.url_converter,T=t.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,i).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,i)}));g=s.exec(e);)if(s.lastIndex=g.index+g[0].length,v=g[1].replace(c,"").toLowerCase(),b=g[2].replace(c,""),v&&b){if(v=h(v),b=h(b),-1!==v.indexOf(f)||-1!==v.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===v||/expression\s*\(|\/\*|\*\//.test(b)))continue;"font-weight"===v&&"700"===b?b="bold":"color"!==v&&"background-color"!==v||(b=b.toLowerCase()),b=(b=b.replace(a,_o)).replace(u,p),S[v]=y?d(b,!0):b}o("border","",!0),o("border","-width"),o("border","-color"),o("border","-style"),o("padding",""),o("margin",""),w="border-style",C="border-color",r(x="border-width")&&r(w)&&r(C)&&(S.border=S[x]+" "+S[w]+" "+S[C],delete S[x],delete S[w],delete S[C]),"medium none"===S.border&&delete S.border,"none"===S["border-image"]&&delete S["border-image"]}return S},serialize:function(t,e){function n(e){var n,o,i,a;if(n=r[e])for(o=0,i=n.length;o<i;o++)(a=t[e=n[o]])&&(c+=(0<c.length?" ":"")+e+": "+a+";")}var o,a,u,s,c="";if(e&&r)n("*"),n(e);else for(o in t)!(a=t[o])||i&&(u=o,s=void 0,(s=i["*"])&&s[u]||(s=i[e])&&s[u])||(c+=(0<c.length?" ":"")+o+": "+a+";");return c}}},Ho=/^(?:mouse|contextmenu)|click/,Lo={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Fo=function(){return!1},Vo=function(){return!0},jo=($o.prototype.bind=function(e,n,o,r){function i(t){m.executeHandlers(Mo(t||h.event),a)}var a,u,s,c,l,f,d,m=this,h=t.window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[m.expando]?a=e[m.expando]:(a=m.count++,e[m.expando]=a,m.events[a]={}),r=r||e;var p=n.split(" ");for(s=p.length;s--;)f=i,l=d=!1,"DOMContentLoaded"===(c=p[s])&&(c="ready"),m.domLoaded&&"ready"===c&&"complete"===e.readyState?o.call(r,Mo({type:c})):(m.hasMouseEnterLeave||(l=m.mouseEnterLeave[c])&&(f=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Mo(t||h.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,m.executeHandlers(t,a))}),m.hasFocusIn||"focusin"!==c&&"focusout"!==c||(d=!0,l="focusin"===c?"focus":"blur",f=function(t){(t=Mo(t||h.event)).type="focus"===t.type?"focusin":"focusout",m.executeHandlers(t,a)}),(u=m.events[a][c])?"ready"===c&&m.domLoaded?o(Mo({type:c})):u.push({func:o,scope:r}):(m.events[a][c]=u=[{func:o,scope:r}],u.fakeName=l,u.capture=d,u.nativeHandler=f,"ready"===c?Bo(e,f,m):Do(e,l||c,f,d)));return e=u=0,o}},$o.prototype.unbind=function(t,e,n){var o,r,i,a,u,s;if(!t||3===t.nodeType||8===t.nodeType)return this;if(o=t[this.expando]){if(s=this.events[o],e){var c=e.split(" ");for(i=c.length;i--;)if(r=s[u=c[i]]){if(n)for(a=r.length;a--;)if(r[a].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;(r=r.slice(0,a).concat(r.slice(a+1))).nativeHandler=l,r.fakeName=f,r.capture=d,s[u]=r}n&&0!==r.length||(delete s[u],zo(t,r.fakeName||u,r.nativeHandler,r.capture))}}else{for(u in s)zo(t,(r=s[u]).fakeName||u,r.nativeHandler,r.capture);s={}}for(u in s)return this;delete this.events[o];try{delete t[this.expando]}catch(v){t[this.expando]=null}}return this},$o.prototype.fire=function(t,e,n){var o;if(!t||3===t.nodeType||8===t.nodeType)return this;var r=Mo(null,n);for(r.type=e,r.target=t;(o=t[this.expando])&&this.executeHandlers(r,o),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!r.isPropagationStopped(););return this},$o.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},$o.prototype.destroy=function(){this.events={}},$o.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},$o.prototype.executeHandlers=function(t,e){var n,o,r,i,a=this.events[e];if(n=a&&a[t.type])for(o=0,r=n.length;o<r;o++)if((i=n[o])&&!1===i.func.call(i.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return},$o.Event=new $o,$o);function $o(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in t.document.documentElement,this.hasFocusIn="onfocusin"in t.document.documentElement,this.count=1}function Uo(t,e,n){var o="0x"+e-65536;return o!=o||n?e:o<0?String.fromCharCode(65536+o):String.fromCharCode(o>>10|55296,1023&o|56320)}var Wo,qo,Xo,Go,Yo,Ko,Jo,Qo,Zo,tr,er,nr,or,rr,ir,ar,ur,sr,cr="sizzle"+-new Date,lr=t.window.document,fr=0,dr=0,mr=Ur(),hr=Ur(),pr=Ur(),gr=function(t,e){return t===e&&(er=!0),0},vr="undefined",br={}.hasOwnProperty,yr=[],xr=yr.pop,wr=yr.push,Cr=yr.push,Sr=yr.slice,kr=yr.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Tr="[\\x20\\t\\r\\n\\f]",Er="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Or="\\["+Tr+"*("+Er+")(?:"+Tr+"*([*^$|!~]?=)"+Tr+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Er+"))|)"+Tr+"*\\]",Nr=":("+Er+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Or+")*)|.*)\\)|)",Ar=new RegExp("^"+Tr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Tr+"+$","g"),_r=new RegExp("^"+Tr+"*,"+Tr+"*"),Dr=new RegExp("^"+Tr+"*([>+~]|"+Tr+")"+Tr+"*"),zr=new RegExp("="+Tr+"*([^\\]'\"]*?)"+Tr+"*\\]","g"),Mr=new RegExp(Nr),Br=new RegExp("^"+Er+"$"),Rr={ID:new RegExp("^#("+Er+")"),CLASS:new RegExp("^\\.("+Er+")"),TAG:new RegExp("^("+Er+"|[*])"),ATTR:new RegExp("^"+Or),PSEUDO:new RegExp("^"+Nr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Tr+"*(even|odd|(([+-]|)(\\d*)n|)"+Tr+"*(?:([+-]|)"+Tr+"*(\\d+)|))"+Tr+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Tr+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Tr+"*((?:-\\d)?\\d*)"+Tr+"*\\)|)(?=[^-]|$)","i")},Ir=/^(?:input|select|textarea|button)$/i,Pr=/^h\d$/i,Hr=/^[^{]+\{\s*\[native \w/,Lr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fr=/[+~]/,Vr=/'|\\/g,jr=new RegExp("\\\\([\\da-f]{1,6}"+Tr+"?|("+Tr+")|.)","ig");try{Cr.apply(yr=Sr.call(lr.childNodes),lr.childNodes)}catch(Qw){Cr={apply:yr.length?function(t,e){wr.apply(t,Sr.call(e))}:function(t,e){for(var n=t.length,o=0;t[n++]=e[o++];);t.length=n-1}}}var $r=function(t,e,n,o){var r,i,a,u,s,c,l,f,d,m;if((e?e.ownerDocument||e:lr)!==or&&nr(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(u=(e=e||or).nodeType)&&9!==u)return[];if(ir&&!o){if(r=Lr.exec(t))if(a=r[1]){if(9===u){if(!(i=e.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&sr(e,i)&&i.id===a)return n.push(i),n}else{if(r[2])return Cr.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&qo.getElementsByClassName)return Cr.apply(n,e.getElementsByClassName(a)),n}if(qo.qsa&&(!ar||!ar.test(t))){if(f=l=cr,d=e,m=9===u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){for(c=Ko(t),(l=e.getAttribute("id"))?f=l.replace(Vr,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",s=c.length;s--;)c[s]=f+Qr(c[s]);d=Fr.test(t)&&Kr(e.parentNode)||e,m=c.join(",")}if(m)try{return Cr.apply(n,d.querySelectorAll(m)),n}catch(y){}finally{l||e.removeAttribute("id")}}}return Qo(t.replace(Ar,"$1"),e,n,o)};function Ur(){var t=[];return function e(n,o){return t.push(n+" ")>Xo.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function Wr(t){return t[cr]=!0,t}function qr(t,e){var n=e&&t,o=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(o)return o;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function Xr(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function Gr(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Yr(t){return Wr((function(e){return e=+e,Wr((function(n,o){for(var r,i=t([],n.length,e),a=i.length;a--;)n[r=i[a]]&&(n[r]=!(o[r]=n[r]))}))}))}function Kr(t){return t&&typeof t.getElementsByTagName!=vr&&t}for(Wo in qo=$r.support={},Yo=$r.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},nr=$r.setDocument=function(t){var e,n=t?t.ownerDocument||t:lr,o=n.defaultView;return n!==or&&9===n.nodeType&&n.documentElement?(rr=(or=n).documentElement,ir=!Yo(n),o&&o!==function(t){try{return t.top}catch(e){}return null}(o)&&(o.addEventListener?o.addEventListener("unload",(function(){nr()}),!1):o.attachEvent&&o.attachEvent("onunload",(function(){nr()}))),qo.attributes=!0,qo.getElementsByTagName=!0,qo.getElementsByClassName=Hr.test(n.getElementsByClassName),qo.getById=!0,Xo.find.ID=function(t,e){if(typeof e.getElementById!=vr&&ir){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},Xo.filter.ID=function(t){var e=t.replace(jr,Uo);return function(t){return t.getAttribute("id")===e}},Xo.find.TAG=qo.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!=vr)return e.getElementsByTagName(t)}:function(t,e){var n,o=[],r=0,i=e.getElementsByTagName(t);if("*"!==t)return i;for(;n=i[r++];)1===n.nodeType&&o.push(n);return o},Xo.find.CLASS=qo.getElementsByClassName&&function(t,e){if(ir)return e.getElementsByClassName(t)},ur=[],ar=[],qo.disconnectedMatch=!0,ar=ar.length&&new RegExp(ar.join("|")),ur=ur.length&&new RegExp(ur.join("|")),e=Hr.test(rr.compareDocumentPosition),sr=e||Hr.test(rr.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,o=e&&e.parentNode;return t===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},gr=e?function(t,e){if(t===e)return er=!0,0;var o=!t.compareDocumentPosition-!e.compareDocumentPosition;return o||(1&(o=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!qo.sortDetached&&e.compareDocumentPosition(t)===o?t===n||t.ownerDocument===lr&&sr(lr,t)?-1:e===n||e.ownerDocument===lr&&sr(lr,e)?1:tr?kr.call(tr,t)-kr.call(tr,e):0:4&o?-1:1)}:function(t,e){if(t===e)return er=!0,0;var o,r=0,i=t.parentNode,a=e.parentNode,u=[t],s=[e];if(!i||!a)return t===n?-1:e===n?1:i?-1:a?1:tr?kr.call(tr,t)-kr.call(tr,e):0;if(i===a)return qr(t,e);for(o=t;o=o.parentNode;)u.unshift(o);for(o=e;o=o.parentNode;)s.unshift(o);for(;u[r]===s[r];)r++;return r?qr(u[r],s[r]):u[r]===lr?-1:s[r]===lr?1:0},n):or},$r.matches=function(t,e){return $r(t,null,null,e)},$r.matchesSelector=function(t,e){if((t.ownerDocument||t)!==or&&nr(t),e=e.replace(zr,"='$1']"),qo.matchesSelector&&ir&&(!ur||!ur.test(e))&&(!ar||!ar.test(e)))try{var n=(void 0).call(t,e);if(n||qo.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(Qw){}return 0<$r(e,or,null,[t]).length},$r.contains=function(t,e){return(t.ownerDocument||t)!==or&&nr(t),sr(t,e)},$r.attr=function(t,e){(t.ownerDocument||t)!==or&&nr(t);var n=Xo.attrHandle[e.toLowerCase()],o=n&&br.call(Xo.attrHandle,e.toLowerCase())?n(t,e,!ir):void 0;return void 0!==o?o:qo.attributes||!ir?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},$r.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},$r.uniqueSort=function(t){var e,n=[],o=0,r=0;if(er=!qo.detectDuplicates,tr=!qo.sortStable&&t.slice(0),t.sort(gr),er){for(;e=t[r++];)e===t[r]&&(o=n.push(r));for(;o--;)t.splice(n[o],1)}return tr=null,t},Go=$r.getText=function(t){var e,n="",o=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Go(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[o++];)n+=Go(e);return n},(Xo=$r.selectors={cacheLength:50,createPseudo:Wr,match:Rr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(jr,Uo),t[3]=(t[3]||t[4]||t[5]||"").replace(jr,Uo),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||$r.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&$r.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Rr.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Mr.test(n)&&(e=Ko(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(jr,Uo).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=mr[t+" "];return e||(e=new RegExp("(^|"+Tr+")"+t+"("+Tr+"|$)"))&&mr(t,(function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!=vr&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(o){var r=$r.attr(o,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&-1<r.indexOf(n):"$="===e?n&&r.slice(-n.length)===n:"~="===e?-1<(" "+r+" ").indexOf(n):"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,o,r){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===o&&0===r?function(t){return!!t.parentNode}:function(e,n,s){var c,l,f,d,m,h,p=i!=a?"nextSibling":"previousSibling",g=e.parentNode,v=u&&e.nodeName.toLowerCase(),b=!s&&!u;if(g){if(i){for(;p;){for(f=e;f=f[p];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=p="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(m=(c=(l=g[cr]||(g[cr]={}))[t]||[])[0]===fr&&c[1],d=c[0]===fr&&c[2],f=m&&g.childNodes[m];f=++m&&f&&f[p]||(d=m=0)||h.pop();)if(1===f.nodeType&&++d&&f===e){l[t]=[fr,m,d];break}}else if(b&&(c=(e[cr]||(e[cr]={}))[t])&&c[0]===fr)d=c[1];else for(;(f=++m&&f&&f[p]||(d=m=0)||h.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[cr]||(f[cr]={}))[t]=[fr,d]),f!==e)););return(d-=r)===o||d%o==0&&0<=d/o}}},PSEUDO:function(t,e){var n,o=Xo.pseudos[t]||Xo.setFilters[t.toLowerCase()]||$r.error("unsupported pseudo: "+t);return o[cr]?o(e):1<o.length?(n=[t,t,"",e],Xo.setFilters.hasOwnProperty(t.toLowerCase())?Wr((function(t,n){for(var r,i=o(t,e),a=i.length;a--;)t[r=kr.call(t,i[a])]=!(n[r]=i[a])})):function(t){return o(t,0,n)}):o}},pseudos:{not:Wr((function(t){var e=[],n=[],o=Jo(t.replace(Ar,"$1"));return o[cr]?Wr((function(t,e,n,r){for(var i,a=o(t,null,r,[]),u=t.length;u--;)(i=a[u])&&(t[u]=!(e[u]=i))})):function(t,r,i){return e[0]=t,o(e,null,i,n),!n.pop()}})),has:Wr((function(t){return function(e){return 0<$r(t,e).length}})),contains:Wr((function(t){return t=t.replace(jr,Uo),function(e){return-1<(e.textContent||e.innerText||Go(e)).indexOf(t)}})),lang:Wr((function(t){return Br.test(t||"")||$r.error("unsupported lang: "+t),t=t.replace(jr,Uo).toLowerCase(),function(e){var n;do{if(n=ir?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.window.location&&t.window.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===rr},focus:function(t){return t===or.activeElement&&(!or.hasFocus||or.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!Xo.pseudos.empty(t)},header:function(t){return Pr.test(t.nodeName)},input:function(t){return Ir.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Yr((function(){return[0]})),last:Yr((function(t,e){return[e-1]})),eq:Yr((function(t,e,n){return[n<0?n+e:n]})),even:Yr((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:Yr((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:Yr((function(t,e,n){for(var o=n<0?n+e:n;0<=--o;)t.push(o);return t})),gt:Yr((function(t,e,n){for(var o=n<0?n+e:n;++o<e;)t.push(o);return t}))}}).pseudos.nth=Xo.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Xo.pseudos[Wo]=Xr(Wo);for(Wo in{submit:!0,reset:!0})Xo.pseudos[Wo]=Gr(Wo);function Jr(){}function Qr(t){for(var e=0,n=t.length,o="";e<n;e++)o+=t[e].value;return o}function Zr(t,e,n){var o=e.dir,r=n&&"parentNode"===o,i=dr++;return e.first?function(e,n,i){for(;e=e[o];)if(1===e.nodeType||r)return t(e,n,i)}:function(e,n,a){var u,s,c=[fr,i];if(a){for(;e=e[o];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[o];)if(1===e.nodeType||r){if((u=(s=e[cr]||(e[cr]={}))[o])&&u[0]===fr&&u[1]===i)return c[2]=u[2];if((s[o]=c)[2]=t(e,n,a))return!0}}}function ti(t){return 1<t.length?function(e,n,o){for(var r=t.length;r--;)if(!t[r](e,n,o))return!1;return!0}:t[0]}function ei(t,e,n,o,r){for(var i,a=[],u=0,s=t.length,c=null!=e;u<s;u++)(i=t[u])&&(n&&!n(i,o,r)||(a.push(i),c&&e.push(u)));return a}function ni(t,e,n,o,r,i){return o&&!o[cr]&&(o=ni(o)),r&&!r[cr]&&(r=ni(r,i)),Wr((function(i,a,u,s){var c,l,f,d=[],m=[],h=a.length,p=i||function(t,e,n){for(var o=0,r=e.length;o<r;o++)$r(t,e[o],n);return n}(e||"*",u.nodeType?[u]:u,[]),g=!t||!i&&e?p:ei(p,d,t,u,s),v=n?r||(i?t:h||o)?[]:a:g;if(n&&n(g,v,u,s),o)for(c=ei(v,m),o(c,[],u,s),l=c.length;l--;)(f=c[l])&&(v[m[l]]=!(g[m[l]]=f));if(i){if(r||t){if(r){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);r(null,v=[],c,s)}for(l=v.length;l--;)(f=v[l])&&-1<(c=r?kr.call(i,f):d[l])&&(i[c]=!(a[c]=f))}}else v=ei(v===a?v.splice(h,v.length):v),r?r(null,a,v,s):Cr.apply(a,v)}))}function oi(t){for(var e,n,o,r=t.length,i=Xo.relative[t[0].type],a=i||Xo.relative[" "],u=i?1:0,s=Zr((function(t){return t===e}),a,!0),c=Zr((function(t){return-1<kr.call(e,t)}),a,!0),l=[function(t,n,o){return!i&&(o||n!==Zo)||((e=n).nodeType?s(t,n,o):c(t,n,o))}];u<r;u++)if(n=Xo.relative[t[u].type])l=[Zr(ti(l),n)];else{if((n=Xo.filter[t[u].type].apply(null,t[u].matches))[cr]){for(o=++u;o<r&&!Xo.relative[t[o].type];o++);return ni(1<u&&ti(l),1<u&&Qr(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(Ar,"$1"),n,u<o&&oi(t.slice(u,o)),o<r&&oi(t=t.slice(o)),o<r&&Qr(t))}l.push(n)}return ti(l)}function ri(t){return void 0!==t}function ii(t){return"string"==typeof t}function ai(t,e){var n,o,r;for(r=(e=e||mi).createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;o=r.firstChild;)n.appendChild(o);return n}function ui(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function si(t,e,n){var o,r;return e=Di(e)[0],t.each((function(){n&&o===this.parentNode||(o=this.parentNode,r=e.cloneNode(!1),this.parentNode.insertBefore(r,this)),r.appendChild(this)})),t}function ci(t,e){return new Di.fn.init(t,e)}function li(t){return null==t?"":(""+t).replace(Ei,"")}function fi(t,e){var n,o,r,i;if(t)if(void 0===(n=t.length)){for(o in t)if(t.hasOwnProperty(o)&&!1===e.call(i=t[o],o,i))break}else for(r=0;r<n&&!1!==e.call(i=t[r],r,i);r++);return t}function di(t,e){var n=[];return fi(t,(function(t,o){e(o,t)&&n.push(o)})),n}Jr.prototype=Xo.filters=Xo.pseudos,Xo.setFilters=new Jr,Ko=$r.tokenize=function(t,e){var n,o,r,i,a,u,s,c=hr[t+" "];if(c)return e?0:c.slice(0);for(a=t,u=[],s=Xo.preFilter;a;){for(i in n&&!(o=_r.exec(a))||(o&&(a=a.slice(o[0].length)||a),u.push(r=[])),n=!1,(o=Dr.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(Ar," ")}),a=a.slice(n.length)),Xo.filter)Xo.filter.hasOwnProperty(i)&&(!(o=Rr[i].exec(a))||s[i]&&!(o=s[i](o))||(n=o.shift(),r.push({value:n,type:i,matches:o}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?$r.error(t):hr(t,u).slice(0)},Jo=$r.compile=function(t,e){var n,o=[],r=[],i=pr[t+" "];if(!i){for(n=(e=e||Ko(t)).length;n--;)(i=oi(e[n]))[cr]?o.push(i):r.push(i);(i=pr(t,function(t,e){function n(n,i,a,u,s){var c,l,f,d=0,m="0",h=n&&[],p=[],g=Zo,v=n||r&&Xo.find.TAG("*",s),b=fr+=null==g?1:Math.random()||.1,y=v.length;for(s&&(Zo=i!==or&&i);m!==y&&null!=(c=v[m]);m++){if(r&&c){for(l=0;f=t[l++];)if(f(c,i,a)){u.push(c);break}s&&(fr=b)}o&&((c=!f&&c)&&d--,n&&h.push(c))}if(d+=m,o&&m!==d){for(l=0;f=e[l++];)f(h,p,i,a);if(n){if(0<d)for(;m--;)h[m]||p[m]||(p[m]=xr.call(u));p=ei(p)}Cr.apply(u,p),s&&!n&&0<p.length&&1<d+e.length&&$r.uniqueSort(u)}return s&&(fr=b,Zo=g),h}var o=0<e.length,r=0<t.length;return o?Wr(n):n}(r,o))).selector=t}return i},Qo=$r.select=function(t,e,n,o){var r,i,a,u,s,c="function"==typeof t&&t,l=!o&&Ko(t=c.selector||t);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&qo.getById&&9===e.nodeType&&ir&&Xo.relative[i[1].type]){if(!(e=(Xo.find.ID(a.matches[0].replace(jr,Uo),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(r=Rr.needsContext.test(t)?0:i.length;r--&&!Xo.relative[u=(a=i[r]).type];)if((s=Xo.find[u])&&(o=s(a.matches[0].replace(jr,Uo),Fr.test(i[0].type)&&Kr(e.parentNode)||e))){if(i.splice(r,1),!(t=o.length&&Qr(i)))return Cr.apply(n,o),n;break}}return(c||Jo(t,l))(o,e,!ir,n,Fr.test(t)&&Kr(e.parentNode)||e),n},qo.sortStable=cr.split("").sort(gr).join("")===cr,qo.detectDuplicates=!!er,nr(),qo.sortDetached=!0;var mi=t.document,hi=Array.prototype.push,pi=Array.prototype.slice,gi=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,vi=jo.Event,bi=$n.makeMap("children,contents,next,prev"),yi=function(t,e,n,o){var r;if(ii(e))e=ai(e,Oi(t[0]));else if(e.length&&!e.nodeType){if(e=Di.makeArray(e),o)for(r=e.length-1;0<=r;r--)yi(t,e[r],n,o);else for(r=0;r<e.length;r++)yi(t,e[r],n,o);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},xi=$n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),wi=$n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ci={for:"htmlFor",class:"className",readonly:"readOnly"},Si={float:"cssFloat"},ki={},Ti={},Ei=/^\s*|\s*$/g,Oi=function(t){return t?9===t.nodeType?t:t.ownerDocument:mi};function Ni(t,e,n){var o=[],r=t[e];for("string"!=typeof n&&n instanceof Di&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&Di(r).is(n))break}1===r.nodeType&&o.push(r),r=r[e]}return o}function Ai(t,e,n,o){var r=[];for(o instanceof Di&&(o=o[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==o){if(t===o)break;if("string"==typeof o&&Di(t).is(o))break}r.push(t)}return r}function _i(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null}ci.fn=ci.prototype={constructor:ci,selector:"",context:null,length:0,init:function(e,n){var o,r,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(n&&n.nodeType)i.context=n;else{if(n)return Di(e).attr(n);i.context=n=t.document}if(ii(e)){if(!(o="<"===(i.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:gi.exec(e)))return Di(n).find(e);if(o[1])for(r=ai(e,Oi(n)).firstChild;r;)hi.call(i,r),r=r.nextSibling;else{if(!(r=Oi(n).getElementById(o[2])))return i;if(r.id!==o[2])return i.find(e);i.length=1,i[0]=r}}else this.add(e,!1);return i},toArray:function(){return $n.toArray(this)},add:function(t,e){var n,o;if(ii(t))return this.add(Di(t));if(!1!==e)for(n=Di.unique(this.toArray().concat(Di.makeArray(t))),this.length=n.length,o=0;o<n.length;o++)this[o]=n[o];else hi.apply(this,Di.makeArray(t));return this},attr:function(t,e){var n,o=this;if("object"==typeof t)fi(t,(function(t,e){o.attr(t,e)}));else{if(!ri(e)){if(o[0]&&1===o[0].nodeType){if((n=ki[t])&&n.get)return n.get(o[0],t);if(wi[t])return o.prop(t)?t:void 0;null===(e=o[0].getAttribute(t,2))&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if((n=ki[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return o},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=Ci[t]||t))fi(t,(function(t,e){n.prop(t,e)}));else{if(!ri(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,n){function o(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))}function r(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))}var i,a,u=this;if("object"==typeof t)fi(t,(function(t,e){u.css(t,e)}));else if(ri(n))t=o(t),"number"!=typeof n||xi[t]||(n=n.toString()+"px"),u.each((function(){var e=this.style;if((a=Ti[t])&&a.set)a.set(this,n);else{try{this.style[Si[t]||t]=n}catch(i){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(r(t)):e.removeAttribute(t))}}));else{if(i=u[0],(a=Ti[t])&&a.get)return a.get(i);if(!i.ownerDocument.defaultView)return i.currentStyle?i.currentStyle[o(t)]:"";try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(r(t))}catch(e){return}}return u},remove:function(){for(var t,e=this.length;e--;)vi.clean(t=this[e]),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(ri(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(m){Di(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e;if(ri(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return yi(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return yi(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){return this[0]&&this[0].parentNode?yi(this,arguments,(function(t){this.parentNode.insertBefore(t,this)})):this},after:function(){return this[0]&&this[0].parentNode?yi(this,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):this},appendTo:function(t){return Di(t).append(this),this},prependTo:function(t){return Di(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return si(this,t)},wrapAll:function(t){return si(this,t,!0)},wrapInner:function(t){return this.each((function(){Di(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){Di(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),Di(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?fi(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,o){var r,i;(i=ui(o,t))!==e&&(r=o.className,i?o.className=li((" "+r+" ").replace(" "+t+" "," ")):o.className+=r?" "+t:t)}))),n},hasClass:function(t){return ui(this[0],t)},each:function(t){return fi(this,t)},on:function(t,e){return this.each((function(){vi.bind(this,t,e)}))},off:function(t,e){return this.each((function(){vi.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"==typeof t?vi.fire(this,t.type,t):vi.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Di(pi.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,o=[];for(e=0,n=this.length;e<n;e++)Di.find(t,this[e],o);return Di(o)},filter:function(t){return Di("function"==typeof t?di(this.toArray(),(function(e,n){return t(n,e)})):Di.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof Di&&(t=t[0]),this.each((function(n,o){for(;o;){if("string"==typeof t&&Di(o).is(t)){e.push(o);break}if(o===t){e.push(o);break}o=o.parentNode}})),Di(e)},offset:function(t){var e,n,o,r,i=0,a=0;return t?this.css(t):((e=this[0])&&(o=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(i=(r=e.getBoundingClientRect()).left+(o.scrollLeft||n.body.scrollLeft)-o.clientLeft,a=r.top+(o.scrollTop||n.body.scrollTop)-o.clientTop)),{left:i,top:a})},push:hi,sort:Array.prototype.sort,splice:Array.prototype.splice},$n.extend(ci,{extend:$n.extend,makeArray:function(t){return function(t){return t&&t===t.window}(t)||t.nodeType?[t]:$n.toArray(t)},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:$n.isArray,each:fi,trim:li,grep:di,find:$r,expr:$r.selectors,unique:$r.uniqueSort,text:$r.getText,contains:$r.contains,filter:function(t,e,n){var o=e.length;for(n&&(t=":not("+t+")");o--;)1!==e[o].nodeType&&e.splice(o,1);return 1===e.length?Di.find.matchesSelector(e[0],t)?[e[0]]:[]:Di.find.matches(t,e)}}),fi({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Ni(t,"parentNode")},next:function(t){return _i(t,"nextSibling",1)},prev:function(t){return _i(t,"previousSibling",1)},children:function(t){return Ai(t.firstChild,"nextSibling",1)},contents:function(t){return $n.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){ci.fn[t]=function(n){var o=[];this.each((function(){var t=e.call(o,this,n,o);t&&(Di.isArray(t)?o.push.apply(o,t):o.push(t))})),1<this.length&&(bi[t]||(o=Di.unique(o)),0===t.indexOf("parents")&&(o=o.reverse()));var r=Di(o);return n?r.filter(n):r}})),fi({parentsUntil:function(t,e){return Ni(t,"parentNode",e)},nextUntil:function(t,e){return Ai(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return Ai(t,"previousSibling",1,e).slice(1)}},(function(t,e){ci.fn[t]=function(n,o){var r=[];this.each((function(){var t=e.call(r,this,n,r);t&&(Di.isArray(t)?r.push.apply(r,t):r.push(t))})),1<this.length&&(r=Di.unique(r),0!==t.indexOf("parents")&&"prevUntil"!==t||(r=r.reverse()));var i=Di(r);return o?i.filter(o):i}})),ci.fn.is=function(t){return!!t&&0<this.filter(t).length},ci.fn.init.prototype=ci.fn,ci.overrideDefaults=function(t){var e,n=function(o,r){return e=e||t(),0===arguments.length&&(o=e.element),new n.fn.init(o,r=r||e.context)};return Di.extend(n,this),n},ci.attrHooks=ki,ci.cssHooks=Ti;var Di=ci,zi=(Mi.prototype.current=function(){return this.node},Mi.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},Mi.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},Mi.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},Mi.prototype.findSibling=function(t,e,n,o){var r,i;if(t){if(!o&&t[e])return t[e];if(t!==this.rootNode){if(r=t[n])return r;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(r=i[n])return r}}},Mi.prototype.findPreviousNode=function(t,e,n,o){var r,i,a;if(t){if(r=t[n],this.rootNode&&r===this.rootNode)return;if(r){if(!o)for(a=r[e];a;a=a[e])if(!a[e])return a;return r}if((i=t.parentNode)&&i!==this.rootNode)return i}},Mi);function Mi(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}var Bi,Ri=$n.each,Ii=$n.grep,Pi=Hn.ie,Hi=/^([a-z0-9],?)+$/i,Li=/^[ \t\r\n]*$/,Fi=function(t,e){var n=e.attr("style"),o=t.serialize(t.parse(n),e[0].nodeName);e.attr("data-mce-style",o=o||null)},Vi=function(t,e){var n,o,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)o=t.nodeType,(!e||3!==o||o!==n&&t.nodeValue.length)&&(r++,n=o);return r};function ji(e,i){var a,u=this;function s(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t}function c(t){return"string"==typeof t&&(t=s(t)),V(t)}function l(t,e,n){var o,r,i=c(t);return i.length&&(r=(o=a[e])&&o.get?o.get(i,e):i.attr(e)),void 0===r&&(r=n||""),r}function f(t){var e=s(t);return e?e.attributes:[]}function d(t,e,n){var o,r;""===n&&(n=null);var u=c(t);o=u.attr(e),u.length&&((r=a[e])&&r.set?r.set(u,n,e):u.attr(e,n),o!==n&&i.onSetAttrib&&i.onSetAttrib({attrElm:u,attrName:e,attrValue:n}))}function m(){return i.root_element||e.body}function h(t,n){return function(t,e,n){var o,r,i=0,a=0,u=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===Gt(ee.fromDom(t),"position"))return{x:i=(r=e.getBoundingClientRect()).left+(u.documentElement.scrollLeft||t.scrollLeft)-u.documentElement.clientLeft,y:a=r.top+(u.documentElement.scrollTop||t.scrollTop)-u.documentElement.clientTop};for(o=e;o&&o!==n&&o.nodeType&&!Jt(o,n);)i+=o.offsetLeft||0,a+=o.offsetTop||0,o=o.offsetParent;for(o=e.parentNode;o&&o!==n&&o.nodeType&&!Jt(o,n);)i-=o.scrollLeft||0,a-=o.scrollTop||0,o=o.parentNode;a+=function(t){return Je.isFirefox()&&"table"===zt(t)?Kt(Ct(t)).filter((function(t){return"caption"===zt(t)})).bind((function(t){return Kt(wt(t)).map((function(e){var n=e.dom().offsetTop,o=t.dom().offsetTop,r=t.dom().offsetHeight;return n<=o?-r:0}))})).getOr(0):0}(ee.fromDom(e))}return{x:i,y:a}}(e.body,s(t),n)}function p(t,e,n){var o=c(t);return n?o.css(e):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e=Hn.browser.isIE()?"styleFloat":"cssFloat"),o[0]&&o[0].style?o[0].style[e]:void 0)}function g(t){var e,n;return e=p(t=s(t),"width"),n=p(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}}function v(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Hi.test(e)){var o=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=o.length-1;0<=n;n--)if(o[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var i=Array.isArray(t)?t:[t];return 0<$r(e,i[0].ownerDocument||i[0],null,i).length}function b(t,e,n,o){var r,i=[],a=s(t);for(o=void 0===o,n=n||("BODY"!==m().nodeName?m().parentNode:null),$n.is(e,"string")&&(e="*"===(r=e)?function(t){return 1===t.nodeType}:function(t){return v(t,r)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!e||"function"==typeof e&&e(a)){if(!o)return[a];i.push(a)}a=a.parentNode}return o?i:null}function y(t,e,n){var o=e;if(t)for("string"==typeof e&&(o=function(t){return v(t,e)}),t=t[n];t;t=t[n])if("function"==typeof o&&o(t))return t;return null}function x(t,e,n){var o,r="string"==typeof t?s(t):t;return!!r&&($n.isArray(r)&&(r.length||0===r.length)?(o=[],Ri(r,(function(t,r){t&&("string"==typeof t&&(t=s(t)),o.push(e.call(n,t,r)))})),o):e.call(n||u,r))}function w(t,e){c(t).each((function(t,n){Ri(e,(function(t,e){d(n,e,t)}))}))}function C(t,e){var n=c(t);Pi?n.each((function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(y){Di("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)}function S(t,n,o,r,i){return x(t,(function(t){var a="string"==typeof n?e.createElement(n):n;return w(a,o),r&&("string"!=typeof r&&r.nodeType?a.appendChild(r):"string"==typeof r&&C(a,r)),i?a:t.appendChild(a)}))}function k(t,n,o){return S(e.createElement(t),t,n,o,!0)}function T(t,e){var n=c(t);return e?n.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),1<n.length?n.toArray():n[0]}function E(t,e,n){c(t).toggleClass(e,n).each((function(){""===this.className&&Di(this).attr("class",null)}))}function O(t,e,n){return x(e,(function(e){return $n.is(e,"array")&&(t=t.cloneNode(!0)),n&&Ri(Ii(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))}function N(){return e.createRange()}function A(t){if(t&&Ge.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null}void 0===i&&(i={});var _={},D=t.window,z={},M=0,B=function(e,i){void 0===i&&(i={});var a,u=0,s={};function c(t){e.getElementsByTagName("head")[0].appendChild(t)}function l(n,o,r){function l(t){v.status=t,v.passed=[],v.failed=[],h&&(h.onload=null,h.onerror=null,h=null)}function f(){for(var t=v.passed,e=t.length;e--;)t[e]();l(2)}function d(){for(var t=v.failed,e=t.length;e--;)t[e]();l(3)}function m(t,e){t()||((new Date).getTime()-g<a?An.setTimeout(e):d())}var h,p,g,v,b=function(){m((function(){for(var t,n,o=e.styleSheets,r=o.length;r--;)if((n=(t=o[r]).ownerNode?t.ownerNode:t.owningElement)&&n.id===h.id)return f(),!0}),b)},y=function(){m((function(){try{var t=p.sheet.cssRules;return f(),!!t}catch(o){}}),y)};if(n=$n._addCacheSuffix(n),s[n]?v=s[n]:s[n]=v={passed:[],failed:[]},o&&v.passed.push(o),r&&v.failed.push(r),1!==v.status)if(2!==v.status)if(3!==v.status){if(v.status=1,(h=e.createElement("link")).rel="stylesheet",h.type="text/css",h.id="u"+u++,h.async=!1,h.defer=!1,g=(new Date).getTime(),i.contentCssCors&&(h.crossOrigin="anonymous"),i.referrerPolicy&&Ye(ee.fromDom(h),"referrerpolicy",i.referrerPolicy),"onload"in h&&!((x=t.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(x[1],10)<536))h.onload=b,h.onerror=d;else{if(0<t.navigator.userAgent.indexOf("Firefox"))return(p=e.createElement("style")).textContent='@import "'+n+'"',y(),void c(p);b()}var x;c(h),h.href=n}else d();else f()}function f(t){return cn((function(e){l(t,n(e,o(dn.value(t))),n(e,o(dn.error(t))))}))}function d(t){return t.fold(r,r)}return a=i.maxLoadTime||5e3,{load:l,loadAll:function(t,e,n){(function(t){return function(t,e){return e((function(e){var n=[],o=0;0===t.length?e([]):G(t,(function(r,i){r.get(function(r){return function(i){n[r]=i,++o>=t.length&&e(n)}}(i))}))}))}(t,cn)})(X(t,f)).get((function(t){var o=function(t,e){for(var n=[],o=[],r=0,i=t.length;r<i;r++){var a=t[r];(e(a)?n:o).push(a)}return{pass:n,fail:o}}(t,(function(t){return t.isValue()}));0<o.fail.length?n(o.fail.map(d)):e(o.pass.map(d))}))},_setReferrerPolicy:function(t){i.referrerPolicy=t}}}(e,{contentCssCors:i.contentCssCors,referrerPolicy:i.referrerPolicy}),R=[],I=i.schema?i.schema:Ao({}),H=Po({url_converter:i.url_converter,url_converter_scope:i.url_converter_scope},i.schema),L=i.ownEvents?new jo:jo.Event,F=I.getBlockElements(),V=Di.overrideDefaults((function(){return{context:e,element:W.getRoot()}})),j=yo.encodeAllRaw,$=function(t,n,o,r){if($n.isArray(t)){for(var a=t.length,u=[];a--;)u[a]=$(t[a],n,o,r);return u}return!i.collect||t!==e&&t!==D||R.push([t,n,o,r]),L.bind(t,n,o,r||W)},U=function(t,n,o){var r;if($n.isArray(t)){r=t.length;for(var i=[];r--;)i[r]=U(t[r],n,o);return i}if(R&&(t===e||t===D))for(r=R.length;r--;){var a=R[r];t!==a[0]||n&&n!==a[1]||o&&o!==a[2]||L.unbind(a[0],a[1],a[2])}return L.unbind(t,n,o)},W={doc:e,settings:i,win:D,files:z,stdMode:!0,boxModel:!0,styleSheetLoader:B,boundEvents:R,styles:H,schema:I,events:L,isBlock:function(t){if("string"==typeof t)return!!F[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!F[t.nodeName])}return!1},$:V,$$:c,root:null,clone:function(t,n){if(!Pi||1!==t.nodeType||n)return t.cloneNode(n);if(n)return null;var o=e.createElement(t.nodeName);return Ri(f(t),(function(e){d(o,e.nodeName,l(t,e.nodeName))})),o},getRoot:m,getViewPort:function(t){var e=He(t);return{x:e.x(),y:e.y(),w:e.width(),h:e.height()}},getRect:function(t){var e,n;return e=h(t=s(t)),n=g(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:g,getParent:function(t,e,n){var o=b(t,e,n,!1);return o&&0<o.length?o[0]:null},getParents:b,get:s,getNext:function(t,e){return y(t,e,"nextSibling")},getPrev:function(t,e){return y(t,e,"previousSibling")},select:function(t,n){return $r(t,s(n)||i.root_element||e,[])},is:v,add:S,create:k,createHTML:function(t,e,n){var o,r="";for(o in r+="<"+t,e)e.hasOwnProperty(o)&&null!=e[o]&&(r+=" "+o+'="'+j(e[o])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(t){var n,o=e.createElement("div"),r=e.createDocumentFragment();for(t&&(o.innerHTML=t);n=o.firstChild;)r.appendChild(n);return r},remove:T,setStyle:function(t,e,n){var o=P(e)?c(t).css(e,n):c(t).css(e);i.update_styles&&Fi(H,o)},getStyle:p,setStyles:function(t,e){var n=c(t).css(e);i.update_styles&&Fi(H,n)},removeAllAttribs:function(t){return x(t,(function(t){var e,n=t.attributes;for(e=n.length-1;0<=e;e--)t.removeAttributeNode(n.item(e))}))},setAttrib:d,setAttribs:w,getAttrib:l,getPos:h,parseStyle:function(t){return H.parse(t)},serializeStyle:function(t,e){return H.serialize(t,e)},addStyle:function(n){var o,r;if(W!==ji.DOM&&e===t.document){if(_[n])return;_[n]=!0}(r=e.getElementById("mceDefaultStyles"))||((r=e.createElement("style")).id="mceDefaultStyles",r.type="text/css",(o=e.getElementsByTagName("head")[0]).firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=n:r.appendChild(e.createTextNode(n))},loadCSS:function(n){var o;W===ji.DOM||e!==t.document?(n=n||"",o=e.getElementsByTagName("head")[0],Ri(n.split(","),(function(t){var e;t=$n._addCacheSuffix(t),z[t]||(z[t]=!0,e=k("link",et(et({rel:"stylesheet",type:"text/css",href:t},i.contentCssCors?{crossOrigin:"anonymous"}:{}),i.referrerPolicy?{referrerPolicy:i.referrerPolicy}:{})),o.appendChild(e))}))):ji.DOM.loadCSS(n)},addClass:function(t,e){c(t).addClass(e)},removeClass:function(t,e){E(t,e,!1)},hasClass:function(t,e){return c(t).hasClass(e)},toggleClass:E,show:function(t){c(t).show()},hide:function(t){c(t).hide()},isHidden:function(t){return"none"===c(t).css("display")},uniqueId:function(t){return(t||"mce_")+M++},setHTML:C,getOuterHTML:function(t){var e="string"==typeof t?s(t):t;return Ge.isElement(e)?e.outerHTML:Di("<div></div>").append(Di(e).clone()).html()},setOuterHTML:function(t,e){c(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}T(Di(this).html(e),!0)}))},decode:yo.decode,encode:j,insertAfter:function(t,e){var n=s(e);return x(t,(function(t){var e,o;return e=n.parentNode,(o=n.nextSibling)?e.insertBefore(t,o):e.appendChild(t),t}))},replace:O,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=k(e),Ri(f(t),(function(e){d(n,e.nodeName,l(t,e.nodeName))})),O(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,o=t;o;){for(n=e;n&&o!==n;)n=n.parentNode;if(o===n)break;o=o.parentNode}return!o&&t.ownerDocument?t.ownerDocument.documentElement:o},toHex:function(t){return H.toHex($n.trim(t))},run:x,getAttribs:f,isEmpty:function(t,e){var n,o,r,i,a=0;if(t=t.firstChild){var u=new zi(t,t.parentNode),s=I?I.getWhiteSpaceElements():{};e=e||(I?I.getNonEmptyElements():null);do{if(r=t.nodeType,Ge.isElement(t)){var c=t.getAttribute("data-mce-bogus");if(c){t=u.next("all"===c);continue}if(i=t.nodeName.toLowerCase(),e&&e[i]){if("br"!==i)return!1;a++,t=u.next();continue}for(n=(o=f(t)).length;n--;)if("name"===(i=o[n].nodeName)||"data-mce-bookmark"===i)return!1}if(8===r)return!1;if(3===r&&!Li.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&s[t.parentNode.nodeName]&&Li.test(t.nodeValue))return!1;t=u.next()}while(t)}return a<=1},createRng:N,nodeIndex:Vi,split:function(t,e,n){var o,r,i,a=N();if(t&&e)return a.setStart(t.parentNode,Vi(t)),a.setEnd(e.parentNode,Vi(e)),o=a.extractContents(),(a=N()).setStart(e.parentNode,Vi(e)+1),a.setEnd(t.parentNode,Vi(t)+1),r=a.extractContents(),(i=t.parentNode).insertBefore(uo.trimNode(W,o),t),i.insertBefore(n||e,t),i.insertBefore(uo.trimNode(W,r),t),T(t),n||e},bind:$,unbind:U,fire:function(t,e,n){return L.fire(t,e,n)},getContentEditable:A,getContentEditableParent:function(t){for(var e=m(),n=null;t&&t!==e&&null===(n=A(t));t=t.parentNode);return n},destroy:function(){if(R)for(var t=R.length;t--;){var e=R[t];L.unbind(e[0],e[1],e[2])}$r.setDocument&&$r.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return a=function(t,e,n){var o=e.keep_values,r={set:function(t,n,o){e.url_converter&&(n=e.url_converter.call(e.url_converter_scope||W,n,o,t[0])),t.attr("data-mce-"+o,n).attr(o,n)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(e,n){null===n||"object"!=typeof n?(o&&e.attr("data-mce-style",n),null!==n&&"string"==typeof n?(e.removeAttr("style"),e.css(t.parse(n))):e.attr("style",n)):e.css(n)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return t.serialize(t.parse(n),e[0].nodeName)}}};return o&&(i.href=i.src=r),i}(H,i),W}(Bi=ji=ji||{}).DOM=Bi(t.document),Bi.nodeIndex=Vi;var $i=ji,Ui=$i.DOM,Wi=$n.each,qi=$n.grep,Xi=(Gi.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},Gi.prototype.loadScript=function(e,n,o){var r,i,a=Ui;i=a.uniqueId(),(r=t.document.createElement("script")).id=i,r.type="text/javascript",r.src=$n._addCacheSuffix(e),this.settings.referrerPolicy&&a.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=function(){a.remove(i),r&&(r.onreadystatechange=r.onload=r=null),n()},r.onerror=function(){j(o)?o():void 0!==t.console&&t.console.log&&t.console.log("Failed to load script: "+e)},(t.document.getElementsByTagName("head")[0]||t.document.body).appendChild(r)},Gi.prototype.isDone=function(t){return 2===this.states[t]},Gi.prototype.markDone=function(t){this.states[t]=2},Gi.prototype.add=function(t,e,n,o){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:o,scope:n||this}))},Gi.prototype.load=function(t,e,n,o){return this.add(t,e,n,o)},Gi.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},Gi.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},Gi.prototype.loadScripts=function(t,e,n,o){function r(t,e){Wi(a.scriptLoadedCallbacks[e],(function(e){j(e[t])&&e[t].call(e.scope)})),a.scriptLoadedCallbacks[e]=void 0}var i,a=this,u=[];a.queueLoadedCallbacks.push({success:e,failure:o,scope:n||this}),(i=function(){var e=qi(t);if(t.length=0,Wi(e,(function(t){2!==a.states[t]?3!==a.states[t]?1!==a.states[t]&&(a.states[t]=1,a.loading++,a.loadScript(t,(function(){a.states[t]=2,a.loading--,r("success",t),i()}),(function(){a.states[t]=3,a.loading--,u.push(t),r("failure",t),i()}))):r("failure",t):r("success",t)})),!a.loading){var n=a.queueLoadedCallbacks.slice(0);a.queueLoadedCallbacks.length=0,Wi(n,(function(t){0===u.length?j(t.success)&&t.success.call(t.scope):j(t.failure)&&t.failure.call(t.scope,u)}))}})()},Gi.ScriptLoader=new Gi,Gi);function Gi(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}function Yi(){return B(Ji,Qi.get())}var Ki,Ji={},Qi=ne("en"),Zi={getData:function(){return _(Ji,(function(t){return et({},t)}))},setCode:function(t){t&&Qi.set(t)},getCode:function(){return Qi.get()},add:function(t,e){var n=Ji[t];n||(Ji[t]=n={}),A(e,(function(t,e){n[e.toLowerCase()]=t}))},translate:function(t){function e(t){return j(t)?Object.prototype.toString.call(t):i(t)?"":""+t}function n(t){var n=e(t);return B(r,n.toLowerCase()).map(e).getOr(n)}function o(t){return t.replace(/{context:\w+}$/,"")}var r=Yi().getOr({}),i=function(t){return""===t||null==t};if(i(t))return"";if(function(t){return H(t)&&tt(t,"raw")}(t))return e(t.raw);if(function(t){return L(t)&&1<t.length}(t)){var a=t.slice(1);return o(n(t[0]).replace(/\{([0-9]+)\}/g,(function(t,n){return tt(a,n)?e(a[n]):t})))}return o(n(t))},isRtl:function(){return Yi().bind((function(t){return B(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return tt(Ji,t)}};function ta(){function t(t,e){var n=Y(u,(function(n){return n.name===t&&n.state===e}));G(n,(function(t){return t.callback()}))}function e(t){var e;return a[t]&&(e=a[t].dependencies),e||[]}function n(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}}var o=this,r=[],i={},a={},u=[],s=function(o,r,u,c,l){if(!i[o]){var f="string"==typeof r?r:r.prefix+r.resource+r.suffix;0!==f.indexOf("/")&&-1===f.indexOf("://")&&(f=ta.baseURL+"/"+f),i[o]=f.substring(0,f.lastIndexOf("/"));var d=function(){t(o,"loaded"),function(t,o,r,i){var a=e(t);G(a,(function(t){var e=n(o,t);s(e.resource,e,void 0,void 0)})),r&&r.call(i||Xi)}(o,r,u,c)};a[o]?d():Xi.ScriptLoader.add(f,d,c,l)}},c=function(t,e,n){void 0===n&&(n="added"),tt(a,t)&&"added"===n?e():tt(i,t)&&"loaded"===n?e():u.push({name:t,state:n,callback:e})};return{items:r,urls:i,lookup:a,_listeners:u,get:function(t){return a[t]?a[t].instance:void 0},dependencies:e,requireLangPack:function(t,e){!1!==ta.languageLoad&&c(t,(function(){var n=Zi.getCode();!n||e&&-1===(","+(e||"")+",").indexOf(","+n+",")||Xi.ScriptLoader.add(i[t]+"/langs/"+n+".js")}),"loaded")},add:function(e,n,o){var i=n;return r.push(i),a[e]={instance:i,dependencies:o},t(e,"added"),i},remove:function(t){delete i[t],delete a[t]},createUrl:n,addComponents:function(t,e){var n=o.urls[t];G(e,(function(t){Xi.ScriptLoader.add(n+"/"+t)}))},load:s,waitFor:c}}function ea(e,n){var o=null;return{cancel:function(){null!==o&&(t.clearTimeout(o),o=null)},throttle:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null===o&&(o=t.setTimeout((function(){e.apply(null,r),o=null}),n))}}}function na(e,n){var o=null;return{cancel:function(){null!==o&&(t.clearTimeout(o),o=null)},throttle:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null!==o&&t.clearTimeout(o),o=t.setTimeout((function(){e.apply(null,r),o=null}),n)}}}function oa(t,e){var n=qt(t,e);return void 0===n||""===n?[]:n.split(" ")}function ra(t){return void 0!==t.dom().classList}function ia(t,e){ra(t)?t.dom().classList.add(e):function(t,e){!function(t,e,n){var o=oa(t,e).concat([n]);Ye(t,e,o.join(" "))}(t,"class",e)}(t,e)}function aa(t,e){return ra(t)&&t.dom().classList.contains(e)}function ua(e,n){return function(e,n){var o=void 0===n?t.document:n.dom();return mt(o)?[]:X(o.querySelectorAll(e),ee.fromDom)}(n,e)}(Ki=ta=ta||{}).PluginManager=Ki(),Ki.ThemeManager=Ki();var sa=ta,ca=function(t,e){var n=[];return G(Ct(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(ca(t,e))})),n};function la(t,e,n,o,r){return t(n,o)?I.some(n):j(r)&&r(n)?I.none():e(n,o,r)}function fa(t,e,n){for(var r=t.dom(),i=j(n)?n:o(!1);r.parentNode;){var a=ee.fromDom(r=r.parentNode);if(e(a))return I.some(a);if(i(a))break}return I.none()}function da(t,e,n){return la((function(t,e){return e(t)}),fa,t,e,n)}function ma(t,e,n){return fa(t,(function(t){return dt(t,e)}),n)}function ha(e,n){return function(e,n){var o=void 0===n?t.document:n.dom();return mt(o)?I.none():I.from(o.querySelector(e)).map(ee.fromDom)}(n,e)}function pa(t,e,n){return la(dt,ma,t,e,n)}function ga(t,e){function n(t,e){return function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}(t,e)?I.some(qt(t,e)):I.none()}var o=t.selection.getRng(),r=ee.fromDom(o.startContainer),i=ee.fromDom(t.getBody()),a=e.fold((function(){return"."+qa()}),(function(t){return"["+Xa()+'="'+t+'"]'}));return pa(St(r,o.startOffset).getOr(r),a,(function(t){return ht(t,i)})).bind((function(e){return n(e,""+Ga()).bind((function(o){return n(e,""+Xa()).map((function(e){var n=Ya(t,o);return{uid:o,name:e,elements:n}}))}))}))}function va(e,n){var o=pt(e).dom(),r=ee.fromDom(o.createDocumentFragment());At(r,function(e,n){var o=(n||t.document).createElement("div");return o.innerHTML=e,Ct(ee.fromDom(o))}(n,o)),_t(e),_e(e,r)}function ba(t,e){return ee.fromDom(t.dom().cloneNode(e))}function ya(t){return ba(t,!1)}function xa(t){return ba(t,!0)}function wa(t){return tu(t)&&(t=t.parentNode),Za(t)&&t.hasAttribute("data-mce-caret")}function Ca(t){return tu(t)&&Qa.isZwsp(t.data)}function Sa(t){return wa(t)||Ca(t)}function ka(t){return t.firstChild!==t.lastChild||!Ge.isBr(t.firstChild)}function Ta(t){var e=t.container();return!(!t||!Ge.isText(e))&&(e.data.charAt(t.offset())===Qa.ZWSP||t.isAtStart()&&Ca(e.previousSibling))}function Ea(t){var e=t.container();return!(!t||!Ge.isText(e))&&(e.data.charAt(t.offset()-1)===Qa.ZWSP||t.isAtEnd()&&Ca(e.nextSibling))}function Oa(t){return t&&t.hasAttribute("data-mce-caret")?(function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];Ge.isBogus(n)&&n.parentNode.removeChild(n)}(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null}function Na(t){return!lu(t)&&(au(t)?!uu(t.parentNode):su(t)||iu(t)||cu(t)||fu(t))}function Aa(t,e){return Na(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(fu(t))return!1;if(ou(t))return!0}return!0}(t,e)}function _a(t){return t?{left:du(t.left),top:du(t.top),bottom:du(t.bottom),right:du(t.right),width:du(t.width),height:du(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function Da(t,e){return t=_a(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t}function za(t,e,n){return 0<=t&&t<=Math.min(e.height,n.height)/2}function Ma(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&za(e.top-t.bottom,t,e)}function Ba(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&za(e.bottom-t.top,t,e)}function Ra(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}function Ia(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null}function Pa(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t}function Ha(t){return"string"==typeof t&&768<=t.charCodeAt(0)&&mu.test(t)}function La(t,e,n){return t.isSome()&&e.isSome()?I.some(n(t.getOrDie(),e.getOrDie())):I.none()}function Fa(t){return t&&/[\r\n\t ]/.test(t)}function Va(t){return!!t.setStart&&!!t.setEnd}function ja(t){var e,n=t.startContainer,o=t.startOffset;return!!(Fa(t.toString())&&xu(n.parentNode)&&Ge.isText(n)&&(e=n.data,Fa(e[o-1])||Fa(e[o+1])))}function $a(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom}function Ua(t,e){var n=Da(t,e);return n.width=1,n.right=n.left+1,n}var Wa,qa=o("mce-annotation"),Xa=o("data-mce-annotation"),Ga=o("data-mce-annotation-uid"),Ya=function(t,e){return ua(ee.fromDom(t.getBody()),"["+Ga()+'="'+e+'"]')},Ka=0,Ja=Ro,Qa={isZwsp:function(t){return t===Ja},ZWSP:Ja,trim:function(t){return t.replace(new RegExp(Ja,"g"),"")}},Za=Ge.isElement,tu=Ge.isText,eu=function(t){return tu(t)&&t.data[0]===Qa.ZWSP},nu=function(t){return tu(t)&&t.data[t.data.length-1]===Qa.ZWSP},ou=Ge.isContentEditableTrue,ru=Ge.isContentEditableFalse,iu=Ge.isBr,au=Ge.isText,uu=Ge.matchNodeNames(["script","style","textarea"]),su=Ge.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),cu=Ge.matchNodeNames(["table"]),lu=Sa,fu=function(t){return!1===function(t){return Ge.isElement(t)&&"true"===t.getAttribute("unselectable")}(t)&&ru(t)},du=Math.round,mu=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),hu=[].slice,pu=Ge.isElement,gu=Na,vu=Ge.matchStyleValues("display","block table"),bu=Ge.matchStyleValues("float","left right"),yu=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=hu.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}}(pu,gu,a(bu)),xu=a(Ge.matchStyleValues("white-space","pre pre-line pre-wrap")),wu=Ge.isText,Cu=Ge.isBr,Su=$i.nodeIndex,ku=Pa,Tu=function(t){return"createRange"in t?t.createRange():$i.DOM.createRng()},Eu=function(t){var e,n;return e=0<(n=t.getClientRects()).length?_a(n[0]):_a(t.getBoundingClientRect()),!Va(t)&&Cu(t)&&$a(e)?function(t){var e,n=t.ownerDocument,o=Tu(n),r=n.createTextNode(Io),i=t.parentNode;return i.insertBefore(r,t),o.setStart(r,0),o.setEnd(r,1),e=_a(o.getBoundingClientRect()),i.removeChild(r),e}(t):$a(e)&&Va(t)?function(t){var e=t.endContainer,n=t.startOffset,o=t.endOffset;if(t.startContainer===e&&Ge.isText(e)&&0===n&&1===o){var r=t.cloneRange();return r.setEndAfter(e),Eu(r)}return null}(t):e};function Ou(t,e,n){function r(){return n=n||function(t){function e(t){0!==t.height&&(0<i.length&&function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right}(t,i[i.length-1])||i.push(t))}function n(t,n){var o=Tu(t.ownerDocument);if(n<t.data.length){if(Ha(t.data[n]))return i;if(Ha(t.data[n-1])&&(o.setStart(t,n),o.setEnd(t,n+1),!ja(o)))return e(Ua(Eu(o),!1)),i}0<n&&(o.setStart(t,n-1),o.setEnd(t,n),ja(o)||e(Ua(Eu(o),!1))),n<t.data.length&&(o.setStart(t,n),o.setEnd(t,n+1),ja(o)||e(Ua(Eu(o),!0)))}var o,r,i=[];if(wu(t.container()))return n(t.container(),t.offset()),i;if(pu(t.container()))if(t.isAtEnd())r=ku(t.container(),t.offset()),wu(r)&&n(r,r.data.length),yu(r)&&!Cu(r)&&e(Ua(Eu(r),!1));else{if(r=ku(t.container(),t.offset()),wu(r)&&n(r,0),yu(r)&&t.isAtEnd())return e(Ua(Eu(r),!1)),i;o=ku(t.container(),t.offset()-1),yu(o)&&!Cu(o)&&(!vu(o)&&!vu(r)&&yu(r)||e(Ua(Eu(o),!1))),yu(r)&&e(Ua(Eu(r),!0))}return i}(Ou(t,e))}return{container:o(t),offset:o(e),toRange:function(){var n;return(n=Tu(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return wu(t),0===e},isAtEnd:function(){return wu(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return ku(t,n?e-1:e)}}}function Nu(t){return function(e){return t===e}}function Au(t){return(bs(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n,o;return e=Cs(ws(t)),n=Fn.findIndex(e,Nu(t),t),e=e.slice(0,n+1),o=Fn.reduce(e,(function(t,n,o){return bs(n)&&bs(e[o-1])&&t++,t}),0),e=Fn.filter(e,Ge.matchNodeNames([t.nodeName])),(n=Fn.findIndex(e,Nu(t),t))-o}(t)+"]"}function _u(t,e){var n,o,r,i,u,s=[];return n=e.container(),o=e.offset(),bs(n)?r=function(t,e){for(;(t=t.previousSibling)&&bs(t);)e+=t.data.length;return e}(n,o):(o>=(i=n.childNodes).length?(r="after",o=i.length-1):r="before",n=i[o]),s.push(Au(n)),u=function(t,e,n){var o=[];for(e=e.parentNode;e!==t;e=e.parentNode)o.push(e);return o}(t,n),u=Fn.filter(u,a(Ge.isBogus)),(s=s.concat(Fn.map(u,(function(t){return Au(t)})))).reverse().join("/")+","+r}function Du(t,e){var n,o,r;return e?(e=(n=e.split(","))[0].split("/"),r=1<n.length?n[1]:"before",(o=Fn.reduce(e,(function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),function(t,e,n){var o=Cs(t);return o=Fn.filter(o,(function(t,e){return!bs(t)||!bs(o[e-1])})),(o=Fn.filter(o,Ge.matchNodeNames([e])))[n]}(t,e[1],parseInt(e[2],10))):null}),t))?bs(o)?function(t,e){for(var n,o=t,r=0;bs(o);){if(n=o.data.length,r<=e&&e<=r+n){t=o,e-=r;break}if(!bs(o.nextSibling)){t=o,e=n;break}r+=n,o=o.nextSibling}return bs(t)&&e>t.data.length&&(e=t.data.length),vs(t,e)}(o,parseInt(r,10)):(r="after"===r?xs(o)+1:xs(o),vs(o.parentNode,r)):null):null}function zu(t,e){Ge.isText(e)&&0===e.data.length&&t.remove(e)}function Mu(t,e,n){Ge.isDocumentFragment(n)?function(t,e,n){var o=I.from(n.firstChild),r=I.from(n.lastChild);e.insertNode(n),o.each((function(e){return zu(t,e.previousSibling)})),r.each((function(e){return zu(t,e.nextSibling)}))}(t,e,n):function(t,e,n){e.insertNode(n),zu(t,n.previousSibling),zu(t,n.nextSibling)}(t,e,n)}function Bu(t,e,n,o,r){var i,a=o[r?"startContainer":"endContainer"],u=o[r?"startOffset":"endOffset"],s=[],c=0,l=t.getRoot();for(Ge.isText(a)?s.push(n?function(t,e,n){var o,r;for(r=t(e.data.slice(0,n)).length,o=e.previousSibling;o&&Ge.isText(o);o=o.previousSibling)r+=t(o.data).length;return r}(e,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(t.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(t.nodeIndex(a,n));return s}function Ru(t,e,n){var o=0;return $n.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void o++})),o}function Iu(t,e){var n,o,r,i=e?"start":"end";o=t[i+"Offset"],Ge.isElement(n=t[i+"Container"])&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(e?o:o-1,r.length-1)])&&t["set"+(e?"Start":"End")](n,o=e?0:n.childNodes.length)}function Pu(t){return Iu(t,!0),Iu(t,!1),t}function Hu(t,e){var n;if(Ge.isElement(t)&&(t=Pa(t,e),Ss(t)))return t;if(Sa(t)){if(Ge.isText(t)&&wa(t)&&(t=t.parentNode),Ss(n=t.previousSibling))return n;if(Ss(n=t.nextSibling))return n}}function Lu(t,e,n){var o=n.getNode(),r=o?o.nodeName:null,i=n.getRng();if(Ss(o)||"IMG"===r)return{name:r,index:Ru(n.dom,r,o)};var a=function(t){return Hu(t.startContainer,t.startOffset)||Hu(t.endContainer,t.endOffset)}(i);return a?{name:r=a.tagName,index:Ru(n.dom,r,a)}:function(t,e,n,o){var r=e.dom,i={};return i.start=Bu(r,t,n,o,!0),e.isCollapsed()||(i.end=Bu(r,t,n,o,!1)),i}(t,n,e,i)}function Fu(t,e,n){var o={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",o,"&#xFEFF;"):t.create("span",o)}function Vu(t,e){var n=t.dom,o=t.getRng(),r=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Ru(n,u,a)};var s=Pu(o.cloneRange());return i||(s.collapse(!1),Mu(n,s,Fu(n,r+"_end",e))),(o=Pu(o)).collapse(!0),Mu(n,o,Fu(n,r+"_start",e)),t.moveToBookmark({id:r,keep:1}),{id:r}}function ju(t,e,n){function o(t){for(var e;(e=r[t]())&&!Ge.isText(e)&&!n(e););return I.from(e).filter(Ge.isText)}void 0===n&&(n=c);var r=new zi(t,e);return{current:function(){return I.from(r.current()).filter(Ge.isText)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}}function $u(t,e){var n=e||function(e){return t.isBlock(e)||Ge.isBr(e)||Ge.isContentEditableFalse(e)},o=function(t,e,n,r){if(Ge.isText(t)){var i=r(t,e,t.data);if(-1!==i)return I.some({container:t,offset:i})}return n().bind((function(t){return o(t.container,t.offset,n,r)}))};return{backwards:function(t,e,r,i){var a=ju(t,i,n);return o(t,e,(function(){return a.prev().map((function(t){return{container:t,offset:t.length}}))}),r).getOrNull()},forwards:function(t,e,r,i){var a=ju(t,i,n);return o(t,e,(function(){return a.next().map((function(t){return{container:t,offset:0}}))}),r).getOrNull()}}}function Uu(t){return Ge.isElement(t)&&t.id===Ts}function Wu(t,e){for(;e&&e!==t;){if(e.id===Ts)return e;e=e.parentNode}return null}function qu(t){var e=t.parentNode;e&&e.removeChild(t)}function Xu(t,e){0===e.length?qu(t):t.nodeValue=e}function Gu(t){var e=Qa.trim(t);return{count:t.length-e.length,text:e}}function Yu(t,e){return Ns(t),e}function Ku(t,e,n){var o=t.getParam(e,n);if(-1===o.indexOf("="))return o;var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}function Ju(t,e,n){var o,r,i,a,u,s=Da(e.getBoundingClientRect(),n);return i="BODY"===t.tagName?(o=t.ownerDocument.documentElement,r=t.scrollLeft||o.scrollLeft,t.scrollTop||o.scrollTop):(u=t.getBoundingClientRect(),r=t.scrollLeft-u.left,t.scrollTop-u.top),s.left+=r,s.right+=r,s.top+=i,s.bottom+=i,s.width=1,0<(a=e.offsetWidth-e.clientWidth)&&(n&&(a*=-1),s.left+=a,s.right+=a),s}function Qu(){return Us.isIE()||Us.isEdge()||Us.isFirefox()}function Zu(t){return Ws(t)||Ge.isTable(t)&&Qu()}function ts(t){return 0<t}function es(t){return t<0}function ns(t,e){for(var n;n=t(e);)if(!Ys(n))return n;return null}function os(t,e,n,o,r){var i=new zi(t,o);if(es(e)){if((qs(t)||Ys(t))&&n(t=ns(i.prev,!0)))return t;for(;t=ns(i.prev,r);)if(n(t))return t}if(ts(e)){if((qs(t)||Ys(t))&&n(t=ns(i.next,!0)))return t;for(;t=ns(i.next,r);)if(n(t))return t}return null}function rs(t,e){for(;t&&t!==e;){if(Xs(t))return t;t=t.parentNode}return null}function is(t,e,n){return rs(t.container(),n)===rs(e.container(),n)}function as(t,e){var n,o;return e?(n=e.container(),o=e.offset(),Ks(n)?n.childNodes[o+t]:null):null}function us(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function ss(t,e,n){var o,r,i,a;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(Gs(o=n[r])&&(o=o[r]),qs(o)){if(a=n,rs(o,i=e)===rs(a,i))return o;break}if(Js(o))break;n=n.parentNode}return null}function cs(t,e,n){var o,r,a,u,s=i(ss,!0,e),c=i(ss,!1,e);if(a=n.startOffset,wa(r=n.startContainer)){if(Ks(r)||(r=r.parentNode),"before"===(u=r.getAttribute("data-mce-caret"))&&Zu(o=r.nextSibling))return Qs(o);if("after"===u&&Zu(o=r.previousSibling))return Zs(o)}if(!n.collapsed)return n;if(Ge.isText(r)){if(Gs(r)){if(1===t){if(o=c(r))return Qs(o);if(o=s(r))return Zs(o)}if(-1===t){if(o=s(r))return Zs(o);if(o=c(r))return Qs(o)}return n}if(nu(r)&&a>=r.data.length-1)return 1===t&&(o=c(r))?Qs(o):n;if(eu(r)&&a<=1)return-1===t&&(o=s(r))?Zs(o):n;if(a===r.data.length)return(o=c(r))?Qs(o):n;if(0===a)return(o=s(r))?Zs(o):n}return n}function ls(t,e){return I.from(as(t?0:-1,e)).filter(qs)}function fs(t,e,n){var o=cs(t,e,n);return-1===t?Ou.fromRangeStart(o):Ou.fromRangeEnd(o)}function ds(t){return I.from(t.getNode()).map(ee.fromDom)}function ms(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function hs(t,e){var n=is(t,e);return!(n||!Ge.isBr(t.getNode()))||n}(Wa=Ou=Ou||{}).fromRangeStart=function(t){return Wa(t.startContainer,t.startOffset)},Wa.fromRangeEnd=function(t){return Wa(t.endContainer,t.endOffset)},Wa.after=function(t){return Wa(t.parentNode,Su(t)+1)},Wa.before=function(t){return Wa(t.parentNode,Su(t))},Wa.isAbove=function(t,e){return La(O(e.getClientRects()),N(t.getClientRects()),Ma).getOr(!1)},Wa.isBelow=function(t,e){return La(N(e.getClientRects()),O(t.getClientRects()),Ba).getOr(!1)},Wa.isAtStart=function(t){return!!t&&t.isAtStart()},Wa.isAtEnd=function(t){return!!t&&t.isAtEnd()},Wa.isTextPosition=function(t){return!!t&&Ge.isText(t.container())},Wa.isElementPosition=function(t){return!1===Wa.isTextPosition(t)};var ps,gs,vs=Ou,bs=Ge.isText,ys=Ge.isBogus,xs=$i.nodeIndex,ws=function(t){var e=t.parentNode;return ys(e)?ws(e):e},Cs=function(t){return t?Fn.reduce(t.childNodes,(function(t,e){return ys(e)&&"BR"!==e.nodeName?t=t.concat(Cs(e)):t.push(e),t}),[]):[]},Ss=Ge.isContentEditableFalse,ks={getBookmark:function(t,e,n){return 2===e?Lu(Qa.trim,n,t):3===e?function(t){var e=t.getRng();return{start:_u(t.dom.getRoot(),vs.fromRangeStart(e)),end:_u(t.dom.getRoot(),vs.fromRangeEnd(e))}}(t):e?function(t){return{rng:t.getRng()}}(t):Vu(t,!1)},getUndoBookmark:i(Lu,r,!0),getPersistentBookmark:Vu},Ts="_mce_caret",Es=Ge.isElement,Os=Ge.isText,Ns=function(t){Es(t)&&Sa(t)&&(ka(t)?t.removeAttribute("data-mce-caret"):qu(t)),Os(t)&&Xu(t,Qa.trim(function(t){try{return t.nodeValue}catch(s){return""}}(t)))},As={removeAndReposition:function(t,e){return vs.isTextPosition(e)?function(t,e){return Os(t)&&e.container()===t?function(t,e){var n=Gu(t.data.substr(0,e.offset())),o=Gu(t.data.substr(e.offset())),r=n.text+o.text;return 0<r.length?(Xu(t,r),vs(t,e.offset()-n.count)):e}(t,e):Yu(t,e)}(t,e):function(t,e){return e.container()===t.parentNode?function(t,e){var n=e.container(),o=function(t,e){var n=g(t,e);return-1===n?I.none():I.some(n)}(K(n.childNodes),t).map((function(t){return t<e.offset()?vs(n,e.offset()-1):e})).getOr(e);return Ns(t),o}(t,e):Yu(t,e)}(t,e)},remove:Ns},_s=$i.DOM,Ds=function(t){return t.getParam("content_security_policy","")},zs=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},Ms=function(t){return t.getParam("forced_root_block_attrs",{})},Bs=function(t){return t.getParam("automatic_uploads",!0,"boolean")},Rs=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},Is=function(t){return t.getParam("images_upload_url","","string")},Ps=function(t){return t.getParam("images_upload_base_path","","string")},Hs=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},Ls=function(t){return t.getParam("images_upload_handler",null,"function")},Fs=function(t){return t.getParam("content_css_cors",!1,"boolean")},Vs=function(t){return t.getParam("referrer_policy","","string")},js=function(t){return t.getParam("language","en","string")},$s=function(t){return t.getParam("indent_use_margin",!1)},Us=lt().browser,Ws=Ge.isContentEditableFalse,qs=Ge.isContentEditableFalse,Xs=Ge.matchStyleValues("display","block table table-cell table-caption list-item"),Gs=Sa,Ys=wa,Ks=Ge.isElement,Js=Na,Qs=i(us,!0),Zs=i(us,!1);function tc(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function ec(t,e){if(ts(t)){if(Vc(e.previousSibling)&&!Hc(e.previousSibling))return vs.before(e);if(Hc(e))return vs(e,0)}if(es(t)){if(Vc(e.nextSibling)&&!Hc(e.nextSibling))return vs.after(e);if(Hc(e))return vs(e,e.data.length)}return es(t)?Fc(e)?vs.before(e):vs.after(e):vs.before(e)}function nc(t){return{next:function(e){return Uc(ps.Forwards,e,t)},prev:function(e){return Uc(ps.Backwards,e,t)}}}function oc(t){return vs.isTextPosition(t)?0===t.offset():Na(t.getNode())}function rc(t){if(vs.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Na(t.getNode(!0))}function ic(t,e){return!vs.isTextPosition(t)&&!vs.isTextPosition(e)&&t.getNode()===e.getNode(!0)}function ac(t,e,n){return Wc(t,e,n).bind((function(o){return is(n,o,e)&&function(t,e,n){return t?!ic(e,n)&&!function(t){return!vs.isTextPosition(t)&&Ge.isBr(t.getNode())}(e)&&rc(e)&&oc(n):!ic(n,e)&&oc(e)&&rc(n)}(t,n,o)?Wc(t,e,o):I.some(o)}))}function uc(t,e){var n=t?e.firstChild:e.lastChild;return Ge.isText(n)?I.some(vs(n,t?0:n.data.length)):n?Na(n)?I.some(t?vs.before(n):function(t){return Ge.isBr(t)?vs.before(t):vs.after(t)}(n)):function(t,e,n){var o=t?vs.before(n):vs.after(n);return Wc(t,e,o)}(t,e,n):I.none()}function sc(t,e){return Ge.isElement(e)&&t.isBlock(e)&&!e.innerHTML&&!Hn.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e}function cc(t,e){return Yc.lastPositionIn(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))}function lc(t,e,n){return!(!function(t){return!1===t.hasChildNodes()}(e)||!Wu(t,e)||(function(t,e){var n=t.ownerDocument.createTextNode(Qa.ZWSP);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)}(e,n),0))}function fc(t,e,n,o){var r,i,a,u,s=n[e?"start":"end"],c=t.getRoot();if(s){for(a=s[0],i=c,r=s.length-1;1<=r;r--){if(u=i.childNodes,lc(c,i,o))return!0;if(s[r]>u.length-1)return!!lc(c,i,o)||cc(i,o);i=u[s[r]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),e?o.setStart(i,a):o.setEnd(i,a)}return!0}function dc(t){return Ge.isText(t)&&0<t.data.length}function mc(t,e,n){var o,r,i,a,u,s,c=t.get(n.id+"_"+e),l=n.keep;if(c){if(o=c.parentNode,r="start"===e?l?c.hasChildNodes()?(o=c.firstChild,1):dc(c.nextSibling)?(o=c.nextSibling,0):dc(c.previousSibling)?(o=c.previousSibling,c.previousSibling.data.length):(o=c.parentNode,t.nodeIndex(c)+1):t.nodeIndex(c):l?c.hasChildNodes()?(o=c.firstChild,1):dc(c.previousSibling)?(o=c.previousSibling,c.previousSibling.data.length):(o=c.parentNode,t.nodeIndex(c)):t.nodeIndex(c),u=o,s=r,!l){for(a=c.previousSibling,i=c.nextSibling,$n.each($n.grep(c.childNodes),(function(t){Ge.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));c=t.get(n.id+"_"+e);)t.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&Ge.isText(a)&&!Hn.opera&&(r=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),u=a,s=r)}return I.some(vs(u,s))}return I.none()}function hc(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)}function pc(t){return!hc(t)&&!Zc(t)}function gc(t){return!!t.nodeType}function vc(t,e,n){var o,r,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!function(t){return t&&/^(IMG)$/.test(t.nodeName)}(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(a<(i=u.childNodes).length?o=new zi(u=i[a],t.getParent(u,t.isBlock)):(o=new zi(u=i[i.length-1],t.getParent(u,t.isBlock))).next(!0),r=o.current();r;r=o.next())if(3===r.nodeType&&!tl(r))return n.setStart(r,0),void e.setRng(n)}function bc(t,e,n){if(t){var o=e?"nextSibling":"previousSibling";for(t=n?t:t[o];t;t=t[o])if(1===t.nodeType||!tl(t))return t}}function yc(t,e){return gc(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]}function xc(t,e,n){return t.schema.isValidChild(e,n)}function wc(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t}function Cc(t,e){return t=""+((t=t||"").nodeName||t),e=""+((e=e||"").nodeName||e),t.toLowerCase()===e.toLowerCase()}function Sc(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function kc(t,e,n){return Sc(t,t.getStyle(e,n),n)}function Tc(t,e){var n;return t.getParent(e,(function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n})),n}function Ec(t,e,n){return t.getParents(e,n,t.getRoot())}function Oc(t,e){for(var n=e;n;){if(Ge.isElement(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e}function Nc(t,e,n,o){for(var r=e.data,i=n;t?0<=i:i<r.length;t?i--:i++)if(o(r.charAt(i)))return t?i+1:i;return-1}function Ac(t,e,n){return Nc(t,e,n,(function(t){return Zc(t)||hc(t)}))}function _c(t,e,n){return Nc(t,e,n,pc)}function Dc(t,e,n,o,r,i){function a(e,n,o){var i=$u(t);return I.from((r?i.backwards:i.forwards)(e,n,(function(t,e){return el(t.parentNode)?-1:o(r,u=t,e)}),s))}var u,s=t.getParent(n,t.isBlock)||e;return a(n,o,Ac).bind((function(t){return i?a(t.container,t.offset+(r?-1:0),_c):I.some(t)})).orThunk((function(){return u?I.some({container:u,offset:r?0:u.length}):I.none()}))}function zc(t,e,n,o,r){Ge.isText(o)&&0===o.nodeValue.length&&o[r]&&(o=o[r]);for(var i=nl(t,o),a=0;a<i.length;a++)for(var u=0;u<e.length;u++){var s=e[u];if(!("collapsed"in s&&s.collapsed!==n.collapsed)&&t.is(i[a],s.selector))return i[a]}return o}function Mc(t,e,n,o){var r,i=t.dom,a=i.getRoot();if(e[0].wrapper||(r=i.getParent(n,e[0].block,a)),!r){var u=i.getParent(n,"LI,TD,TH");r=i.getParent(Ge.isText(n)?n.parentNode:n,(function(e){return e!==a&&rl(t,e)}),u)}if(r&&e[0].wrapper&&(r=nl(i,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[o]&&!i.isBlock(r[o])&&!Cc(r=r[o],"br"););return r||n}function Bc(t,e,n,o,r,i,a){var u,s,c,l,f,d;if(u=s=a?n:r,l=a?"previousSibling":"nextSibling",f=t.getRoot(),Ge.isText(u)&&!ol(u)&&(a?0<o:i<u.nodeValue.length))return u;for(;;){if(!e[0].block_expand&&t.isBlock(s))return s;for(c=s[l];c;c=c[l])if(!el(c)&&!ol(c)&&("BR"!==(d=c).nodeName||!d.getAttribute("data-mce-bogus")||d.nextSibling))return s;if(s===f||s.parentNode===f){u=s;break}s=s.parentNode}return u}function Rc(t,e,n,o){void 0===o&&(o=!1);var r=e.startContainer,i=e.startOffset,a=e.endContainer,u=e.endOffset,s=t.dom;return Ge.isElement(r)&&r.hasChildNodes()&&(r=Pa(r,i),Ge.isText(r)&&(i=0)),Ge.isElement(a)&&a.hasChildNodes()&&(a=Pa(a,e.collapsed?u:u-1),Ge.isText(a)&&(u=a.nodeValue.length)),r=Oc(s,r),a=Oc(s,a),(el(r.parentNode)||el(r))&&(r=el(r)?r:r.parentNode,Ge.isText(r=e.collapsed?r.previousSibling||r:r.nextSibling||r)&&(i=e.collapsed?r.length:0)),(el(a.parentNode)||el(a))&&(a=el(a)?a:a.parentNode,Ge.isText(a=e.collapsed?a.nextSibling||a:a.previousSibling||a)&&(u=e.collapsed?0:a.length)),e.collapsed&&(Dc(s,t.getBody(),r,i,!0,o).each((function(t){r=t.container,i=t.offset})),Dc(s,t.getBody(),a,u,!1,o).each((function(t){a=t.container,u=t.offset}))),(n[0].inline||n[0].block_expand)&&(n[0].inline&&Ge.isText(r)&&0!==i||(r=Bc(s,n,r,i,a,u,!0)),n[0].inline&&Ge.isText(a)&&u!==a.nodeValue.length||(a=Bc(s,n,r,i,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(r=zc(s,n,e,r,"previousSibling"),a=zc(s,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(r=Mc(t,n,r,"previousSibling"),a=Mc(t,n,a,"nextSibling"),n[0].block&&(s.isBlock(r)||(r=Bc(s,n,r,i,a,u,!0)),s.isBlock(a)||(a=Bc(s,n,r,i,a,u,!1)))),Ge.isElement(r)&&(i=s.nodeIndex(r),r=r.parentNode),Ge.isElement(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:i,endContainer:a,endOffset:u}}function Ic(t,e){var n=t.childNodes;return e>=n.length?e=n.length-1:e<0&&(e=0),n[e]||t}(gs=ps=ps||{})[gs.Backwards=-1]="Backwards",gs[gs.Forwards=1]="Forwards";var Pc=Ge.isContentEditableFalse,Hc=Ge.isText,Lc=Ge.isElement,Fc=Ge.isBr,Vc=Na,jc=function(t){return su(t)||function(t){return!!fu(t)&&!0!==x(K(t.getElementsByTagName("*")),(function(t,e){return t||ou(e)}),!1)}(t)},$c=Aa,Uc=function(t,e,n){var r,i,a,u,s;if(!Lc(n)||!e)return null;if(e.isEqual(vs.after(n))&&n.lastChild){if(s=vs.after(n.lastChild),es(t)&&Vc(n.lastChild)&&Lc(n.lastChild))return Fc(n.lastChild)?vs.before(n.lastChild):s}else s=e;var c=s.container(),l=s.offset();if(Hc(c)){if(es(t)&&0<l)return vs(c,--l);if(ts(t)&&l<c.length)return vs(c,++l);r=c}else{if(es(t)&&0<l&&(i=tc(c,l-1),Vc(i)))return!jc(i)&&(a=os(i,t,$c,i))?Hc(a)?vs(a,a.data.length):vs.after(a):Hc(i)?vs(i,i.data.length):vs.before(i);if(ts(t)&&l<c.childNodes.length&&(i=tc(c,l),Vc(i)))return Fc(i)?function(t,e){var n=e.nextSibling;return n&&Vc(n)?Hc(n)?vs(n,0):vs.before(n):Uc(ps.Forwards,vs.after(e),t)}(n,i):!jc(i)&&(a=os(i,t,$c,i))?Hc(a)?vs(a,0):vs.before(a):Hc(i)?vs(i,0):vs.after(i);r=i||s.getNode()}return(ts(t)&&s.isAtEnd()||es(t)&&s.isAtStart())&&(r=os(r,t,o(!0),n,!0),$c(r,n))?ec(t,r):(i=os(r,t,$c,n),!(u=Fn.last(Y(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(c,n),Pc)))||i&&u.contains(i)?i?ec(t,i):null:s=ts(t)?vs.after(u):vs.before(u))},Wc=function(t,e,n){var o=nc(e);return I.from(t?o.next(n):o.prev(n))},qc=function(t,e,n,o){return ac(t,e,n).bind((function(n){return o(n)?qc(t,e,n,o):I.some(n)}))},Xc=i(Wc,!0),Gc=i(Wc,!1),Yc={fromPosition:Wc,nextPosition:Xc,prevPosition:Gc,navigate:ac,navigateIgnore:qc,positionIn:uc,firstPositionIn:i(uc,!0),lastPositionIn:i(uc,!1)},Kc=function(t,e,n){return ks.getBookmark(t,e,n)},Jc=function(t,e){(function(t,e){var n=t.dom;if(e){if(function(t){return $n.isArray(t.start)}(e))return function(t,e){var n=t.createRng();return fc(t,!0,e,n)&&fc(t,!1,e,n)?I.some(n):I.none()}(n,e);if(function(t){return"string"==typeof t.start}(e))return I.some(function(t,e){var n,o;return n=t.createRng(),o=Du(t.getRoot(),e.start),n.setStart(o.container(),o.offset()),o=Du(t.getRoot(),e.end),n.setEnd(o.container(),o.offset()),n}(n,e));if(function(t){return t.hasOwnProperty("id")}(e))return function(t,e){var n=mc(t,"start",e);return La(n,mc(t,"end",e).or(n),(function(e,n){var o=t.createRng();return o.setStart(sc(t,e.container()),e.offset()),o.setEnd(sc(t,n.container()),n.offset()),o}))}(n,e);if(function(t){return t.hasOwnProperty("name")}(e))return function(t,e){return I.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),n}))}(n,e);if(function(t){return t.hasOwnProperty("rng")}(e))return I.some(e.rng)}return I.none()})(t,e).each((function(e){t.setRng(e)}))},Qc=function(t){return Ge.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Zc=function(t){return"\xa0"===t},tl=function(t){return t&&Ge.isText(t)&&/^([\t \r\n]+|)$/.test(t.nodeValue)},el=Qc,nl=Ec,ol=tl,rl=yc,il=$n.each,al=function(t,e,n){var o=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,u=t.select("td[data-mce-selected],th[data-mce-selected]");if(0<u.length)il(u,(function(t){n([t])}));else{var s=function(t){var e;return 3===(e=t[0]).nodeType&&e===o&&r>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===a&&0<t.length&&e===i&&3===e.nodeType&&t.splice(t.length-1,1),t},c=function(t,e,n){for(var o=[];t&&t!==n;t=t[e])o.push(t);return o},l=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},f=function(t,e,o){for(var r=o?"nextSibling":"previousSibling",i=t,a=i.parentNode;i&&i!==e;i=a){a=i.parentNode;var u=c(i===t?i:i[r],r);u.length&&(o||u.reverse(),n(s(u)))}};if(1===o.nodeType&&o.hasChildNodes()&&(o=Ic(o,r)),1===i.nodeType&&i.hasChildNodes()&&(i=function(t,e){return Ic(t,e-1)}(i,a)),o===i)return n(s([o]));for(var d=t.findCommonAncestor(o,i),m=o;m;m=m.parentNode){if(m===i)return f(o,d,!0);if(m===d)break}for(m=i;m;m=m.parentNode){if(m===o)return f(i,d);if(m===d)break}var h=l(o,d)||o,p=l(i,d)||i;f(o,h,!0);var g=c(h===o?h:h.nextSibling,"nextSibling",p===i?p.nextSibling:p);g.length&&n(s(g)),f(i,p)}};function ul(t){return dl.get(t)}function sl(t,e,n,o){var r=e.uid,i=void 0===r?function(t){var e=(new Date).getTime();return"mce-annotation_"+Math.floor(1e9*Math.random())+ ++Ka+String(e)}():r,a=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(e,["uid"]),u=ee.fromTag("span",t);ia(u,qa()),Ye(u,""+Ga(),i),Ye(u,""+Xa(),n);var s=o(i,a),c=s.attributes,l=s.classes,f=void 0===l?[]:l;return Wt(u,void 0===c?{}:c),function(t,e){G(e,(function(e){ia(t,e)}))}(u,f),u}function cl(t){var e=function(){var t={};return{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?I.from(t[e]).map((function(t){return t.settings})):I.none()}}}();!function(t,e){t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){G(t,(function(t){(function(t){return I.from(t.attr(Xa())).bind(e.lookup)})(t).each((function(e){!1===e.persistent&&t.unwrap()}))}))}))}))}(t,e);var n=function(t,e){function n(t,e){r(t,(function(t){return e(t),t}))}var o=ne({}),r=function(t,e){var n=o.get(),r=e(n.hasOwnProperty(t)?n[t]:{listeners:[],previous:ne(I.none())});n[t]=r,o.set(n)},i=na((function(){var e=o.get(),i=function(t,e){var n=U.call(t,0);return n.sort(void 0),n}(J(e));G(i,(function(e){r(e,(function(o){var r=o.previous.get();return ga(t,I.some(e)).fold((function(){r.isSome()&&(function(t){n(t,(function(e){G(e.listeners,(function(e){return e(!1,t)}))}))}(e),o.previous.set(I.none()))}),(function(t){var e=t.uid,i=t.name,a=t.elements;r.is(e)||(function(t,e,o){n(t,(function(n){G(n.listeners,(function(n){return n(!0,t,{uid:e,nodes:X(o,(function(t){return t.dom()}))})}))}))}(i,e,a),o.previous.set(I.some(e)))})),{previous:o.previous,listeners:o.listeners}}))}))}),30);return t.on("remove",(function(){i.cancel()})),t.on("NodeChange",(function(){i.throttle()})),{addListener:function(t,e){r(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))}}}(t);return{register:function(t,n){e.register(t,n)},annotate:function(n,o){e.lookup(n).each((function(e){!function(t,e,n,o){t.undoManager.transact((function(){var r=t.selection.getRng();if(r.collapsed&&function(t,e){var n=Rc(t,e,[{inline:!0}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(t,r),t.selection.getRng().collapsed){var i=sl(t.getDoc(),o,e,n.decorate);va(i,Io),t.selection.getRng().insertNode(i.dom()),t.selection.select(i.dom())}else{var a=ks.getPersistentBookmark(t.selection,!1),u=t.selection.getRng();(function(t,e,n,o,r){function i(){c.set(I.none())}function a(t){G(t,l)}var u=[],s=sl(t.getDoc(),r,n,o),c=ne(I.none()),l=function(e){switch(function(t,e,n,o){return vt(e).fold((function(){return"skipping"}),(function(r){return"br"===o||function(t){return Me(t)&&ul(t)===Ro}(e)?"valid":function(t){return ze(t)&&aa(t,qa())}(e)?"existing":Uu(e)?"caret":xc(t,n,o)&&xc(t,zt(r),n)?"valid":"invalid-child"}))}(t,e,"span",zt(e))){case"invalid-child":i(),a(Ct(e)),i();break;case"valid":!function(t,e){Et(t,e),_e(e,t)}(e,c.get().getOrThunk((function(){var t=ya(s);return u.push(t),c.set(I.some(t)),t})))}};al(t.dom,e,(function(t){i(),function(t){a(X(t,ee.fromDom))}(t)}))})(t,u,e,n.decorate,o),t.selection.moveToBookmark(a)}}))}(t,n,e,o)}))},annotationChanged:function(t,e){n.addListener(t,e)},remove:function(e){ga(t,I.some(e)).each((function(t){G(t.elements,Dt)}))},getAll:function(e){return _(function(t,e){var n=ua(ee.fromDom(t.getBody()),"["+Xa()+'="'+e+'"]'),o={};return G(n,(function(t){var e=qt(t,Ga()),n=o.hasOwnProperty(e)?o[e]:[];o[e]=n.concat([t])})),o}(t,e),(function(t){return X(t,(function(t){return t.dom()}))}))}}}function ll(t,e,n){var o=n?"lastChild":"firstChild",r=n?"prev":"next";if(t[o])return t[o];if(t!==e){var i=t[r];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[r])return i}}function fl(t){if(!ml.test(t.value))return!1;var e=t.parent;return!e||"span"===e.name&&!e.attr("style")||!/^[ ]+$/.test(t.value)}var dl=function(t,e){var n=function(e){return t(e)?I.from(e.dom().nodeValue):I.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=n}}}(Me),ml=/^[ \t\r\n]*$/,hl={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},pl=(gl.create=function(t,e){var n=new gl(t,hl[t]||1);if(e)for(var o in e)n.attr(o,e[o]);return n},gl.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},gl.prototype.attr=function(t,e){var n;if("string"!=typeof t){for(var o in t)this.attr(o,t[o]);return this}if(n=this.attributes){if(void 0===e)return n.map[t];if(null===e){if(t in n.map){delete n.map[t];for(var r=n.length;r--;)if(n[r].name===t)return n.splice(r,1),this}return this}if(t in n.map){for(r=n.length;r--;)if(n[r].name===t){n[r].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,this}},gl.prototype.clone=function(){var t,e=new gl(this.name,this.type);if(t=this.attributes){var n=[];n.map={};for(var o=0,r=t.length;o<r;o++){var i=t[o];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}e.attributes=n}return e.value=this.value,e.shortEnded=this.shortEnded,e},gl.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},gl.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},gl.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e)&&(e.prev=null):n.next=e,t.lastChild===this?(t.lastChild=n)&&(n.next=null):e.prev=n,this.parent=this.next=this.prev=null),this},gl.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?((e.next=t).prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},gl.prototype.insert=function(t,e,n){t.parent&&t.remove();var o=e.parent||this;return n?(e===o.firstChild?o.firstChild=t:e.prev.next=t,t.prev=e.prev,(t.next=e).prev=t):(e===o.lastChild?o.lastChild=t:e.next.prev=t,t.next=e.next,(t.prev=e).next=t),t.parent=o,t},gl.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=ll(n,this))n.name===t&&e.push(n);return e},gl.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=ll(e,this))t.push(e);for(var n=t.length;n--;)(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}return this.firstChild=this.lastChild=null,this},gl.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var o=this.firstChild;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(t[o.name])return!1;for(var r=o.attributes.length;r--;){var i=o.attributes[r].name;if("name"===i||0===i.indexOf("data-mce-bookmark"))return!1}}if(8===o.type)return!1;if(3===o.type&&!fl(o))return!1;if(3===o.type&&o.parent&&e[o.parent.name]&&ml.test(o.value))return!1;if(n&&n(o))return!1}while(o=ll(o,this));return!0},gl.prototype.walk=function(t){return ll(this,null,t)},gl);function gl(t,e){this.name=t,1===(this.type=e)&&(this.attributes=[],this.attributes.map={})}function vl(t,e,n){var o,r,i,a,u=1;for(a=t.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=o=n;r=i.exec(e);){if(o=i.lastIndex,"/"===r[1])u--;else if(!r[1]){if(r[2]in a)continue;u++}if(0===u)break}return o}function bl(t,e){var n=t.exec(e);if(n){var o=n[1],r=n[2];return"string"==typeof o&&"data-mce-bogus"===o.toLowerCase()?r:null}return null}function yl(t,e){function n(){}void 0===e&&(e=Ao()),!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var o=t.comment?t.comment:n,r=t.cdata?t.cdata:n,i=t.text?t.text:n,a=t.start?t.start:n,u=t.end?t.end:n,s=t.pi?t.pi:n,c=t.doctype?t.doctype:n;return{parse:function(n,l){function f(t){var e,n;for(e=W.length;e--&&W[e].name!==t;);if(0<=e){for(n=W.length-1;e<=n;n--)(t=W[n]).valid&&u(t.name);W.length=e}}function d(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),t.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),o(e))}function m(t,e){var o=t||"",r=!at(o,"--"),i=function(t,e,n){void 0===n&&(n=0);var o=t.toLowerCase();if(-1!==o.indexOf("[if ",n)&&function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))}(o,n)){var r=o.indexOf("[endif]",n);return o.indexOf(">",r)}if(e){var i=o.indexOf(">",n);return-1!==i?i:o.length}var a=/--!?>/;a.lastIndex=n;var u=a.exec(t);return u?u.index+u[0].length:o.length}(n,r,e);return t=n.substr(e,i-e),d(r?o+t:t),i+1}function h(e,n,o,r,i){var a,u;if(o=(n=n.toLowerCase())in T?n:X(o||r||i||""),O&&!C&&!1===function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")}(n)){if(!(a=z[n])&&M){for(u=M.length;u--&&!(a=M[u]).pattern.test(n););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(o in a.validValues))return}if(G[n]&&!t.allow_script_urls){var s=o.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(v){s=unescape(s)}if(Y.test(s))return;if(function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))}(t,s))return}C&&(n in G||0===n.indexOf("on"))||(b.map[n]=o,b.push({name:n,value:o}))}void 0===l&&(l="html");var p,g,v,b,y,x,w,C,S,k,T,E,O,N,A,_,D,z,M,B,R,I,P,H,L,F,V,j,$,U=0,W=[],q=0,X=yo.decode,G=$n.makeMap("src,href,data,background,formaction,poster,xlink:href"),Y=/((java|vb)script|mhtml):/i,K="html"===l?0:1;for(L=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),F=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,k=e.getShortEndedElements(),H=t.self_closing_elements||e.getSelfClosingElements(),T=e.getBoolAttrs(),O=t.validate,S=t.remove_internals,$=t.fix_self_closing,V=e.getSpecialElements(),P=n+">";p=L.exec(P);){var J=p[0];if(U<p.index&&i(X(n.substr(U,p.index-U))),g=p[7])":"===(g=g.toLowerCase()).charAt(0)&&(g=g.substr(1)),f(g);else if(g=p[8]){if(p.index+J.length>n.length){i(X(n.substr(p.index))),U=p.index+J.length;continue}":"===(g=g.toLowerCase()).charAt(0)&&(g=g.substr(1)),E=g in k,$&&H[g]&&0<W.length&&W[W.length-1].name===g&&f(g);var Q=bl(F,p[9]);if(null!==Q){if("all"===Q){U=vl(e,n,L.lastIndex),L.lastIndex=U;continue}A=!1}if(!O||(N=e.getElementRule(g))){if(A=!0,O&&(z=N.attributes,M=N.attributePatterns),(D=p[9])?((C=-1!==D.indexOf("data-mce-type"))&&S&&(A=!1),(b=[]).map={},D.replace(F,h)):(b=[]).map={},O&&!C){if(B=N.attributesRequired,R=N.attributesDefault,N.removeEmptyAttrs&&!b.length&&(A=!1),I=N.attributesForced)for(y=I.length;y--;)w=(_=I[y]).name,"{$uid}"===(j=_.value)&&(j="mce_"+q++),b.map[w]=j,b.push({name:w,value:j});if(R)for(y=R.length;y--;)(w=(_=R[y]).name)in b.map||("{$uid}"===(j=_.value)&&(j="mce_"+q++),b.map[w]=j,b.push({name:w,value:j}));if(B){for(y=B.length;y--&&!(B[y]in b.map););-1===y&&(A=!1)}if(_=b.map["data-mce-bogus"]){if("all"===_){U=vl(e,n,L.lastIndex),L.lastIndex=U;continue}A=!1}}A&&a(g,b,E)}else A=!1;if(v=V[g]){v.lastIndex=U=p.index+J.length,U=(p=v.exec(n))?(A&&(x=n.substr(U,p.index-U)),p.index+p[0].length):(x=n.substr(U),n.length),A&&(0<x.length&&i(x,!0),u(g)),L.lastIndex=U;continue}E||(D&&D.indexOf("/")===D.length-1?A&&u(g):W.push({name:g,valid:A}))}else if(g=p[1])d(g);else if(g=p[2]){if(!(1==K||t.preserve_cdata||0<W.length&&e.isValidChild(W[W.length-1].name,"#cdata"))){U=m("",p.index+2),L.lastIndex=U;continue}r(g)}else if(g=p[3])c(g);else{if((g=p[4])||"<!"===J){U=m(g,p.index+J.length),L.lastIndex=U;continue}if(g=p[5]){if(1!=K){U=m("?",p.index+2),L.lastIndex=U;continue}s(g,p[6])}}U=p.index+J.length}for(U<n.length&&i(X(n.substr(U))),y=W.length-1;0<=y;y--)(g=W[y]).valid&&u(g.name)}}}function xl(t,e){var n,o,r,i,a,u=e,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=t.schema;for(u=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),u),a=c.getShortEndedElements();i=s.exec(u);)o=s.lastIndex,r=i[0].length,n=a[i[1]]?o:Ql.findEndTag(c,u,o),u=u.substring(0,o-r)+u.substring(n),s.lastIndex=o-r;return Qa.trim(u)}function wl(t){var e,n,o,r,i,a=[];return e=(t=t||{}).indent,n=tf(t.indent_before||""),o=tf(t.indent_after||""),r=yo.getEncodeFunc(t.entity_encoding||"raw",t.entities),i="html"===t.element_format,{start:function(t,u,s){var c,l,f,d;if(e&&n[t]&&0<a.length&&0<(d=a[a.length-1]).length&&"\n"!==d&&a.push("\n"),a.push("<",t),u)for(c=0,l=u.length;c<l;c++)a.push(" ",(f=u[c]).name,'="',r(f.value,!0),'"');a[a.length]=!s||i?">":" />",s&&e&&o[t]&&0<a.length&&0<(d=a[a.length-1]).length&&"\n"!==d&&a.push("\n")},end:function(t){var n;a.push("</",t,">"),e&&o[t]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n")},text:function(t,e){0<t.length&&(a[a.length]=e?t:r(t))},cdata:function(t){a.push("<![CDATA[",t,"]]>")},comment:function(t){a.push("\x3c!--",t,"--\x3e")},pi:function(t,n){n?a.push("<?",t," ",r(n),"?>"):a.push("<?",t,"?>"),e&&a.push("\n")},doctype:function(t){a.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function Cl(t,e){void 0===e&&(e=Ao());var n=wl(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(o){var r,i;i=t.validate,r={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)for(;a(t),t=t.next;);}},n.reset();var a=function(t){var o,u,s,c,l,f,d,m,h,p=r[t.type];if(p)p(t);else{if(o=t.name,u=t.shortEnded,s=t.attributes,i&&s&&1<s.length&&((f=[]).map={},h=e.getElementRule(t.name))){for(d=0,m=h.attributesOrder.length;d<m;d++)(c=h.attributesOrder[d])in s.map&&(f.map[c]=l=s.map[c],f.push({name:c,value:l}));for(d=0,m=s.length;d<m;d++)(c=s[d].name)in f.map||(f.map[c]=l=s.map[c],f.push({name:c,value:l}));s=f}if(n.start(t.name,s,u),!u){if(t=t.firstChild)for(;a(t),t=t.next;);n.end(o)}}};return 1!==o.type||t.inner?r[11](o):a(o),n.getContent()}}}function Sl(t){var e=pt(t).dom();return t.dom()===e.activeElement}function kl(e){var n=void 0!==e?e.dom():t.document;return I.from(n.activeElement).map(ee.fromDom)}function Tl(t,e){var n=Me(e)?ul(e).length:Ct(e).length+1;return n<t?n:t<0?0:t}function El(t){return uf.range(t.start(),Tl(t.soffset(),t.start()),t.finish(),Tl(t.foffset(),t.finish()))}function Ol(t,e){return!Ge.isRestrictedNode(e.dom())&&(Ae(t,e)||ht(t,e))}function Nl(t){return function(e){return Ol(t,e.start())&&Ol(t,e.finish())}}function Al(t){return!0===t.inline||sf.isIE()}function _l(t){return uf.range(ee.fromDom(t.startContainer),t.startOffset,ee.fromDom(t.endContainer),t.endOffset)}function Dl(e){var n=t.document.createRange();try{return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),I.some(n)}catch(d){return I.none()}}function zl(t){return(t.bookmark?t.bookmark:I.none()).bind((function(e){return function(t,e){return I.from(e).filter(Nl(t)).map(El)}(ee.fromDom(t.getBody()),e)})).bind(Dl)}function Ml(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==mf.getParent(e,(function(e){return function(t){return ff.isEditorUIElement(t)}(e)||!!n&&t.dom.is(e,n)}))}function Bl(e,n){var o=n.editor;df(o),o.on("focusin",(function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),(e.focusedEditor=this).fire("focus",{blurredEditor:t}),this.focus(!0))})),o.on("focusout",(function(){var n=this;An.setEditorTimeout(n,(function(){var o=e.focusedEditor;Ml(n,function(){try{return t.document.activeElement}catch(o){return t.document.body}}())||o!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Yl||mf.bind(t.document,"focusin",Yl=function(n){var o,r=e.activeEditor;o=n.target,r&&o.ownerDocument===t.document&&(o===t.document.body||Ml(r,o)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))})}function Rl(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(mf.unbind(t.document,"focusin",Yl),Yl=null)}function Il(t,e){(function(t,e){return function(t){return t.collapsed?I.from(Pa(t.startContainer,t.startOffset)).map(ee.fromDom):I.none()}(e).bind((function(e){return oo(e)?I.some(e):!1===Ae(t,e)?I.some(t):I.none()}))})(ee.fromDom(t.getBody()),e).bind((function(t){return Yc.firstPositionIn(t.dom())})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))}function Pl(t){if(t.setActive)try{t.setActive()}catch(s){t.focus()}else t.focus()}function Hl(t){return t.inline?function(t){var e=t.getBody();return e&&function(t){return Sl(t)||function(t){return kl(pt(t)).filter((function(e){return t.dom().contains(e.dom())}))}(t).isSome()}(ee.fromDom(e))}(t):function(t){return t.iframeElement&&Sl(ee.fromDom(t.iframeElement))}(t)}function Ll(t){return t instanceof pl}function Fl(t,e){t.dom.setHTML(t.getBody(),e),function(t){gf(t)&&Yc.firstPositionIn(t.getBody()).each((function(e){var n=e.getNode(),o=Ge.isTable(n)?Yc.firstPositionIn(n).getOr(e):e;t.selection.setRng(o.toRange())}))}(t)}function Vl(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=Ll(e)?"":e,Ll(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),I.from(t.getBody()).fold(o(e),(function(o){return Ll(e)?function(t,e,n,o){!function(t,e,n){var o=function(t,e,n){var o={},r={},i=[];for(var a in n.firstChild&&ef(n.firstChild,(function(n){G(t,(function(t){t.name===n.name&&(o[t.name]?o[t.name].nodes.push(n):o[t.name]={filter:t,nodes:[n]})})),G(e,(function(t){"string"==typeof n.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})}))})),o)o.hasOwnProperty(a)&&i.push(o[a]);for(var u in r)r.hasOwnProperty(u)&&i.push(r[u]);return i}(t,e,n);G(o,(function(t){G(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}))}(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=Cl({validate:t.validate},t.schema).serialize(n);return o.content=io(ee.fromDom(e))?r:$n.trim(r),Fl(t,o.content),o.no_events||t.fire("SetContent",o),n}(t,o,e,n):function(t,e,n,o){var r,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+i+"</li>"),n=(r=zs(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?t.dom.createHTML(r,t.settings.forced_root_block_attrs,n=i):n||'<br data-mce-bogus="1">',Fl(t,n),t.fire("SetContent",o)):("raw"!==o.format&&(n=Cl({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),o.content=io(ee.fromDom(e))?n:$n.trim(n),Fl(t,o.content),o.no_events||t.fire("SetContent",o)),o.content}(t,o,e,n)}))}function jl(t){return I.from(t).each((function(t){return t.destroy()}))}function $l(t){var e=L(t)?t.join(" "):t,n=X(P(e)?e.split(" "):[],ut);return Y(n,(function(t){return 0<t.length}))}function Ul(t,e){return t.sections().hasOwnProperty(e)}function Wl(t,e){return B(t,"toolbar_mode").orThunk((function(){return B(t,"toolbar_drawer").map((function(t){return!1===t?"wrap":t}))})).getOr(e)}function ql(t,e,n){return I.from(e.settings[n]).filter(t)}function Xl(t,e){return e.dom()[t]}function Gl(t,e){return parseInt(Gt(e,t),10)}(yl=yl||{}).findEndTag=vl;var Yl,Kl,Jl,Ql=yl,Zl={trimExternal:xl,trimInternal:xl},tf=$n.makeMap,ef=function(t,e){e(t),t.firstChild&&ef(t.firstChild,e),t.next&&ef(t.next,e)},nf=function(e){if(!L(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],o={};return G(e,(function(r,i){var a=J(r);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=r[u];if(void 0!==o[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!L(s))throw new Error("case arguments must be an array");n.push(u),o[u]=function(){var o=arguments.length;if(o!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+o);for(var r=new Array(o),a=0;a<r.length;a++)r[a]=arguments[a];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,r)},match:function(t){var e=J(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!k(n,(function(t){return v(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[u].apply(null,r)},log:function(e){t.console.log(e,{constructors:n,constructor:u,params:r})}}}})),o},of={create:ft("start","soffset","finish","foffset")},rf=(nf([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(t){return t.fold(r,r,r)}),af=nf([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),uf={domRange:af.domRange,relative:af.relative,exact:af.exact,exactFromRange:function(t){return af.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){return gt(function(t){return t.match({domRange:function(t){return ee.fromDom(t.startContainer)},relative:function(t,e){return rf(t)},exact:function(t,e,n,o){return t}})}(t))},range:of.create},sf=lt().browser,cf=function(t){var e=Al(t)?function(t){return function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?I.from(e.getRangeAt(0)):I.none()).map(_l)}(gt(t).dom()).filter(Nl(t))}(ee.fromDom(t.getBody())):I.none();t.bookmark=e.isSome()?e:t.bookmark},lf=zl,ff={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},df=function(e){var n=ea((function(){cf(e)}),0);e.on("init",(function(){e.inline&&function(e,n){function o(){n.throttle()}$i.DOM.bind(t.document,"mouseup",o),e.on("remove",(function(){$i.DOM.unbind(t.document,"mouseup",o)}))}(e,n),function(t,e){lt().browser.isIE()?function(t){t.on("focusout",(function(){cf(t)}))}(t):function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))}(t,e),t.on("keyup NodeChange",(function(e){!function(t){return"nodechange"===t.type&&t.selectionChange}(e)&&cf(t)}))}(e,n)})),e.on("remove",(function(){n.cancel()}))},mf=$i.DOM,hf=Ml,pf=function(t){return t.editorManager.setActive(t)},gf=Hl,vf=$i.DOM,bf=Object.prototype.hasOwnProperty,yf=(Kl=function(t,e){return H(t)&&H(e)?yf(t,e):e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},o=0;o<t.length;o++){var r=t[o];for(var i in r)bf.call(r,i)&&(n[i]=Kl(n[i],r[i]))}return n}),xf=ft("sections","settings"),wf=lt().deviceType,Cf=wf.isTouch(),Sf=wf.isPhone(),kf=wf.isTablet(),Tf=["lists","autolink","autosave"],Ef={table_grid:!1,object_resizing:!1,resize:!1},Of=(Jl={},{add:function(t,e){Jl[t]=e},get:function(t){return Jl[t]?Jl[t]:{icons:{}}},has:function(t){return tt(Jl,t)}}),Nf=i(Xl,"clientWidth"),Af=i(Xl,"clientHeight"),_f=i(Gl,"margin-top"),Df=i(Gl,"margin-left"),zf=function(t,e,n){var o=ee.fromDom(t.getBody()),r=t.inline?o:function(t){return ee.fromDom(t.dom().ownerDocument.documentElement)}(o),i=function(t,e,n,o){var r=function(t){return t.dom().getBoundingClientRect()}(e);return{x:n-(t?r.left+e.dom().clientLeft+Df(e):0),y:o-(t?r.top+e.dom().clientTop+_f(e):0)}}(t.inline,r,e,n);return function(t,e,n){var o=Nf(t),r=Af(t);return 0<=e&&0<=n&&e<=o&&n<=r}(r,i.x,i.y)};function Mf(t){function e(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():function(){function t(){throw new Error("Theme did not provide a NotificationManager implementation.")}return{open:t,close:t,reposition:t,getArgs:t}}()}function n(){0<a.length&&e().reposition(a)}function o(t){C(a,(function(e){return e===t})).each((function(t){a.splice(t,1)}))}function r(r){if(!t.removed&&function(t){return function(t){return I.from(t).map(ee.fromDom)}(t.inline?t.getBody():t.getContentAreaContainer()).map((function(t){return Ae(pt(t),t)})).getOr(!1)}(t))return w(a,(function(t){return function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)}(e().getArgs(t),r)})).getOrThunk((function(){t.editorManager.setActive(t);var i=e().open(r,(function(){o(i),n()}));return function(t){a.push(t)}(i),n(),i}))}var i,a=[];return(i=t).on("SkinLoaded",(function(){var t=i.settings.service_message;t&&r({text:t,type:"warning",timeout:0})})),i.on("ResizeEditor ResizeWindow NodeChange",(function(){An.requestAnimationFrame(n)})),i.on("remove",(function(){G(a.slice(),(function(t){e().close(t)}))})),{open:r,close:function(){I.from(a[0]).each((function(t){e().close(t),o(t),n()}))},getNotifications:function(){return a}}}var Bf=sa.PluginManager,Rf=sa.ThemeManager;function If(t){function e(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():function(){function t(){throw new Error("Theme did not provide a WindowManager implementation.")}return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}()}function n(t,e){return function(){return e?e.apply(t,arguments):void 0}}function o(e){!function(e){t.fire("CloseWindow",{dialog:e})}(e),0===(i=Y(i,(function(t){return t!==e}))).length&&t.focus()}function r(e){t.editorManager.setActive(t),cf(t);var n=e();return function(e){i.push(e),function(e){t.fire("OpenWindow",{dialog:e})}(e)}(n),n}var i=[];return t.on("remove",(function(){G(i,(function(t){e().close(t)}))})),{open:function(t,n){return r((function(){return e().open(t,n,o)}))},openUrl:function(t){return r((function(){return e().openUrl(t,o)}))},alert:function(t,o,r){e().alert(t,n(r||this,o))},confirm:function(t,o,r){e().confirm(t,n(r||this,o))},close:function(){I.from(i[i.length-1]).each((function(t){e().close(t),o(t)}))}}}function Pf(t,e){t.notificationManager.open({type:"error",text:e})}function Hf(t,e){t._skinLoaded?Pf(t,e):t.on("SkinLoaded",(function(){Pf(t,e)}))}function Lf(e,n,o){!function(t,e,n){t.fire(e,n)}(e,n,{message:o}),t.console.error(o)}function Ff(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e}var Vf=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=t.window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},jf={pluginLoadError:function(t,e,n){Lf(t,"PluginLoadError",Ff("plugin",e,n))},iconsLoadError:function(t,e,n){Lf(t,"IconsLoadError",Ff("icons",e,n))},languageLoadError:function(t,e,n){Lf(t,"LanguageLoadError",Ff("language",e,n))},pluginInitError:function(t,e,n){var o=Zi.translate(["Failed to initialize plugin: {0}",e]);Vf(o,n),Hf(t,o)},uploadError:function(t,e){Hf(t,Zi.translate(["Failed to upload image: {0}",e]))},displayError:Hf,initError:Vf};function $f(t){return{getBookmark:i(Kc,t),moveToBookmark:i(Jc,t)}}function Uf(e,n){var o,r,i,a,s,c,l,f,d,m,h,p,g,v,b,y,x,w=n.dom,C=$n.each,S=n.getDoc(),k=t.document,T=Math.abs,E=Math.round,O=n.getBody();function N(t){return t&&("IMG"===t.nodeName||n.dom.is(t,"figure.image"))}function A(t){var e=t.target;!function(t,e){if("longpress"!==t.type&&0!==t.type.indexOf("touch"))return N(t.target)&&!qf(t.clientX,t.clientY,e);var n=t.touches[0];return N(t.target)&&!qf(n.clientX,n.clientY,e)}(t,n.selection.getRng())||t.isDefaultPrevented()||n.selection.select(e)}function _(t){return n.dom.is(t,"figure.image")?t.querySelector("img"):t}function D(t){var e=function(t){return t.getParam("object_resizing")}(n);return!1!==e&&!Hn.iOS&&("string"!=typeof e&&(e="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==n.getBody()&&dt(ee.fromDom(t),e))}function z(t){var e,a,u,C;v=(v=(e=t.screenX-c)*s[2]+m)<5?5:v,b=(b=(a=t.screenY-l)*s[3]+h)<5?5:b,(N(o)&&!1!==function(t){return t.getParam("resize_img_proportional",!0,"boolean")}(n)?!Xf.modifierPressed(t):Xf.modifierPressed(t))&&(T(e)>T(a)?(b=E(v*p),v=E(b/p)):(v=E(b/p),b=E(v*p))),w.setStyles(_(r),{width:v,height:b}),u=0<(u=s.startPos.x+e)?u:0,C=0<(C=s.startPos.y+a)?C:0,w.setStyles(i,{left:u,top:C,display:"block"}),i.innerHTML=v+" &times; "+b,s[2]<0&&r.clientWidth<=v&&w.setStyle(r,"left",f+(m-v)),s[3]<0&&r.clientHeight<=b&&w.setStyle(r,"top",d+(h-b)),(e=O.scrollWidth-y)+(a=O.scrollHeight-x)!=0&&w.setStyles(i,{left:u-e,top:C-a}),g||(function(t,e,n,o){t.fire("ObjectResizeStart",{target:e,width:n,height:o})}(n,o,m,h),g=!0)}function M(t){function o(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)}var r;g||n.removed||(C(w.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),r="mousedown"===t.type?t.target:e.getNode(),o(r=w.$(r).closest("table,img,figure.image,hr")[0],O)&&(L(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?I(r):P())}function B(t){return Gf(function(t,e){for(;e&&e!==t;){if(Yf(e)||Gf(e))return e;e=e.parentNode}return null}(n.getBody(),t))}a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var R=function(){function t(t,e){e&&(o.style[t]||!n.schema.isValid(o.nodeName.toLowerCase(),t)?w.setStyle(_(o),t,e):w.setAttrib(_(o),t,e))}g=!1,t("width",v),t("height",b),w.unbind(S,"mousemove",z),w.unbind(S,"mouseup",R),k!==S&&(w.unbind(k,"mousemove",z),w.unbind(k,"mouseup",R)),w.remove(r),w.remove(i),I(o),function(t,e,n,o){t.fire("ObjectResized",{target:e,width:n,height:o})}(n,o,v,b),w.setAttrib(o,"style",w.getAttrib(o,"style")),n.nodeChanged()},I=function(t){var e,u,g,T,E;P(),H(),e=w.getPos(t,O),f=e.x,d=e.y,E=t.getBoundingClientRect(),u=E.width||E.right-E.left,g=E.height||E.bottom-E.top,o!==t&&(o=t,v=b=0),T=n.fire("ObjectSelected",{target:t}),D(t)&&!T.isDefaultPrevented()?C(a,(function(t,e){var n;(n=w.get("mceResizeHandle"+e))&&w.remove(n),n=w.add(O,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===Hn.ie&&(n.contentEditable=!1),w.bind(n,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){c=e.screenX,l=e.screenY,m=_(o).clientWidth,h=_(o).clientHeight,p=h/m,(s=t).startPos={x:u*t[0]+f,y:g*t[1]+d},y=O.scrollWidth,x=O.scrollHeight,r=o.cloneNode(!0),w.addClass(r,"mce-clonedresizable"),w.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,w.setStyles(r,{left:f,top:d,margin:0}),r.removeAttribute("data-mce-selected"),O.appendChild(r),w.bind(S,"mousemove",z),w.bind(S,"mouseup",R),k!==S&&(w.bind(k,"mousemove",z),w.bind(k,"mouseup",R)),i=w.add(O,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+h)}(e)})),t.elm=n,w.setStyles(n,{left:u*t[0]+f-n.offsetWidth/2,top:g*t[1]+d-n.offsetHeight/2})})):P(),o.setAttribute("data-mce-selected","1")},P=function(){var t,e;for(t in H(),o&&o.removeAttribute("data-mce-selected"),a)(e=w.get("mceResizeHandle"+t))&&(w.unbind(e),w.remove(e))},H=function(){for(var t in a){var e=a[t];e.elm&&(w.unbind(e.elm),delete e.elm)}},L=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(u){}};return n.on("init",(function(){if(L(),Hn.browser.isIE()||Hn.browser.isEdge()){n.on("mousedown click",(function(t){var e=t.target,o=e.nodeName;g||!/^(TABLE|IMG|HR)$/.test(o)||B(e)||(2!==t.button&&n.selection.select(e,"TABLE"===o),"mousedown"===t.type&&n.nodeChanged())}));var t=function(t){function e(t){An.setEditorTimeout(n,(function(){return n.selection.select(t)}))}if(B(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))};w.bind(O,"mscontrolselect",t),n.on("remove",(function(){return w.unbind(O,"mscontrolselect",t)}))}var e=An.throttle((function(t){n.composing||M(t)}));n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),n.on("keyup compositionend",(function(t){o&&"TABLE"===o.nodeName&&e(t)})),n.on("hide blur",P),n.on("contextmenu longpress",A,!0)})),n.on("remove",H),{isResizable:D,showResizeRect:I,hideResizeRect:P,updateResizeRect:M,destroy:function(){o=r=null}}}($f=$f||{}).isBookmarkNode=Qc;var Wf=$f,qf=function(t,e,n){if(n.collapsed)return!1;if(Hn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var o=n.startContainer.childNodes[n.startOffset];if(Ge.isElement(o))return b(o.getClientRects(),(function(n){return Ra(n,t,e)}))}return b(n.getClientRects(),(function(n){return Ra(n,t,e)}))},Xf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return Hn.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Gf=Ge.isContentEditableFalse,Yf=Ge.isContentEditableTrue;function Kf(t){return"textarea"===zt(t)}function Jf(t,e){var n=function(t){var e=t.dom().ownerDocument,n=e.body,o=e.defaultView,r=e.documentElement;if(n===t.dom())return Re(n.offsetLeft,n.offsetTop);var i=Rt(o.pageYOffset,r.scrollTop),a=Rt(o.pageXOffset,r.scrollLeft),u=Rt(r.clientTop,n.clientTop),s=Rt(r.clientLeft,n.clientLeft);return Ie(t).translate(a-s,i-u)}(t),o=function(t){return Md.get(t)}(t);return{element:t,bottom:n.top()+o,height:o,pos:n,cleanup:e}}function Qf(t,e,n,o){Pd(t,(function(r,i){return Id(t,e,n,o)}),n)}function Zf(t,e,n,o,r){var i={elm:o.element.dom(),alignToTop:r};!function(t,e){return t.fire("ScrollIntoView",e).isDefaultPrevented()}(t,i)&&(n(e,It(e).top(),o,r),function(t,e){t.fire("AfterScrollIntoView",e)}(t,i))}function td(t,n,o,r){var i=ee.fromDom(t.getDoc());Zf(t,i,o,function(t){return Jf(ee.fromDom(t),e)}(n),r)}function ed(t,e,n,o){var r=t.pos;if(n)Pt(r.left(),r.top(),o);else{var i=r.top()-e+t.height;Pt(r.left(),i,o)}}function nd(t,e,n,o,r){var i=n+e,a=o.pos.top(),u=o.bottom,s=n<=u-a;a<e?ed(o,n,!1!==r,t):i<a?ed(o,n,s?!1!==r:!0===r,t):i<u&&!s&&ed(o,n,!0===r,t)}function od(t,e,n,o){var r=t.dom().defaultView.innerHeight;nd(t,e,r,n,o)}function rd(e,n,o,r){var i=e.dom().defaultView.innerHeight;nd(e,n,i,o,r);var a=function(e){var n=It(ee.fromDom(t.document)),o=function(t,e){var n=e.owner(t);return Bd(e,n)}(e,Rd),r=Ie(e),i=y(o,(function(t,e){var n=Ie(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return Re(i.left+r.left()+n.left(),i.top+r.top()+n.top())}(o.element),u=He(t.window);a.top()<u.y()?Ht(o.element,!1!==r):a.top()>u.bottom()&&Ht(o.element,!0===r)}function id(t,e,n){return Qf(t,od,e,n)}function ad(t,e,n){return td(t,e,od,n)}function ud(t,e,n){return Qf(t,rd,e,n)}function sd(t,e,n){return td(t,e,rd,n)}function cd(t){return Ge.isContentEditableTrue(t)||Ge.isContentEditableFalse(t)}function ld(e,n){var o=(n||t.document).createDocumentFragment();return G(e,(function(t){o.appendChild(t.dom())})),ee.fromDom(o)}function fd(t,e){return function(t,e,n){return Ae(e,t)?function(t){return t.slice(0,-1)}(function(t,e){for(var n=j(e)?e:c,o=t.dom(),r=[];null!=o.parentNode;){var i=o.parentNode,a=ee.fromDom(i);if(r.push(a),!0===n(a))break;o=i}return r}(t,(function(t){return n(t)||ht(t,e)}))):[]}(t,e,o(!1))}function dd(t,e,n,o){var r=n,i=new zi(n,r),a=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==$n.trim(n.nodeValue).length)return void(o?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(o?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=o?i.next():i.prev());"BODY"===r.nodeName&&(o?e.setStart(r,0):e.setEnd(r,r.childNodes.length))}function md(t){var e=t.selection.getSel();return e&&0<e.rangeCount}function hd(t,e){var n=parseInt(qt(t,e),10);return isNaN(n)?1:n}function pd(t){return x(t,(function(t,e){return e.cells().length>t?e.cells().length:t}),0)}function gd(t,e){for(var n=t.rows(),o=0;o<n.length;o++)for(var r=n[o].cells(),i=0;i<r.length;i++)if(ht(r[i],e))return I.some(Gd(i,o));return I.none()}function vd(t,e,n,o,r){for(var i=[],a=t.rows(),u=n;u<=r;u++){var s=a[u].cells(),c=e<o?s.slice(e,o+1):s.slice(o,e+1);i.push(Xd(a[u].element(),c))}return i}function bd(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e}function yd(t,e){var n=function(t){return ua(t,"td[data-mce-selected],th[data-mce-selected]")}(e),o=function(t){return Y(Jd(t),ro)}(t);return 0<n.length?n:o}function xd(){return ld([])}function wd(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)}function Cd(t,e,n){return wd(t,e,(function(t){return t.nodeName===n}))}function Sd(t){return t&&"TABLE"===t.nodeName}function kd(t,e,n){for(var o=new zi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=o[n?"prev":"next"]();)if(Ge.isBr(e))return!0}function Td(t,e,n,o,r){var i,a,u=t.getRoot(),s=t.schema.getNonEmptyElements(),c=t.getParent(r.parentNode,t.isBlock)||u;if(o&&Ge.isBr(r)&&e&&t.isEmpty(c))return I.some(Ou(r.parentNode,t.nodeIndex(r)));for(var l,f,d=new zi(r,c);a=d[o?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||(f=u,Sa(l=a)&&!1===wd(l,f,Uu)))return I.none();if(Ge.isText(a)&&0<a.nodeValue.length)return!1===Cd(a,u,"A")?I.some(Ou(a,o?a.nodeValue.length:0)):I.none();if(t.isBlock(a)||s[a.nodeName.toLowerCase()])return I.none();i=a}return n&&i?I.some(Ou(i,0)):I.none()}function Ed(t,e,n,o){var r,i,a,u,s,c,l,f=t.getRoot(),d=!1;if(i=o[(n?"start":"end")+"Offset"],c=Ge.isElement(r=o[(n?"start":"end")+"Container"])&&i===r.childNodes.length,u=t.schema.getNonEmptyElements(),s=n,Sa(r))return I.none();if(Ge.isElement(r)&&i>r.childNodes.length-1&&(s=!1),Ge.isDocument(r)&&(r=f,i=0),r===f){if(s&&(a=r.childNodes[0<i?i-1:0])){if(Sa(a))return I.none();if(u[a.nodeName]||Sd(a))return I.none()}if(r.hasChildNodes()){if(i=Math.min(!s&&0<i?i-1:i,r.childNodes.length-1),i=Ge.isText(r=r.childNodes[i])&&c?r.data.length:0,!e&&r===f.lastChild&&Sd(r))return I.none();if(function(t,e){for(;e&&e!==t;){if(Ge.isContentEditableFalse(e))return!0;e=e.parentNode}return!1}(f,r)||Sa(r))return I.none();if(r.hasChildNodes()&&!1===Sd(r)){var m=new zi(a=r,f);do{if(Ge.isContentEditableFalse(a)||Sa(a)){d=!1;break}if(Ge.isText(a)&&0<a.nodeValue.length){i=s?0:a.nodeValue.length,r=a,d=!0;break}if(u[a.nodeName.toLowerCase()]&&(!(l=a)||!/^(TD|TH|CAPTION)$/.test(l.nodeName))){i=t.nodeIndex(a),r=a.parentNode,s||i++,d=!0;break}}while(a=s?m.next():m.prev())}}}return e&&(Ge.isText(r)&&0===i&&Td(t,c,e,!0,r).each((function(t){r=t.container(),i=t.offset(),d=!0})),Ge.isElement(r)&&(!(a=(a=r.childNodes[i])||r.childNodes[i-1])||!Ge.isBr(a)||function(t,e){return t.previousSibling&&"A"===t.previousSibling.nodeName}(a)||kd(t,a,!1)||kd(t,a,!0)||Td(t,c,e,!0,a).each((function(t){r=t.container(),i=t.offset(),d=!0})))),s&&!e&&Ge.isText(r)&&i===r.nodeValue.length&&Td(t,c,e,!1,r).each((function(t){r=t.container(),i=t.offset(),d=!0})),d?I.some(Ou(r,i)):I.none()}function Od(t){return 0===t.dom().length?(De(t),I.none()):I.some(t)}function Nd(t,e,n,o,r){var i=n?e.startOffset:e.endOffset;return I.from(n?e.startContainer:e.endContainer).map(ee.fromDom).map((function(t){return o&&e.collapsed?t:St(t,r(t,i)).getOr(t)})).bind((function(t){return ze(t)?I.some(t):vt(t)})).map((function(t){return t.dom()})).getOr(t)}function Ad(t,e,n){return Nd(t,e,!0,n,(function(t,e){return Math.min(function(t){return t.dom().childNodes.length}(t),e)}))}function _d(t,e,n){return Nd(t,e,!1,n,(function(t,e){return 0<e?e-1:e}))}function Dd(t,e){for(var n=t;t&&Ge.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}function zd(t,e,n){if(t&&t.hasOwnProperty(e)){var o=Y(t[e],(function(t){return t!==n}));0===o.length?delete t[e]:t[e]=o}}var Md=function(t,e){function n(e){var n=function(t){var e=t.dom();return Bt(t)?e.getBoundingClientRect().height:e.offsetHeight}(e);if(n<=0||null===n){var o=Gt(e,t);return parseFloat(o)||0}return n}function o(t,e){return x(e,(function(e,n){var o=Gt(t,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?e:e+r}),0)}return{set:function(e,n){if(!$(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var o=e.dom();$t(o)&&(o.style[t]=n+"px")},get:n,getOuter:n,aggregate:o,max:function(t,e,n){var r=o(t,n);return r<e?e-r:0}}}("height"),Bd=function(t,e){return t.view(e).fold(o([]),(function(e){var n=t.owner(e),o=Bd(t,n);return[e].concat(o)}))},Rd=Object.freeze({__proto__:null,view:function(e){return(e.dom()===t.document?I.none():I.from(e.dom().defaultView.frameElement)).map(ee.fromDom)},owner:function(t){return pt(t)}}),Id=function(t,e,n,o){var r=ee.fromDom(t.getBody()),i=ee.fromDom(t.getDoc());!function(t){t.dom()}(r);var a=function(t,e){var n=function(t,e){var n=Ct(t);if(0===n.length||Kf(t))return{element:t,offset:e};if(e<n.length&&!Kf(n[e]))return{element:n[e],offset:0};var o=n[n.length-1];return Kf(o)?{element:t,offset:e}:"img"===zt(o)?{element:o,offset:1}:Me(o)?{element:o,offset:ul(o).length}:{element:o,offset:Ct(o).length}}(t,e),o=ee.fromHtml('<span data-mce-bogus="all">'+Qa.ZWSP+"</span>");return Et(n.element,o),Jf(o,(function(){return De(o)}))}(ee.fromDom(n.startContainer),n.startOffset);Zf(t,i,e,a,o),a.cleanup()},Pd=function(t,e,n){var o=n.startContainer,r=n.startOffset,i=n.endContainer,a=n.endOffset;e(ee.fromDom(o),ee.fromDom(i));var u=t.dom.createRng();u.setStart(o,r),u.setEnd(i,a),t.selection.setRng(n)},Hd=function(t,e,n){(t.inline?ad:sd)(t,e,n)},Ld=function(t,e,n){(t.inline?id:ud)(t,e,n)},Fd=function(t,e,n){var o,r,i=n;if(i.caretPositionFromPoint)(r=i.caretPositionFromPoint(t,e))&&((o=n.createRange()).setStart(r.offsetNode,r.offset),o.collapse(!0));else if(n.caretRangeFromPoint)o=n.caretRangeFromPoint(t,e);else if(i.body.createTextRange){o=i.body.createTextRange();try{o.moveToPoint(t,e),o.collapse(!0)}catch(l){o=function(t,e,n){var o,i,a;if(o=n.elementFromPoint(t,e),i=n.body.createTextRange(),o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),0<(a=(a=$n.toArray(i.getClientRects())).sort((function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-Math.abs(Math.max(n.top-e,n.bottom-e))}))).length){e=(a[0].bottom+a[0].top)/2;try{return i.moveToPoint(t,e),i.collapse(!0),i}catch(r){}}return null}(t,e,n)}return function(t,e){var n=t&&t.parentElement?t.parentElement():null;return Ge.isContentEditableFalse(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(n,e,cd))?null:t}(o,n.body)}return o},Vd=function(t,e){return X(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},jd=fd,$d=function(t,e){return[t].concat(fd(t,e))},Ud=function(t){return kt(t).fold(o([t]),(function(e){return[t].concat(Ud(e))}))},Wd=function(t){return Tt(t).fold(o([t]),(function(e){return"br"===zt(e)?bt(e).map((function(e){return[t].concat(Wd(e))})).getOr([]):[t].concat(Wd(e))}))},qd=ft("element","width","rows"),Xd=ft("element","cells"),Gd=ft("x","y"),Yd=function(t){return function(t,e){var n=ya(t.element()),o=ee.fromTag("tbody");return At(o,e),_e(n,o),n}(t,function(t){return X(t.rows(),(function(t){var e=X(t.cells(),(function(t){var e=xa(t);return Xt(e,"colspan"),Xt(e,"rowspan"),e})),n=ya(t.element());return At(n,e),n}))}(t))},Kd=bd,Jd=function(t){return S(t,(function(t){var e=Ia(t);return e?[ee.fromDom(e)]:[]}))},Qd=yd,Zd=function(t){return yd(Kd(t.selection.getSel()),ee.fromDom(t.getBody()))},tm=function(t,e){var n=Qd(e,t);return 0<n.length?function(t,e){return function(t,e){return ma(e,"table",i(ht,t))}(t,e[0]).bind((function(t){var n=e[0],o=e[e.length-1];return function(t,e,n){return gd(t,e).bind((function(e){return gd(t,n).map((function(n){return function(t,e,n){var o=e.x(),r=e.y(),i=n.x(),a=n.y(),u=r<a?vd(t,o,r,i,a):vd(t,o,a,i,r);return qd(t.element(),pd(u),u)}(t,e,n)}))}))}(function(t){var e=qd(ya(t),0,[]);return G(ua(t,"tr"),(function(t,n){G(ua(t,"td,th"),(function(o,r){!function(t,e,n,o,r){for(var i=hd(r,"rowspan"),a=hd(r,"colspan"),u=t.rows(),s=n;s<n+i;s++){u[s]||(u[s]=Xd(xa(o),[]));for(var c=e;c<e+a;c++)u[s].cells()[c]=s===n&&c===e?r:ya(r)}}(e,function(t,e,n){for(;o=e,r=n,i=void 0,((i=t.rows())[r]?i[r].cells():[])[o];)e++;var o,r,i;return e}(e,r,n),n,t,o)}))})),qd(e.element(),pd(e.rows()),e.rows())}(t),n,o).map((function(t){return ld([Yd(t)])}))})).getOrThunk(xd)}(t,n):function(t,e){return 0<e.length&&e[0].collapsed?xd():function(t,e){return function(t,e){var n=x(e,(function(t,e){return _e(e,t),e}),t);return 0<e.length?ld([n]):n}(ee.fromDom(e.cloneContents()),function(t,e){var n=ee.fromDom(e.commonAncestorContainer),r=$d(n,t),a=Y(r,(function(t){return Wn(t)||Jn(t)})),u=function(t,e){return w(t,(function(t){return"li"===zt(t)&&function(t,e){return La(function(t){var e=t.startContainer,n=t.startOffset;return Ge.isText(e)?0===n?I.some(ee.fromDom(e)):I.none():I.from(e.childNodes[n]).map(ee.fromDom)}(e),function(t){var e=t.endContainer,n=t.endOffset;return Ge.isText(e)?n===e.data.length?I.some(ee.fromDom(e)):I.none():I.from(e.childNodes[n-1]).map(ee.fromDom)}(e),(function(e,n){var o=w(Ud(t),i(ht,e)),r=w(Wd(t),i(ht,n));return o.isSome()&&r.isSome()})).getOr(!1)}(t,e)})).fold(o([]),(function(e){return function(t){return w(t,(function(t){return"ul"===zt(t)||"ol"===zt(t)}))}(t).map((function(t){return[ee.fromTag("li"),ee.fromTag(zt(t))]})).getOr([])}))}(r,e),s=a.concat(u.length?u:function(t){return eo(t)?vt(t).filter(to).fold(o([]),(function(e){return[t,e]})):to(t)?[t]:[]}(n));return X(s,ya)}(t,e))}(t,e[0])}(t,e)},em=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},nm=function(t,e){var n=e.collapsed,o=e.cloneRange(),r=Ou.fromRangeStart(e);return Ed(t,n,!0,o).each((function(t){n&&Ou.isAbove(r,t)||o.setStart(t.container(),t.offset())})),n||Ed(t,n,!1,o).each((function(t){o.setEnd(t.container(),t.offset())})),n&&o.collapse(!0),em(e,o)?I.none():I.some(o)};function om(t){return!!t.select}function rm(t){return!(!t||!t.ownerDocument)&&Ae(ee.fromDom(t.ownerDocument),ee.fromDom(t))}function im(t,e,n,o){function r(t,e){return function(t,e,n){if((n=function(t,e){return(t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t}(n,e)).no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){var o=t.selection.getRng();!function(t,e){var n=I.from(e.firstChild).map(ee.fromDom),o=I.from(e.lastChild).map(ee.fromDom);t.deleteContents(),t.insertNode(e);var r=n.bind(bt).filter(Me).bind(Od),i=o.bind(yt).filter(Me).bind(Od);La(r,n.filter(Me),(function(t,e){!function(t,e){t.insertData(0,e)}(e.dom(),t.dom().data),De(t)})),La(i,o.filter(Me),(function(e,n){var o=n.dom().length;n.dom().appendData(e.dom().data),t.setEnd(n.dom(),o),De(e)})),t.collapse(!1)}(o,o.createContextualFragment(n.content)),t.selection.setRng(o),Ld(t,o),n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}(o,t,e)}function i(){var e,n,o=d();return!(o&&o.anchorNode&&o.focusNode)||((e=t.createRng()).setStart(o.anchorNode,o.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(o.focusNode,o.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)}var a,u,s,c,l=function(t,e){var n,o;return{selectorChangedWithUnbind:function(r,i){return n||(n={},o={},e.on("NodeChange",(function(e){var r=e.element,i=t.getParents(r,null,t.getRoot()),a={};$n.each(n,(function(e,n){$n.each(i,(function(r){if(t.is(r,n))return o[n]||($n.each(e,(function(t){t(!0,{node:r,selector:n,parents:i})})),o[n]=e),a[n]=e,!1}))})),$n.each(o,(function(t,e){a[e]||(delete o[e],$n.each(t,(function(t){t(!1,{node:r,selector:e,parents:i})})))}))}))),n[r]||(n[r]=[]),n[r].push(i),{unbind:function(){zd(n,r,i),zd(o,r,i)}}}}}(t,o).selectorChangedWithUnbind,f=function(t){var e=m();e.collapse(!!t),h(e)},d=function(){return e.getSelection?e.getSelection():e.document.selection},m=function(){function n(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(a){return-1}}var r,i,a,u;if(!e)return null;if(null==(u=e.document))return null;if(void 0!==o.bookmark&&!1===gf(o)){var l=lf(o);if(l.isSome())return l.map((function(t){return Vd(o,[t])[0]})).getOr(u.createRange())}try{(r=d())&&!Ge.isRestrictedNode(r.anchorNode)&&(i=0<r.rangeCount?r.getRangeAt(0):r.createRange?r.createRange():u.createRange())}catch(f){}return(i=(i=Vd(o,[i])[0])||(u.createRange?u.createRange():u.body.createTextRange())).setStart&&9===i.startContainer.nodeType&&i.collapsed&&(a=t.getRoot(),i.setStart(a,0),i.setEnd(a,0)),s&&c&&(0===n(i.START_TO_START,i,s)&&0===n(i.END_TO_END,i,s)?i=c:c=s=null),i},h=function(t,e){var n,r;if(function(t){return!!t&&(!!om(t)||rm(t.startContainer)&&rm(t.endContainer))}(t)){var i=om(t)?t:null;if(i){c=null;try{i.select()}catch(l){}}else{if(n=d(),t=o.fire("SetSelectionRange",{range:t,forward:e}).range,n){c=t;try{n.removeAllRanges(),n.addRange(t)}catch(l){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),s=0<n.rangeCount?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||Hn.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(r=t.startContainer.childNodes[t.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(r,0,r,1)),o.fire("AfterSetSelectionRange",{range:t,forward:e})}}},p={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:o,collapse:f,setCursorLocation:function(e,n){var r=t.createRng();e?(r.setStart(e,n),r.setEnd(e,n),h(r),f(!1)):(dd(t,r,o.getBody(),!0),h(r))},getContent:function(t){return function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return function(t){return I.from(t.selection.getRng()).map((function(e){var n=t.dom.add(t.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),o=Qa.trim(n.innerText);return t.dom.remove(n),o})).getOr("")}(t);e.getInner=!0;var n=function(t,e){var n,o=t.selection.getRng(),r=t.dom.create("body"),i=t.selection.getSel(),a=Vd(t,Kd(i));return(n=e.contextual?tm(ee.fromDom(t.getBody()),a).dom():o.cloneContents())&&r.appendChild(n),t.selection.serializer.serialize(r,e)}(t,e);return"tree"===e.format?n:(e.content=t.selection.isCollapsed()?"":n,t.fire("GetContent",e),e.content)}(o,t)},setContent:r,getBookmark:function(t,e){return a.getBookmark(t,e)},moveToBookmark:function(t){return a.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return I.from(e).map((function(e){var o=t.nodeIndex(e),r=t.createRng();return r.setStart(e.parentNode,o),r.setEnd(e.parentNode,o+1),n&&(dd(t,r,e,!0),dd(t,r,e,!1)),r}))}(t,e,n).each(h),e},isCollapsed:function(){var t=m(),e=d();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:i,setNode:function(e){return r(t.getOuterHTML(e)),e},getNode:function(){return function(t,e){var n,o,r,i,a;return e?(o=e.startContainer,r=e.endContainer,i=e.startOffset,a=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(o===r&&a-i<2&&o.hasChildNodes()&&(n=o.childNodes[i]),3===o.nodeType&&3===r.nodeType&&(o=o.length===i?Dd(o.nextSibling,!0):o.parentNode,r=0===a?Dd(r.previousSibling,!1):r.parentNode,o&&o===r))?o:n&&3===n.nodeType?n.parentNode:n):t}(o.getBody(),m())},getSel:d,setRng:h,getRng:m,getStart:function(t){return Ad(o.getBody(),m(),t)},getEnd:function(t){return _d(o.getBody(),m(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,o){var r,i,a=[];if(i=t.getRoot(),n=t.getParent(n||Ad(i,e,e.collapsed),t.isBlock),o=t.getParent(o||_d(i,e,e.collapsed),t.isBlock),n&&n!==i&&a.push(n),n&&o&&n!==o)for(var u=new zi(r=n,i);(r=u.next())&&r!==o;)t.isBlock(r)&&a.push(r);return o&&n!==o&&o!==i&&a.push(o),a}(t,m(),e,n)},normalize:function(){var e=m();if(function(t){return 1<bd(t).length}(d())||!md(o))return e;var n=nm(t,e);return n.each((function(t){h(t,i())})),n.getOr(e)},selectorChanged:function(t,e){return l(t,e),p},selectorChangedWithUnbind:l,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return Hd(o,t,e)},placeCaretAt:function(t,e){return h(Fd(t,e,o.getDoc()))},getBoundingClientRect:function(){var t=m();return t.collapsed?vs.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=s=c=null,u.destroy()}};return a=Wf(p),u=Uf(p,o),p.bookmarkManager=a,p.controlSelection=u,p}function am(t,e,n,o){(t.padd_empty_with_br||e.insert)&&n[o.name]?o.empty().append(new pl("br",1)).shortEnded=!0:o.empty().append(new pl("#text",3)).value=Io}function um(t,e,n,o){return o.isEmpty(e,n,(function(e){return function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty}(t,e)}))}function sm(t,e){void 0===e&&(e=Ao());var n={},o=[],r={},i={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){var e,a,u;(a=t.name)in n&&((u=r[a])?u.push(t):r[a]=[t]),e=o.length;for(;e--;)(a=o[e].name)in t.attributes.map&&((u=i[a])?u.push(t):i[a]=[t]);return t},u={schema:e,addAttributeFilter:function(t,e){gm(vm(t),(function(t){var n;for(n=0;n<o.length;n++)if(o[n].name===t)return void o[n].callbacks.push(e);o.push({name:t,callbacks:[e]})}))},getAttributeFilters:function(){return[].concat(o)},addNodeFilter:function(t,e){gm(vm(t),(function(t){var o=n[t];o||(n[t]=o=[]),o.push(e)}))},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:a,parse:function(u,s){var c,l,f,d,m,h,p,g,v,b,y,x=[];s=s||{},r={},i={},v=bm(pm("script,style,head,html,body,title,meta,param"),e.getBlockElements());var w,C=e.getNonEmptyElements(),S=e.children,k=t.validate,T=!1===(w="forced_root_block"in s?s.forced_root_block:t.forced_root_block)?"":!0===w?"p":w,E=e.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,N=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,_=/^[ \t\r\n]+$/;function D(t){var n,o,r,i,a=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if(0<(r=n.value.replace(N,"")).length)return void(n.value=r);if(o=n.next){if(3===o.type&&o.value.length){n=n.prev;continue}if(!a[o.name]&&"script"!==o.name&&"style"!==o.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}}b=E.hasOwnProperty(s.context)||E.hasOwnProperty(t.root_name);var z=function(t,e){var o,i=new pl(t,e);return t in n&&((o=r[t])?o.push(i):r[t]=[i]),i};c=Ql({validate:k,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){y.append(z("#cdata",4)).value=t},text:function(t,e){var n;b||(t=t.replace(A," "),function(t,e){return t&&(e[t.name]||"br"===t.name)}(y.lastChild,v)&&(t=t.replace(O,""))),0!==t.length&&((n=z("#text",3)).raw=!!e,y.append(n).value=t)},comment:function(t){y.append(z("#comment",8)).value=t},pi:function(t,e){y.append(z(t,7)).value=e,D(y)},doctype:function(t){y.append(z("#doctype",10)).value=t,D(y)},start:function(t,n,r){var a,u,s,c,l;if(s=k?e.getElementRule(t):{}){for((a=z(s.outputName||t,1)).attributes=n,a.shortEnded=r,y.append(a),(l=S[y.name])&&S[a.name]&&!l[a.name]&&x.push(a),u=o.length;u--;)(c=o[u].name)in n.map&&((p=i[c])?p.push(a):i[c]=[a]);v[t]&&D(a),r||(y=a),!b&&E[t]&&(b=!0)}},end:function(n){var o,r,i,a,u;if(r=k?e.getElementRule(n):{}){if(v[n]&&!b){if((o=y.firstChild)&&3===o.type)if(0<(i=o.value.replace(O,"")).length)o.value=i,o=o.next;else for(a=o.next,o.remove(),o=a;o&&3===o.type;)a=o.next,0!==(i=o.value).length&&!_.test(i)||(o.remove(),o=a),o=a;if((o=y.lastChild)&&3===o.type)if(0<(i=o.value.replace(N,"")).length)o.value=i,o=o.prev;else for(a=o.prev,o.remove(),o=a;o&&3===o.type;)a=o.prev,0!==(i=o.value).length&&!_.test(i)||(o.remove(),o=a),o=a}if(b&&E[n]&&(b=!1),r.removeEmpty&&um(e,C,E,y)&&!y.attr("name")&&!y.attr("id"))return u=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=u);r.paddEmpty&&(function(t){return hm(t,"#text")&&t.firstChild.value===Io}(y)||um(e,C,E,y))&&am(t,s,v,y),y=y.parent}}},e);var M=y=new pl(s.context||t.root_name,11);if(c.parse(u,s.format),k&&x.length&&(s.context?s.invalid=!0:function(t){var n,o,r,i,u,s,c,l,f,d,m,h,p,g,v,b;for(h=pm("tr,td,th,tbody,thead,tfoot,table"),d=e.getNonEmptyElements(),m=e.getWhiteSpaceElements(),p=e.getTextBlockElements(),g=e.getSpecialElements(),n=0;n<t.length;n++)if((o=t[n]).parent&&!o.fixed)if(p[o.name]&&"li"===o.parent.name){for(v=o.next;v&&p[v.name];)v.name="li",v.fixed=!0,o.parent.insert(v,o.parent),v=v.next;o.unwrap(o)}else{for(i=[o],r=o.parent;r&&!e.isValidChild(r.name,o.name)&&!h[r.name];r=r.parent)i.push(r);if(r&&1<i.length){for(i.reverse(),u=s=a(i[0].clone()),f=0;f<i.length-1;f++){for(e.isValidChild(s.name,i[f].name)?(c=a(i[f].clone()),s.append(c)):c=s,l=i[f].firstChild;l&&l!==i[f+1];)b=l.next,c.append(l),l=b;s=c}um(e,d,m,u)?r.insert(o,i[0],!0):(r.insert(u,i[0],!0),r.insert(o,u)),(um(e,d,m,r=i[0])||hm(r,"br"))&&r.empty().remove()}else if(o.parent){if("li"===o.name){if((v=o.prev)&&("ul"===v.name||"ul"===v.name)){v.append(o);continue}if((v=o.next)&&("ul"===v.name||"ul"===v.name)){v.insert(o,v.firstChild,!0);continue}o.wrap(a(new pl("ul",1)));continue}e.isValidChild(o.parent.name,"div")&&e.isValidChild("div",o.name)?o.wrap(a(new pl("div",1))):g[o.name]?o.empty().remove():o.unwrap()}}}(x)),T&&("body"===M.name||s.isRootContent)&&function(){function n(t){t&&((i=t.firstChild)&&3===i.type&&(i.value=i.value.replace(O,"")),(i=t.lastChild)&&3===i.type&&(i.value=i.value.replace(N,"")))}var o,r,i=M.firstChild;if(e.isValidChild(M.name,T.toLowerCase())){for(;i;)o=i.next,3===i.type||1===i.type&&"p"!==i.name&&!v[i.name]&&!i.attr("data-mce-type")?(r||((r=z(T,1)).attr(t.forced_root_block_attrs),M.insert(r,i)),r.append(i)):(n(r),r=null),i=o;n(r)}}(),!s.invalid){for(g in r)if(r.hasOwnProperty(g)){for(p=n[g],m=(l=r[g]).length;m--;)l[m].parent||l.splice(m,1);for(f=0,d=p.length;f<d;f++)p[f](l,g,s)}for(f=0,d=o.length;f<d;f++)if((p=o[f]).name in i){for(m=(l=i[p.name]).length;m--;)l[m].parent||l.splice(m,1);for(m=0,h=p.callbacks.length;m<h;m++)p.callbacks[m](l,p.name,s)}}return M}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,o,r){var i,a,u,s,c,l,f,d,m=t.length,h=$n.extend({},n.getBlockElements()),p=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(h.body=1,i=0;i<m;i++)if(u=(a=t[i]).parent,h[a.parent.name]&&a===u.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}c=c.prev}a&&(a.remove(),um(n,p,g,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&am(e,r,h,u)))}else{for(s=a;u&&u.firstChild===s&&u.lastChild===s&&!h[(s=u).name];)u=u.parent;s===u&&!0!==e.padd_empty_with_br&&((d=new pl("#text",3)).value=Io,a.replace(d))}})),t.addAttributeFilter("href",(function(t){var n,o,r,i=t.length;if(!e.allow_unsafe_link_target)for(;i--;)"a"===(n=t[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=(o=n.attr("rel"))?$n.trim(o):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter((function(t){return 0<t.length})).concat(["noopener"]).sort().join(" ")))})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,o,r,i=t.length;i--;)if("a"===(r=t[i]).name&&r.firstChild&&!r.attr("href"))for(o=r.parent,e=r.lastChild;n=e.prev,o.insert(e,r),e=n;);})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,o=t.length;o--;)if("ul"===(n=(e=t[o]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new pl("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}})),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",(function(t){for(var e,o,r,i,a,u,s,c=t.length,l=n.getValidClasses();c--;){for(o=(e=t[c]).attr("class").split(" "),a="",r=0;r<o.length;r++)i=o[r],s=!1,(u=l["*"])&&u[i]&&(s=!0),u=l[e.name],!s&&u&&u[i]&&(s=!0),s&&(a&&(a+=" "),a+=i);a.length||(a=null),e.attr("class",a)}}))}(u,t),mm(u,t),u}function cm(t,e,n){-1===$n.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))}function lm(t,e){var n=function(t,e){var n=["data-mce-selected"],o=e&&e.dom?e.dom:$i.DOM,r=e&&e.schema?e.schema:Ao(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var a=sm(t,r);return ym(a,t,o),{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(n,i){void 0===i&&(i={});var u=et({format:"html"},i),s=wm(e,n,u),c=function(t,e,n){var o=Qa.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||io(ee.fromDom(e))?o:$n.trim(o)}(o,s,u),l=function(t,e,n){var o=n.selection?et({forced_root_block:!1},n):n,r=t.parse(e,o);return xm(r),r}(a,c,u);return"tree"===u.format?l:function(t,e,n,o,r){return function(t,e,n){return e.no_events||!t?n:function(t,e){return t.fire("PostProcess",e)}(t,et(et({},e),{content:n})).content}(t,r,function(t,e,n){return Cl(t,e).serialize(n)}(e,n,o))}(e,t,r,l,u)},addRules:function(t){r.addValidElements(t)},setRules:function(t){r.setValidElements(t)},addTempAttr:i(cm,a,n),getTempAttrs:function(){return n},getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}}(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}}function fm(t){var e,n,o=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(o[0]))&&(e=n[1]),{type:e,data:o[1]}}function dm(t){return(t||"blobid")+km++}var mm=function(t,e){e.inline_styles&&function(t,e){var n=Po();e.convert_fonts_to_spans&&function(t,e,n){t.addNodeFilter("font",(function(t){G(t,(function(t){var o=e.parse(t.attr("style")),r=t.attr("color"),i=t.attr("face"),a=t.attr("size");r&&(o.color=r),i&&(o["font-family"]=i),a&&(o["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(o)),function(t,e){G(["color","face","size"],(function(e){t.attr(e,null)}))}(t)}))}))}(t,n,$n.explode(e.font_size_legacy_values)),function(t,e){t.addNodeFilter("strike",(function(t){G(t,(function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))}))}))}(t,n)}(t,e)},hm=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},pm=$n.makeMap,gm=$n.each,vm=$n.explode,bm=$n.extend,ym=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n,o=t.length;o--;)(n=t[o]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,o){for(var r,i,a=t.length,u="data-mce-"+o,s=e.url_converter,c=e.url_converter_scope;a--;)void 0!==(i=(r=t[a]).attr(u))?(r.attr(o,0<i.length?i:null),r.attr(u,null)):(i=r.attr(o),"style"===o?i=n.serializeStyle(n.parseStyle(i),r.name):s&&(i=s.call(c,i,o,r.name)),r.attr(o,0<i.length?i:null))})),t.addAttributeFilter("class",(function(t){for(var e,n,o=t.length;o--;)(n=(e=t[o]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",0<n.length?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var o,r=t.length;r--;)"bookmark"!==(o=t[r]).attr("data-mce-type")||n.cleanup||(I.from(o.firstChild).exists((function(t){return!Qa.isZwsp(t.value)}))?o.unwrap():o.remove())})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=yo.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){for(var o,r,i,a=t.length,u=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=(o=t[a]).firstChild?o.firstChild.value:"","script"===n?((i=o.attr("type"))&&o.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===e.element_format&&0<r.length&&(o.firstChild.value="// <![CDATA[\n"+u(r)+"\n// ]]>")):"xhtml"===e.element_format&&0<r.length&&(o.firstChild.value="\x3c!--\n"+u(r)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){for(var o,r=t.length;r--;)o=t[r],e.preserve_cdata&&0===o.value.indexOf("[CDATA[")?(o.name="#cdata",o.type=4,o.value=n.decode(o.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===o.value.indexOf("mce:protected ")&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(o.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n,o=t.length;o--;)7===(n=t[o]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){G(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))},xm=function(t){function e(t){return t&&"br"===t.name}var n,o;e(n=t.lastChild)&&e(o=n.prev)&&(n.remove(),o.remove())},wm=function(e,n,o){return function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events}(e,o)?function(e,n,o){var r,i,a,u=e.dom;return n=n.cloneNode(!0),(r=t.document.implementation).createHTMLDocument&&(i=r.createHTMLDocument(""),$n.each("BODY"===n.nodeName?n.childNodes:[n],(function(t){i.body.appendChild(i.importNode(t,!0))})),n="BODY"!==n.nodeName?i.body.firstChild:i.body,a=u.doc,u.doc=i),function(t,e){t.fire("PreProcess",e)}(e,et(et({},o),{node:n})),a&&(u.doc=a),n}(e,n,o):n},Cm=function(e){return 0===e.indexOf("blob:")?function(e){return new mn((function(n,o){function r(){o("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")}try{var i=new t.XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status?n(this.response):r()},i.onerror=r,i.send()}catch(h){r()}}))}(e):0===e.indexOf("data:")?function(e){return new mn((function(n){var o,r,i,a=fm(e);try{o=t.atob(a.data)}catch(Qw){return void n(new t.Blob([]))}for(r=new Uint8Array(o.length),i=0;i<r.length;i++)r[i]=o.charCodeAt(i);n(new t.Blob([r],{type:a.type}))}))}(e):null},Sm=fm,km=0;function Tm(t,e,n){var o=t.formatter.get(n);if(o)for(var r=0;r<o.length;r++)if(!1===o[r].inherit&&t.dom.is(e,o[r].selector))return!0;return!1}function Em(t,e,n,o){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,(function(e){return!!Tm(t,e,n)||e.parentNode===r||!!ih(t,e,n,o,!0)})),ih(t,e,n,o))}function Om(t,e,n){return!!rh(e,n.inline)||!!rh(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)}function Nm(t,e,n,o,r,i){var a,u,s,c=n[o];if(n.onmatch)return n.onmatch(e,n,o);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(u="attributes"===o?t.getAttrib(e,a):kc(t,e,a),r&&!u&&!n.exact)return;if((!r||n.exact)&&!rh(u,Sc(t,wc(c[a],i),a)))return}}else for(s=0;s<c.length;s++)if("attributes"===o?t.getAttrib(e,c[s]):kc(t,e,c[s]))return n;return n}function Am(t,e,n,o){var r;return o?Em(t,o,e,n):(o=t.selection.getNode(),!!Em(t,o,e,n)||!((r=t.selection.getStart())===o||!Em(t,r,e,n)))}function _m(t,e,n){var o,r=[],i={};return o=t.selection.getStart(),t.dom.getParent(o,(function(o){var a,u;for(a=0;a<e.length;a++)!i[u=e[a]]&&ih(t,o,u,n)&&(i[u]=!0,r.push(u))}),t.dom.getRoot()),r}function Dm(t,e){var n,o,r,i,a=t.formatter.get(e),u=t.dom;if(a)for(n=Ec(u,t.selection.getStart()),r=a.length-1;0<=r;r--){if(!(i=a[r].selector)||a[r].defaultBlock)return!0;for(o=n.length-1;0<=o;o--)if(u.is(n[o],i))return!0}return!1}function zm(t,e){return t.splitText(e)}function Mm(t){var e=t.startContainer,n=t.startOffset,o=t.endContainer,r=t.endOffset;return e===o&&Ge.isText(e)?0<n&&n<e.nodeValue.length&&(e=(o=zm(e,n)).previousSibling,n<r?(e=o=zm(o,r-=n).previousSibling,r=o.nodeValue.length,n=0):r=0):(Ge.isText(e)&&0<n&&n<e.nodeValue.length&&(e=zm(e,n),n=0),Ge.isText(o)&&0<r&&r<o.nodeValue.length&&(r=(o=zm(o,r).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:o,endOffset:r}}function Bm(t,e,n){if(0!==n){var o=t.data.slice(e,e+n);t.replaceData(e,n,function(t,e,n){return x(t,(function(o,r){return hc(r)||Zc(r)?o.previousCharIsSpace||""===o.str&&e||o.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:o.str+Io}:{previousCharIsSpace:!0,str:o.str+" "}:{previousCharIsSpace:!1,str:o.str+r}}),{previousCharIsSpace:!1,str:""}).str}(o,0===e,e+n>=t.data.length))}}function Rm(t,e){var n=t.data.slice(e),o=n.length-function(t){return t.replace(/^\s+/g,"")}(n).length;return Bm(t,e,o)}function Im(t,e){return Na(e)&&!1===function(t,e){return Ge.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===function(t,e){var n=ee.fromDom(t);return function(t,e,n){return ma(t,"pre,code",n).isSome()}(ee.fromDom(e),0,i(ht,n))}(t,e)}(t,e)||function(t){return Ge.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")}(e)||ah(e)}function Pm(t,e){return function(t,e){var n=t.container(),o=t.offset();return!1===vs.isTextPosition(t)&&n===e.parentNode&&o>vs.before(e).offset()}(e,t)?vs(e.container(),e.offset()-1):e}function Hm(t){return Na(t.previousSibling)?I.some(function(t){return Ge.isText(t)?vs(t,t.data.length):vs.after(t)}(t.previousSibling)):t.previousSibling?Yc.lastPositionIn(t.previousSibling):I.none()}function Lm(t){return Na(t.nextSibling)?I.some(function(t){return Ge.isText(t)?vs(t,0):vs.before(t)}(t.nextSibling)):t.nextSibling?Yc.firstPositionIn(t.nextSibling):I.none()}function Fm(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))}function Vm(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(zt(e))}function jm(t){if(ch(t)){var e=ee.fromHtml('<br data-mce-bogus="1">');return _t(t),_e(t,e),I.some(vs.before(e.dom()))}return I.none()}function $m(t){return 0<function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==fh||1<t.childNodes.length)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length}function Um(t){if(t){var e=new zi(t,t);for(t=e.current();t;t=e.next())if(Ge.isText(t))return t}return null}function Wm(t){var e=ee.fromTag("span");return Wt(e,{id:dh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&_e(e,ee.fromText(fh)),e}function qm(t,e,n){void 0===n&&(n=!0);var o=t.dom,r=t.selection;if($m(e))lh(t,!1,ee.fromDom(e),n);else{var i=r.getRng(),a=o.getParent(e,o.isBlock),u=function(t){var e=Um(t);return e&&e.nodeValue.charAt(0)===fh&&e.deleteData(0,1),e}(e);i.startContainer===u&&0<i.startOffset&&i.setStart(u,i.startOffset-1),i.endContainer===u&&0<i.endOffset&&i.setEnd(u,i.endOffset-1),o.remove(e,!0),a&&o.isEmpty(a)&&nh(ee.fromDom(a)),r.setRng(i)}}function Xm(t,e,n){void 0===n&&(n=!0);var o=t.dom,r=t.selection;if(e)qm(t,e,n);else if(!(e=Wu(t.getBody(),r.getStart())))for(;e=o.get(dh);)qm(t,e,!1)}function Gm(t,e,n){var o=t.dom,r=o.getParent(n,i(yc,t));r&&o.isEmpty(r)?n.parentNode.replaceChild(e,n):(eh(ee.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(e,n):o.insertAfter(e,n))}function Ym(t,e){return t.appendChild(e),e}function Km(t,e){var n=y(t,(function(t,e){return Ym(t,e.cloneNode(!1))}),e);return Ym(n,n.ownerDocument.createTextNode(fh))}function Jm(t,e){return t.schema.getTextInlineElements().hasOwnProperty(zt(e))&&!Uu(e.dom())&&!Ge.isBogus(e.dom())}var Qm,Zm=0,th=function(t){return t+Zm+++function(){function t(){return Math.round(4294967295*Math.random()).toString(36)}return"s"+(new Date).getTime().toString(36)+t()+t()+t()}()},eh=function(t){var e=ua(t,"br"),n=Y(function(t){for(var e=[],n=t.dom();n;)e.push(ee.fromDom(n)),n=n.lastChild;return e}(t).slice(-1),qn);e.length===n.length&&G(n,De)},nh=function(t){_t(t),_e(t,ee.fromHtml('<br data-mce-bogus="1">'))},oh=function(t){Tt(t).each((function(e){bt(e).each((function(n){Qn(t)&&qn(e)&&Qn(n)&&De(e)}))}))},rh=Cc,ih=function(t,e,n,o,r){var i,a,u,s,c=t.formatter.get(n),l=t.dom;if(c&&e)for(a=0;a<c.length;a++)if(Om(t.dom,e,i=c[a])&&Nm(l,e,i,"attributes",r,o)&&Nm(l,e,i,"styles",r,o)){if(s=i.classes)for(u=0;u<s.length;u++)if(!t.dom.hasClass(e,s[u]))return;return i}},ah=Ge.hasAttribute("data-mce-bookmark"),uh=Ge.hasAttribute("data-mce-bogus"),sh=Ge.hasAttributeValue("data-mce-bogus","all"),ch=function(t,e){return void 0===e&&(e=!0),function(t,e){var n,o=0;if(Im(t,t))return!1;if(!(n=t.firstChild))return!0;var r=new zi(n,t);do{if(e){if(sh(n)){n=r.next(!0);continue}if(uh(n)){n=r.next();continue}}if(Ge.isBr(n))o++,n=r.next();else{if(Im(t,n))return!1;n=r.next()}}while(n);return o<=1}(t.dom(),e)},lh=function(t,e,n,o){void 0===o&&(o=!0);var r=function(t,e,n){return function(t,e,n){return t?function(t,e){return Lm(e).orThunk((function(){return Hm(e)})).orThunk((function(){return function(t,e){return Yc.nextPosition(t,vs.after(e)).fold((function(){return Yc.prevPosition(t,vs.before(e))}),I.some)}(t,e)}))}(e,n):function(t,e){return Hm(e).orThunk((function(){return Lm(e)})).orThunk((function(){return function(t,e){var n=vs.before(e.previousSibling?e.previousSibling:e.parentNode);return Yc.prevPosition(t,n).fold((function(){return Yc.nextPosition(t,vs.after(e))}),I.some)}(t,e)}))}(e,n)}(t,e,n).map(i(Pm,n))}(e,t.getBody(),n.dom()),a=fa(n,i(Vm,t),function(t){return function(e){return e.dom()===t}}(t.getBody())),u=function(t,e,n){var o=bt(t).filter(Me),r=yt(t).filter(Me);return De(t),function(t,e,o,r){return t.isSome()&&e.isSome()&&o.isSome()?I.some(function(t,e,o){var r=t.dom(),i=e.dom(),a=r.data.length;return function(t,e,n){var o=st(t.data).length;t.appendData(e.data),De(ee.fromDom(e)),n&&Rm(t,o)}(r,i,n),o.container()===i?vs(r,a):o}(t.getOrDie(),e.getOrDie(),o.getOrDie())):I.none()}(o,r,e).orThunk((function(){return n&&(o.each((function(t){return function(t,e){var n=t.data.slice(0,e),o=n.length-st(n).length;return Bm(t,e-o,o)}(t.dom(),t.dom().length)})),r.each((function(t){return Rm(t.dom(),0)}))),e}))}(n,r,function(t,e){return tt(t.schema.getTextInlineElements(),zt(e))}(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(jm).fold((function(){o&&Fm(t,e,u)}),(function(n){o&&Fm(t,e,I.some(n))}))},fh=Qa.ZWSP,dh="_mce_caret",mh={},hh=Fn.filter,ph=Fn.each;function gh(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;function o(e){var n={};return Dh(t.getAttribs(e),(function(o){var r=o.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))})),n}function r(t,e){var n,o;for(o in t)if(t.hasOwnProperty(o)){if(void 0===(n=e[o]))return!1;if(t[o]!==n)return!1;delete e[o]}for(o in e)if(e.hasOwnProperty(o))return!1;return!0}return!(!r(o(e),o(n))||!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||Qc(e)||Qc(n))}}function vh(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)}function bh(t,e,n){var o,r;if(r=e[n?"startOffset":"endOffset"],Ge.isElement(o=e[n?"startContainer":"endContainer"])){var i=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[i<r?i:r]}return Ge.isText(o)&&n&&r>=o.nodeValue.length&&(o=new zi(o,t.getBody()).next()||o),Ge.isText(o)&&!n&&0===r&&(o=new zi(o,t.getBody()).prev()||o),o}function yh(t,e,n,o){var r=t.create(n,o);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function xh(t,e,n,o,r){var i=ee.fromDom(e),a=ee.fromDom(t.create(o,r));return At(a,n?wt(i):xt(i)),n?(Et(i,a),Nt(a,i)):(Ot(i,a),_e(a,i)),a.dom()}function wh(t,e,n,o){return!(e=bc(e,n,o))||"BR"===e.nodeName||t.isBlock(e)}function Ch(t,e,n,o,r){var i,a=t.dom;if(!function(t,e,n){return!!Bh(e,n.inline)||!!Bh(e,n.block)||(n.selector?Ge.isElement(e)&&t.is(e,n.selector):void 0)}(a,o,e)&&!function(t,e){return e.links&&"A"===t.nodeName}(o,e))return!1;var u=o;if("all"!==e.remove){Mh(e.styles,(function(t,o){t=Sc(a,wc(t,n),o),"number"==typeof o&&(o=t,r=null),!e.remove_similar&&r&&!Bh(kc(a,r,o),t)||a.setStyle(u,o,""),i=!0})),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),Mh(e.attributes,(function(t,o){var i;if(t=wc(t,n),"number"==typeof o&&(o=t,r=null),e.remove_similar||!r||Bh(a.getAttrib(r,o),t)){if("class"===o&&(t=a.getAttrib(u,o))&&(i="",Mh(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(i+=(i?" ":"")+t)})),i))return void a.setAttrib(u,o,i);"class"===o&&u.removeAttribute("className"),zh.test(o)&&u.removeAttribute("data-mce-"+o),u.removeAttribute(o)}})),Mh(e.classes,(function(t){t=wc(t,n),r&&!a.hasClass(r,t)||a.removeClass(u,t)}));for(var s=a.getAttribs(u),c=0;c<s.length;c++){var l=s[c].nodeName;if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return!1}}return"none"!==e.remove?(function(t,e,n){var o,r=e.parentNode,i=t.dom,a=zs(t);n.block&&(a?r===i.getRoot()&&(n.list_block&&Bh(e,n.list_block)||Mh($n.grep(e.childNodes),(function(e){xc(t,a,e.nodeName.toLowerCase())?o?o.appendChild(e):(o=yh(i,e,a),i.setAttribs(o,t.settings.forced_root_block_attrs)):o=0}))):i.isBlock(e)&&!i.isBlock(r)&&(wh(i,e,!1)||wh(i,e.firstChild,!0,!0)||e.insertBefore(i.create("br"),e.firstChild),wh(i,e,!0)||wh(i,e.lastChild,!1,!0)||e.appendChild(i.create("br")))),n.selector&&n.inline&&!Bh(n.inline,e)||i.remove(e,!0)}(t,u,e),!0):void 0}function Sh(t,e,n,o,r){function i(o){var i=function(t,e,n,o,r){var i;return Mh(Ec(t.dom,e.parentNode).reverse(),(function(e){var a;i||"_start"===e.id||"_end"===e.id||(a=ih(t,e,n,o,r))&&!1!==a.split&&(i=e)})),i}(t,o,e,n,r);return function(t,e,n,o,r,i,a,u){var s,c,l,f,d,m,h=t.dom;if(n){for(m=n.parentNode,s=o.parentNode;s&&s!==m;s=s.parentNode){for(c=h.clone(s,!1),d=0;d<e.length;d++)if(Ch(t,e[d],u,c,c)){c=0;break}c&&(l&&c.appendChild(l),f=f||c,l=c)}a.mixed&&h.isBlock(n)||(o=h.split(n,o)),l&&(r.parentNode.insertBefore(l,r),f.appendChild(r))}return o}(t,l,i,o,o,0,f,n)}function a(t){var e=m.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return function(t){return Qc(t)&&Ge.isElement(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),Ge.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),m.remove(e,!0),n}function u(e){var n,o,r=e.commonAncestorContainer,u=Rc(t,e,l,!0);if(f.split){if(u=Mm(u),(n=bh(t,u,!0))!==(o=bh(t,u))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&function(t){return/^(TH|TD)$/.test(t.nodeName)}(o)&&o.firstChild&&(o=o.firstChild||o),vh(m,n,o)){var s=I.from(n.firstChild).getOr(n);return i(xh(m,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void a(!0)}if(vh(m,o,n))return s=I.from(o.lastChild).getOr(o),i(xh(m,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void a(!1);n=yh(m,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=yh(m,o,"span",{id:"_end","data-mce-type":"bookmark"});var c=m.createRng();c.setStartAfter(n),c.setEndBefore(o),al(m,c,(function(t){G(t,(function(t){Qc(t)||Qc(t.parentNode)||i(t)}))})),i(n),i(o),n=a(!0),o=a()}else n=o=i(n);u.startContainer=n.parentNode?n.parentNode:n,u.startOffset=m.nodeIndex(n),u.endContainer=o.parentNode?o.parentNode:o,u.endOffset=m.nodeIndex(o)+1}al(m,u,(function(e){Mh(e,(function(e){p(e),Ge.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===Tc(m,e.parentNode)&&Ch(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))}var s,c,l=t.formatter.get(e),f=l[0],d=!0,m=t.dom,h=t.selection,p=function(e){var o,r,i,a,u;if(Ge.isElement(e)&&m.getContentEditable(e)&&(a=d,d="true"===m.getContentEditable(e),u=!0),o=$n.grep(e.childNodes),d&&!u)for(r=0,i=l.length;r<i&&!Ch(t,l[r],n,e,e);r++);if(f.deep&&o.length){for(r=0,i=o.length;r<i;r++)p(o[r]);u&&(d=a)}};if(o)gc(o)?((c=m.createRng()).setStartBefore(o),c.setEndAfter(o),u(c)):u(o);else if("false"!==m.getContentEditable(h.getNode()))h.isCollapsed()&&f.inline&&!m.select("td[data-mce-selected],th[data-mce-selected]").length?function(t,e,n,o){var r,i,a,u,s,c,l=t.dom,f=t.selection,d=[],m=f.getRng();for(3===(u=r=m.startContainer).nodeType&&(m.startOffset!==r.nodeValue.length&&(a=!0),u=u.parentNode);u;){if(ih(t,u,e,n,o)){s=u;break}u.nextSibling&&(a=!0),d.push(u),u=u.parentNode}if(s)if(a){i=f.getBookmark(),m.collapse(!0);var h=Rc(t,m,t.formatter.get(e),!0);h=Mm(h),t.formatter.remove(e,n,h),f.moveToBookmark(i)}else{c=Wu(t.getBody(),s);var p=Wm(!1).dom(),g=Km(d,p);Gm(t,p,c||s),qm(t,c,!1),f.setCursorLocation(g,1),l.isEmpty(s)&&l.remove(s)}}(t,e,n,r):(s=ks.getPersistentBookmark(t.selection,!0),u(h.getRng()),h.moveToBookmark(s),f.inline&&Am(t,e,n,h.getStart())&&vc(m,h,h.getRng()),t.nodeChanged());else{o=h.getNode();for(var g=0,v=l.length;g<v&&(!l[g].ceFalseOverride||!Ch(t,l[g],n,o,o));g++);}}function kh(t){return Ge.isElement(t)&&!Qc(t)&&!Uu(t)&&!Ge.isBogus(t)}function Th(t,e){var n;for(n=t;n;n=n[e]){if(Ge.isText(n)&&0!==n.nodeValue.length)return t;if(Ge.isElement(n)&&!Qc(n))return n}return t}function Eh(t,e,n){var o,r,i=new gh(t);if(e&&n&&(e=Th(e,"previousSibling"),n=Th(n,"nextSibling"),i.compare(e,n))){for(o=e.nextSibling;o&&o!==n;)o=(r=o).nextSibling,e.appendChild(r);return t.remove(n),$n.each($n.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n}function Oh(t,e){return i((function(e,n){return!(!n||!kc(t,n,e))}),e)}function Nh(t,e,n){return i((function(e,n,o){t.setStyle(o,e,n),""===o.getAttribute("style")&&o.removeAttribute("style"),Ph(t,o)}),e,n)}function Ah(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=Tc(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))}function _h(t,e,n,o,r){return null===e.get()&&function(t,e){var n=ne({});t.set({}),e.on("NodeChange",(function(o){Vh(e,o.element,n,t.get())}))}(e,t),function(t,e,n,o){var r=t.get();G(e.split(","),(function(t){r[t]||(r[t]={similar:o,callbacks:[]}),r[t].callbacks.push(n)})),t.set(r)}(e,n,o,r),{unbind:function(){return function(t,e,n){var o=t.get();G(e.split(","),(function(t){o[t].callbacks=Y(o[t].callbacks,(function(t){return t!==n})),0===o[t].callbacks.length&&delete o[t]})),t.set(o)}(e,n,o)}}}Qm=function(t){var e,n,o=t.selection.getRng();e=Ge.matchNodeNames(["pre"]),o.collapsed||(n=t.selection.getSelectedBlocks(),ph(hh(hh(n,e),(function(t){return e(t.previousSibling)&&-1!==Fn.indexOf(n,t.previousSibling)})),(function(t){!function(t,e){Di(e).remove(),Di(t).append("<br><br>").append(e.childNodes)}(t.previousSibling,t)})))},mh.pre||(mh.pre=[]),mh.pre.push(Qm);var Dh=$n.each,zh=/^(src|href|style)$/,Mh=$n.each,Bh=Cc,Rh=$n.each,Ih=function(t,e,n){Rh(t.childNodes,(function(t){kh(t)&&(e(t)&&n(t),t.hasChildNodes()&&Ih(t,e,n))}))},Ph=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},Hh=function(e){return e.collapsed?e:function(e){var n=vs.fromRangeStart(e),o=vs.fromRangeEnd(e),r=e.commonAncestorContainer;return Yc.fromPosition(!1,r,o).map((function(i){return!is(n,o,r)&&is(n,i,r)?function(e,n,o,r){var i=t.document.createRange();return i.setStart(e,n),i.setEnd(o,r),i}(n.container(),n.offset(),i.container(),i.offset()):e})).getOr(e)}(e)},Lh=$n.each,Fh=function(t,e,n,o){function r(t,e){if(e=e||f,t){if(e.onformat&&e.onformat(t,e,n,o),Lh(e.styles,(function(e,o){m.setStyle(t,o,wc(e,n))})),e.styles){var r=m.getAttrib(t,"style");r&&m.setAttrib(t,"data-mce-style",r)}Lh(e.attributes,(function(e,o){m.setAttrib(t,o,wc(e,n))})),Lh(e.classes,(function(e){e=wc(e,n),m.hasClass(t,e)||m.addClass(t,e)}))}}function a(t,e){var n=!1;return!!f.selector&&(Lh(t,(function(t){if(!("collapsed"in t&&t.collapsed!==d))return m.is(e,t.selector)&&!Uu(e)?(r(e,t),!(n=!0)):void 0})),n)}function u(o,i,u,s){var c,d,m=[],h=!0;r(d=o.create(c=f.inline||f.block)),al(o,i,(function(i){var u,p=function(i){var g=!1,v=h,b=i.nodeName.toLowerCase(),y=i.parentNode.nodeName.toLowerCase();if(Ge.isElement(i)&&o.getContentEditable(i)&&(v=h,h="true"===o.getContentEditable(i),g=!0),Cc(b,"br"))return u=0,void(f.block&&o.remove(i));if(f.wrapper&&ih(t,i,e,n))u=0;else{if(h&&!g&&f.block&&!f.wrapper&&yc(t,b)&&xc(t,y,c))return r(i=o.rename(i,c)),m.push(i),void(u=0);if(f.selector){var x=a(l,i);if(!f.inline||x)return void(u=0)}!h||g||!xc(t,c,b)||!xc(t,y,c)||!s&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||Uu(i)||f.inline&&o.isBlock(i)?(u=0,Lh($n.grep(i.childNodes),p),g&&(h=v),u=0):(u||(u=o.clone(d,!1),i.parentNode.insertBefore(u,i),m.push(u)),u.appendChild(i))}};Lh(i,p)})),!0===f.links&&Lh(m,(function(t){var e=function(t){"A"===t.nodeName&&r(t,f),Lh($n.grep(t.childNodes),e)};e(t)})),Lh(m,(function(i){var a,u,s,c,d;u=0,Lh(i.childNodes,(function(t){(function(t){return t&&Ge.isText(t)&&0===t.length})(t)||Qc(t)||u++})),a=u,!(1<m.length)&&o.isBlock(i)||0!==a?(f.inline||f.wrapper)&&(f.exact||1!==a||((c=function(t){var e=!1;return Lh(t.childNodes,(function(t){if(function(t){return t&&1===t.nodeType&&!Qc(t)&&!Uu(t)&&!Ge.isBogus(t)}(t))return e=t,!1})),e}(s=i))&&!Qc(c)&&Om(o,c,f)&&(r(d=o.clone(c,!1)),o.replace(d,s,!0),o.remove(c,!0)),i=d||s),function(t,e,n,o){Rh(e,(function(e){Rh(t.dom.select(e.inline,o),(function(o){kh(o)&&Ch(t,e,n,o,e.exact?o:null)})),function(t,e,n){e.clear_child_styles&&Rh(t.select(e.links?"*:not(a)":"*",n),(function(n){kh(n)&&Rh(e.styles,(function(e,o){t.setStyle(n,o,"")}))}))}(t.dom,e,o)}))}(t,l,n,i),function(t,e,n,o,r){ih(t,r.parentNode,n,o)&&Ch(t,e,o,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,(function(i){if(ih(t,i,n,o))return Ch(t,e,o,r),!0}))}(t,f,e,n,i),function(t,e,n,o){e.styles&&e.styles.backgroundColor&&Ih(o,Oh(t,"fontSize"),Nh(t,"backgroundColor",wc(e.styles.backgroundColor,n)))}(o,f,n,i),function(t,e,n,o){"sub"!==e.inline&&"sup"!==e.inline||(Ih(o,Oh(t,"fontSize"),Nh(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",o),!0))}(o,f,0,i),function(t,e,n,o){o&&!1!==e.merge_siblings&&(o=Eh(t,bc(o),o),o=Eh(t,o,bc(o,!0)))}(o,f,0,i)):o.remove(i,!0)}))}var s,c,l=t.formatter.get(e),f=l[0],d=!o&&t.selection.isCollapsed(),m=t.dom,h=t.selection;if("false"!==m.getContentEditable(h.getNode())){if(f){if(o)gc(o)?a(l,o)||((c=m.createRng()).setStartBefore(o),c.setEndAfter(o),u(m,Rc(t,c,l),0,!0)):u(m,o,0,!0);else if(d&&f.inline&&!m.select("td[data-mce-selected],th[data-mce-selected]").length)!function(t,e,n){var o,r,i,a,u,s,c=t.selection;a=(o=c.getRng()).startOffset,s=o.startContainer.nodeValue,(r=Wu(t.getBody(),c.getStart()))&&(i=Um(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&0<a&&a<s.length&&l.test(s.charAt(a))&&l.test(s.charAt(a-1))?(u=c.getBookmark(),o.collapse(!0),o=Mm(o=Rc(t,o,t.formatter.get(e))),t.formatter.apply(e,n,o),c.moveToBookmark(u)):(r&&i.nodeValue===fh||(i=(r=function(t,e){return t.importNode(e,!0)}(t.getDoc(),Wm(!0).dom())).firstChild,o.insertNode(r),a=1),t.formatter.apply(e,n,r),c.setCursorLocation(i,a))}(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!l[0].defaultBlock||m.getParent(p,m.isBlock)||Fh(t,l[0].defaultBlock),t.selection.setRng(Hh(t.selection.getRng())),s=ks.getPersistentBookmark(t.selection,!0),u(m,Rc(t,h.getRng(),l)),f.styles&&function(t,e,n,o){(e.styles.color||e.styles.textDecoration)&&($n.walk(o,i(Ah,t),"childNodes"),Ah(t,o))}(m,f,0,p),h.moveToBookmark(s),vc(m,h,h.getRng()),t.nodeChanged()}!function(t,e){ph(mh[t],(function(t){t(e)}))}(e,t)}}else{o=h.getNode();for(var g=0,v=l.length;g<v;g++)if(l[g].ceFalseOverride&&m.is(o,l[g].selector))return void r(o,l[g])}},Vh=function(t,e,n,o){var r=J(n.get()),i={},a={},u=Y(Ec(t.dom,e),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));A(o,(function(e,n){$n.each(u,(function(o){return t.formatter.matchNode(o,n,{},e.similar)?(-1===r.indexOf(n)&&(G(e.callbacks,(function(t){t(!0,{node:o,format:n,parents:u})})),i[n]=e.callbacks),a[n]=e.callbacks,!1):!Tm(t,o,n)&&void 0}))}));var s=jh(n.get(),a,e,u);n.set(et(et({},i),s))},jh=function(t,e,n,o){return M(t,(function(t,r){return!!tt(e,r)||(G(t,(function(t){t(!1,{node:n,format:r,parents:o})})),!1)})).t};function $h(t,e){function n(t){var e;return function(t,e){e.classes.length&&Lp.addClass(t,e.classes.join(" ")),Lp.setAttribs(t,e.attrs)}(e=Lp.create((r="string"==typeof t?{name:t,classes:[],attrs:{}}:t).name),r),e}var o,r,i,a=e&&e.schema||Ao({}),u=function(t,e,o){var r,i,s,c=0<e.length&&e[0],l=c&&c.name;if(s=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,o=a.getElementRule(n),r=o&&o.parentsRequired;return!(!r||!r.length)&&(e&&-1!==$n.inArray(r,e)?e:r[0])}(t,l))l===s?(i=e[0],e=e.slice(1)):i=s;else if(c)i=e[0],e=e.slice(1);else if(!o)return t;return i&&(r=n(i)).appendChild(t),o&&(r||(r=Lp.create("div")).appendChild(t),$n.each(o,(function(e){var o=n(e);r.insertBefore(o,t)}))),u(r,e,i&&i.siblings)};return t&&t.length?(o=n(r=t[0]),(i=Lp.create("div")).appendChild(u(o,t.slice(1),r.siblings)),i):""}function Uh(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=$n.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,o,r,i){switch(e){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==$n.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o)}if("["===r){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=e||"div",n}function Wh(t,e){var n,o,r,i,a,u,s="";if(!1===(u=t.settings.preview_styles))return"";function c(t){return t.replace(/%(\w+)/g,"")}if("string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(u=e.preview)?"":(n=e.block||e.inline||"span",o=(i=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),$n.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=$n.map(t.split(/(?:~\+|~|\+)/),Uh),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]}(e.selector)).length?(i[0].name||(i[0].name=n),n=e.selector,$h(i,t)):$h([n],t),r=Lp.select(n,o)[0]||o.firstChild,Hp(e.styles,(function(t,e){(t=c(t))&&Lp.setStyle(r,e,t)})),Hp(e.attributes,(function(t,e){(t=c(t))&&Lp.setAttrib(r,e,t)})),Hp(e.classes,(function(t){t=c(t),Lp.hasClass(r,t)||Lp.addClass(r,t)})),t.fire("PreviewFormats"),Lp.setStyles(o,{position:"absolute",left:-65535}),t.getBody().appendChild(o),a=Lp.getStyle(t.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,Hp(u.split(" "),(function(e){var n=Lp.getStyle(r,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Lp.getStyle(t.getBody(),e,!0),"#ffffff"===Lp.toHex(n).toLowerCase())||"color"===e&&"#000000"===Lp.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===e&&n&&(s+="padding:0 2px;"),s+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),Lp.remove(o),s)}function qh(t,e,n,o,r){var i=e.get(n);!Am(t,n,o,r)||"toggle"in i[0]&&!i[0].toggle?Fh(t,n,o,r):Sh(t,n,o,r)}function Xh(t){var e=function(t){var e={},n=function(t,o){t&&("string"!=typeof t?$n.each(t,(function(t,e){n(e,t)})):(L(o)||(o=[o]),$n.each(o,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=o))};return n(function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,o){$n.each(o,(function(n,o){t.setAttrib(e,o,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return $n.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e}(t.dom)),n(t.settings.formats),{get:function(t){return t?e[t]:e},has:function(t){return tt(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=ne(null);return Fp(t),function(t){t.on("mouseup keydown",(function(e){!function(t,e){var n=t.selection,o=t.getBody();Xm(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==fh||Xm(t,Wu(o,n.getStart())),37!==e&&39!==e||Xm(t,Wu(o,n.getStart()))}(t,e.keyCode)}))}(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:i(Fh,t),remove:i(Sh,t),toggle:i(qh,t,e),match:i(Am,t),matchAll:i(_m,t),matchNode:i(ih,t),canApply:i(Dm,t),formatChanged:i(_h,t,n),getCssText:i(Wh,t)}}function Gh(t){return Ge.isElement(t)?t.outerHTML:Ge.isText(t)?yo.encodeRaw(t.data,!1):Ge.isComment(t)?"\x3c!--"+t.data+"--\x3e":""}function Yh(t){return"fragmented"===t.type?t.fragments.join(""):t.content}function Kh(e){var n=ee.fromTag("body",Vp.get().getOrThunk((function(){var e=t.document.implementation.createHTMLDocument("undo");return Vp.set(I.some(e)),e})));return va(n,Yh(e)),G(ua(n,"*[data-mce-bogus]"),Dt),function(t){return t.dom().innerHTML}(n)}function Jh(t){return 0===t.get()}function Qh(t,e,n){Jh(n)&&(t.typing=e)}function Zh(t,e){t.typing&&(Qh(t,!1,e),t.add())}function tp(t){var e=ne(I.none()),n=ne(0),o=ne(0),r={data:[],typing:!1,beforeChange:function(){!function(t,e,n){Jh(e)&&n.set(I.some(ks.getUndoBookmark(t.selection)))}(t,n,e)},add:function(i,a){return function(t,e,n,o,r,i,a){var u=t.settings,s=jp(t);if(i=$n.extend(i=i||{},s),!1===Jh(o)||t.removed)return null;var c=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:i,lastLevel:c,originalEvent:a}).isDefaultPrevented())return null;if(c&&Up(c,i))return null;if(e.data[n.get()]&&r.get().each((function(t){e.data[n.get()].beforeBookmark=t})),u.custom_undo_redo_levels&&e.data.length>u.custom_undo_redo_levels){for(var l=0;l<e.data.length-1;l++)e.data[l]=e.data[l+1];e.data.length--,n.set(e.data.length)}i.bookmark=ks.getUndoBookmark(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(i),n.set(e.data.length-1);var f={level:i,lastLevel:c,originalEvent:a};return t.fire("AddUndo",f),0<n.get()&&(t.setDirty(!0),t.fire("change",f)),i}(t,r,o,n,e,i,a)},undo:function(){return function(t,e,n,o){var r;return e.typing&&(e.add(),e.typing=!1,Qh(e,!1,n)),0<o.get()&&(o.set(o.get()-1),r=e.data[o.get()],$p(t,r,!0),t.setDirty(!0),t.fire("Undo",{level:r})),r}(t,r,n,o)},redo:function(){return function(t,e,n){var o;return e.get()<n.length-1&&(e.set(e.get()+1),o=n[e.get()],$p(t,o,!1),t.setDirty(!0),t.fire("Redo",{level:o})),o}(t,o,r.data)},clear:function(){!function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")}(t,r,o)},reset:function(){!function(t){t.clear(),t.add()}(r)},hasUndo:function(){return function(t,e,n){return 0<n.get()||e.typing&&e.data[0]&&!Up(jp(t),e.data[0])}(t,r,o)},hasRedo:function(){return function(t,e){return e.get()<t.data.length-1&&!t.typing}(r,o)},transact:function(t){return function(t,e,n){return Zh(t,e),t.beforeChange(),t.ignore(n),t.add()}(r,n,t)},ignore:function(t){!function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}}(n,t)},extra:function(e,n){!function(t,e,n,o,r){if(e.transact(o)){var i=e.data[n.get()].bookmark,a=e.data[n.get()-1];$p(t,a,!0),e.transact(r)&&(e.data[n.get()-1].beforeBookmark=i)}}(t,r,o,e,n)}};return function(t,e,n){function o(t){Qh(e,!1,n),e.add({},t)}var r=ne(!1);t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var o=t.command;"Undo"!==o&&"Redo"!==o&&"mceRepaint"!==o&&(Zh(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&o(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((33<=i&&i<=36||37<=i&&i<=40||45===i||n.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&e.typing&&!1===Up(jp(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var i=t.keyCode;t.isDefaultPrevented()||(33<=i&&i<=36||37<=i&&i<=40||45===i?e.typing&&o(t):!(i<16||20<i)||224===i||91===i||e.typing||t.ctrlKey&&!t.altKey||t.metaKey||(e.beforeChange(),Qh(e,!0,n),e.add({},t),r.set(!0)))})),t.on("mousedown",(function(t){e.typing&&o(t)})),t.on("input",(function(t){t.inputType&&(function(t){return"insertReplacementText"===t.inputType}(t)||function(t){return"insertText"===t.inputType&&null===t.data}(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))}(t,r,n),function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")}(t),r}function ep(t){return"keydown"===t.type||"keyup"===t.type}function np(t){var e=t.keyCode;return e===Xf.BACKSPACE||e===Xf.DELETE}function op(t){return void 0===t.touches||1!==t.touches.length?I.none():I.some(t.touches[0])}function rp(t,e){return t.hasOwnProperty(e.nodeName)}function ip(t,e){if(Ge.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||rp(t,e.nextSibling)))return!0}return!1}function ap(t){var e,n,o,r,i,a,u,s,c,l,f=t.dom,d=t.selection,m=t.schema,h=m.getBlockElements(),p=d.getStart(),g=t.getBody(),v=zs(t);if(p&&Ge.isElement(p)&&v&&(l=g.nodeName.toLowerCase(),m.isValidChild(l,v.toLowerCase())&&!function(t,e,n){return b(jd(ee.fromDom(n),ee.fromDom(e)),(function(e){return rp(t,e.dom())}))}(h,g,p))){for(n=(e=d.getRng()).startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset,c=gf(t),p=g.firstChild;p;)if(y=h,Ge.isText(x=p)||Ge.isElement(x)&&!rp(y,x)&&!Qc(x)){if(ip(h,p)){p=(u=p).nextSibling,f.remove(u);continue}a||(a=f.create(v,Ms(t)),p.parentNode.insertBefore(a,p),s=!0),p=(u=p).nextSibling,a.appendChild(u)}else a=null,p=p.nextSibling;var y,x;s&&c&&(e.setStart(n,o),e.setEnd(r,i),d.setRng(e),t.nodeChanged())}}function up(t){return Xp(t)&&t.data[0]===Qa.ZWSP}function sp(t){return Xp(t)&&t.data[t.data.length-1]===Qa.ZWSP}function cp(t){return t.ownerDocument.createTextNode(Qa.ZWSP)}function lp(t,e){return t?function(t){if(Xp(t.previousSibling))return sp(t.previousSibling)||t.previousSibling.appendData(Qa.ZWSP),t.previousSibling;if(Xp(t))return up(t)||t.insertData(0,Qa.ZWSP),t;var e=cp(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(Xp(t.nextSibling))return up(t.nextSibling)||t.nextSibling.insertData(0,Qa.ZWSP),t.nextSibling;if(Xp(t))return sp(t)||t.appendData(Qa.ZWSP),t;var e=cp(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)}function fp(t,e){return Ge.isText(t.container())?lp(e,t.container()):lp(e,t.getNode())}function dp(t,e){var n=e.get();return n&&t.container()===n&&Ca(n)}function mp(t,e){if(!e)return e;var n=e.container(),o=e.offset();return t?Ca(n)?Ge.isText(n.nextSibling)?vs(n.nextSibling,0):vs.after(n):Ta(e)?vs(n,o+1):e:Ca(n)?Ge.isText(n.previousSibling)?vs(n.previousSibling,n.previousSibling.data.length):vs.before(n):Ea(e)?vs(n,o-1):e}function hp(t,e){return rs(e,t)||t}function pp(t,e,n){var o=Qp.normalizeForwards(n),r=hp(e,o.container());return Qp.findRootInline(t,r,o).fold((function(){return Yc.nextPosition(r,o).bind(i(Qp.findRootInline,t,r)).map((function(t){return tg.before(t)}))}),I.none)}function gp(t,e){return null===Wu(t,e)}function vp(t,e,n){return Qp.findRootInline(t,e,n).filter(i(gp,e))}function bp(t,e,n){var o=Qp.normalizeBackwards(n);return vp(t,e,o).bind((function(t){return Yc.prevPosition(t,o).isNone()?I.some(tg.start(t)):I.none()}))}function yp(t,e,n){var o=Qp.normalizeForwards(n);return vp(t,e,o).bind((function(t){return Yc.nextPosition(t,o).isNone()?I.some(tg.end(t)):I.none()}))}function xp(t,e,n){var o=Qp.normalizeBackwards(n),r=hp(e,o.container());return Qp.findRootInline(t,r,o).fold((function(){return Yc.prevPosition(r,o).bind(i(Qp.findRootInline,t,r)).map((function(t){return tg.after(t)}))}),I.none)}function wp(t){return!1===Qp.isRtl(eg(t))}function Cp(t,e,n){return Zp([pp,bp,yp,xp],[t,e,n]).filter(wp)}function Sp(t){return t.fold(o("before"),o("start"),o("end"),o("after"))}function kp(t){return t.fold(tg.before,tg.before,tg.after,tg.after)}function Tp(t,e,n,o,r,i){return La(Qp.findRootInline(e,n,o),Qp.findRootInline(e,n,r),(function(e,o){return e!==o&&Qp.hasSameParentBlock(n,e,o)?tg.after(t?e:o):i})).getOr(i)}function Ep(t,e){return t.fold(o(!0),(function(t){return!function(t,e){return Sp(t)===Sp(e)&&eg(t)===eg(e)}(t,e)}))}function Op(t,e){return t?e.fold(n(I.some,tg.start),I.none,n(I.some,tg.after),I.none):e.fold(I.none,n(I.some,tg.before),I.none,n(I.some,tg.end))}function Np(t,e,n,o){var r=Qp.normalizePosition(t,o),a=Cp(e,n,r);return Cp(e,n,r).bind(i(Op,t)).orThunk((function(){return function(t,e,n,o,r){var a=Qp.normalizePosition(t,r);return Yc.fromPosition(t,n,a).map(i(Qp.normalizePosition,t)).fold((function(){return o.map(kp)}),(function(r){return Cp(e,n,r).map(i(Tp,t,e,n,a,r)).filter(i(Ep,o))})).filter(wp)}(t,e,n,a,o)}))}function Ap(t,e,n){var o=t?1:-1;return e.setRng(vs(n.container(),n.offset()+o).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0}function _p(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)}function Dp(t){return!1!==t.settings.inline_boundaries}function zp(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")}function Mp(t,e,n){return Kp(e,n).map((function(e){return _p(t,e),n}))}function Bp(t,e,n){return function(){return!!Dp(e)&&ag(t,e)}}function Rp(t){return x(t,(function(t,e){return t.concat(function(t){function e(e){return X(e,(function(e){return(e=_a(e)).node=t,e}))}if(Ge.isElement(t))return e(t.getClientRects());if(Ge.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(e))}),[])}var Ip,Pp,Hp=$n.each,Lp=$i.DOM,Fp=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},Vp=ne(I.none()),jp=function(t){var e,n;return function(t){return-1!==t.indexOf("</iframe>")}(e=(n=S(function(t){return Y(X(K(t.childNodes),Gh),(function(t){return 0<t.length}))}(t.getBody()),(function(e){var n=Zl.trimInternal(t.serializer,e);return 0<n.length?[n]:[]}))).join(""))?function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}}(n):function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}(e)},$p=function(e,n,o){"fragmented"===n.type?function(e,n){!function(e,n){var o=0;G(e,(function(e){0===e[0]?o++:1===e[0]?(function(e,n,o){var r=function(e){var n,o,r;for(r=t.document.createElement("div"),n=t.document.createDocumentFragment(),e&&(r.innerHTML=e);o=r.firstChild;)n.appendChild(o);return n}(n);if(e.hasChildNodes()&&o<e.childNodes.length){var i=e.childNodes[o];i.parentNode.insertBefore(r,i)}else e.appendChild(r)}(n,e[1],o),o++):2===e[0]&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(n,o)}))}(function(t,e){function n(n,o,r,i){for(var a=n;a-o<i&&a<r&&t[a]===e[a-o];)++a;return function(t,e,n){return{start:t,end:e,diag:n}}(n,a,o)}var o=t.length+e.length+2,r=new Array(o),i=new Array(o),a=function(n,o,r,i,s){var c=u(n,o,r,i);if(null===c||c.start===o&&c.diag===o-i||c.end===n&&c.diag===n-r)for(var l=n,f=r;l<o||f<i;)l<o&&f<i&&t[l]===e[f]?(s.push([0,t[l]]),++l,++f):i-r<o-n?(s.push([2,t[l]]),++l):(s.push([1,e[f]]),++f);else{a(n,c.start,r,c.start-c.diag,s);for(var d=c.start;d<c.end;++d)s.push([0,t[d]]);a(c.end,o,c.end-c.diag,i,s)}},u=function(o,a,u,s){var c=a-o,l=s-u;if(0==c||0==l)return null;var f,d,m,h,p,g=c-l,v=l+c,b=(v%2==0?v:1+v)/2;for(r[1+b]=o,i[1+b]=a+1,f=0;f<=b;++f){for(d=-f;d<=f;d+=2){for(r[m=d+b]=d===-f||d!==f&&r[m-1]<r[m+1]?r[m+1]:r[m-1]+1,p=(h=r[m])-o+u-d;h<a&&p<s&&t[h]===e[p];)r[m]=++h,++p;if(g%2!=0&&g-f<=d&&d<=g+f&&i[m-g]<=r[m])return n(i[m-g],d+o-u,a,s)}for(d=g-f;d<=g+f;d+=2){for(i[m=d+b-g]=d===g-f||d!==g+f&&i[m+1]<=i[m-1]?i[m+1]-1:i[m-1],p=(h=i[m]-1)-o+u-d;o<=h&&u<=p&&t[h]===e[p];)i[m]=h--,p--;if(g%2==0&&-f<=d&&d<=f&&i[m]<=r[m+g])return n(i[m],d+o-u,a,s)}}},s=[];return a(0,t.length,0,e.length,s),s}(X(K(n.childNodes),Gh),e),n)}(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(o?n.beforeBookmark:n.bookmark)},Up=function(t,e){return!(!t||!e)&&(!!function(t,e){return Yh(t)===Yh(e)}(t,e)||function(t,e){return Kh(t)===Kh(e)}(t,e))},Wp=[9,27,Xf.HOME,Xf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Xf.DOWN,Xf.UP,Xf.LEFT,Xf.RIGHT].concat(Hn.browser.isFirefox()?[224]:[]),qp="data-mce-placeholder",Xp=Ge.isText,Gp=i(lp,!0),Yp=i(lp,!1),Kp=function(t,e){return e.fold((function(e){As.remove(t.get());var n=Gp(e);return t.set(n),I.some(vs(n,n.length-1))}),(function(e){return Yc.firstPositionIn(e).map((function(e){if(dp(e,t))return vs(t.get(),1);As.remove(t.get());var n=fp(e,!0);return t.set(n),vs(n,1)}))}),(function(e){return Yc.lastPositionIn(e).map((function(e){if(dp(e,t))return vs(t.get(),t.get().length-1);As.remove(t.get());var n=fp(e,!1);return t.set(n),vs(n,n.length-1)}))}),(function(e){As.remove(t.get());var n=Yp(e);return t.set(n),I.some(vs(n,1))}))},Jp=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Qp={isInlineTarget:function(t,e){return dt(ee.fromDom(e),function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(t))},findRootInline:function(t,e,n){var o=function(t,e,n){return Y($i.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return I.from(o[o.length-1])},isRtl:function(t){return"rtl"===$i.DOM.getStyle(t,"direction",!0)||function(t){return Jp.test(t)}(t.textContent)},isAtZwsp:function(t){return Ta(t)||Ea(t)},normalizePosition:mp,normalizeForwards:i(mp,!0),normalizeBackwards:i(mp,!1),hasSameParentBlock:function(t,e,n){var o=rs(e,t),r=rs(n,t);return o&&o===r}},Zp=function(t,e){for(var n=0;n<t.length;n++){var o=t[n].apply(null,e);if(o.isSome())return o}return I.none()},tg=nf([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),eg=function(t){return t.fold(r,r,r,r)},ng=Cp,og=Np,rg=(i(Np,!1),i(Np,!0),kp),ig=function(t){return t.fold(tg.start,tg.start,tg.end,tg.end)},ag=function(t,e){var n=e.selection.getRng(),o=t?vs.fromRangeEnd(n):vs.fromRangeStart(n);return!!function(t){return j(t.selection.getSel().modify)}(e)&&(t&&Ta(o)?Ap(!0,e.selection,o):!(t||!Ea(o))&&Ap(!1,e.selection,o))},ug={move:function(t,e,n){return function(){return!!Dp(t)&&function(t,e,n){var o=t.getBody(),r=vs.fromRangeStart(t.selection.getRng()),a=i(Qp.isInlineTarget,t);return og(n,a,o,r).bind((function(n){return Mp(t,e,n)}))}(t,e,n).isSome()}},moveNextWord:i(Bp,!0),movePrevWord:i(Bp,!1),setupSelectedState:function(t){var e=ne(null),n=i(Qp.isInlineTarget,t);return t.on("NodeChange",(function(o){!Dp(t)||Hn.browser.isIE()&&o.initial||(function(t,e,n){var o=Y(e.select('*[data-mce-selected="inline-boundary"]'),t),r=Y(n,t);G(E(o,r),i(zp,!1)),G(E(r,o),i(zp,!0))}(n,t.dom,o.parents),function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=vs.fromRangeStart(t.selection.getRng());vs.isTextPosition(n)&&!1===Qp.isAtZwsp(n)&&(_p(t,As.removeAndReposition(e.get(),n)),e.set(null))}}(t,e),function(t,e,n,o){if(e.selection.isCollapsed()){var r=Y(o,t);G(r,(function(o){var r=vs.fromRangeStart(e.selection.getRng());ng(t,e.getBody(),r).bind((function(t){return Mp(e,n,t)}))}))}}(n,t,e,o.parents))})),e},setCaretPosition:_p};function sg(t,e,n,o,r,i){function a(o){var i,a,u;for(u=Rp([o]),-1===t&&(u=u.reverse()),i=0;i<u.length;i++)if(!n(a=u[i],s)){if(0<l.length&&e(a,Fn.last(l))&&c++,a.line=c,r(a))return!0;l.push(a)}}var u,s,c=0,l=[];return(s=Fn.last(i.getClientRects()))&&(a(u=i.getNode()),function(t,e,n,o){for(;o=os(o,t,Aa,e);)if(n(o))return}(t,o,a,u)),l}function cg(t){return function(e){return function(t,e){return e.line>t}(t,e)}}function lg(t){return function(e){return function(t,e){return e.line===t}(t,e)}}function fg(t,e){return Math.abs(t.left-e)}function dg(t,e){return Math.abs(t.right-e)}function mg(t,e){return t>=e.left&&t<=e.right}function hg(t,e){return Fn.reduce(t,(function(t,n){var o,r;return o=Math.min(fg(t,e),dg(t,e)),r=Math.min(fg(n,e),dg(n,e)),mg(e,n)?n:mg(e,t)?t:r===o&&Ag(n.node)?n:r<o?n:t}))}function pg(t,e,n,o){for(;o=_g(o,t,Aa,e);)if(n(o))return}function gg(t,e,n,o,r){return e._selectionOverrides.showCaret(t,n,o,r)}function vg(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e)}function bg(t,e,n){var o=cs(1,t.getBody(),e),r=vs.fromRangeStart(o),i=r.getNode();if(zg(i))return gg(1,t,i,!r.isAtEnd(),!1);var a=r.getNode(!0);if(zg(a))return gg(1,t,a,!1,!1);var u=t.dom.getParent(r.getNode(),(function(t){return zg(t)||Dg(t)}));return zg(u)?gg(1,t,u,!1,n):null}function yg(t,e,n){return e&&e.collapsed&&bg(t,e,n)||e}function xg(t,e,n){return I.from(n.container()).filter(Ge.isText).exists((function(o){var r=t?0:-1;return e(o.data.charAt(n.offset()+r))}))}function wg(t){var e=t.container();return Ge.isText(e)&&0===e.data.length}function Cg(t,e){return function(n){return I.from(as(t?0:-1,n)).filter(e).isSome()}}function Sg(t){return"IMG"===t.nodeName&&"block"===Gt(ee.fromDom(t),"display")}function kg(t){return Ge.isContentEditableFalse(t)&&!Ge.isBogusAll(t)}(Pp=Ip=Ip||{})[Pp.Up=-1]="Up",Pp[Pp.Down=1]="Down";var Tg,Eg,Og=i(sg,Ip.Up,Ma,Ba),Ng=i(sg,Ip.Down,Ba,Ma),Ag=Ge.isContentEditableFalse,_g=os,Dg=Ge.isContentEditableTrue,zg=Ge.isContentEditableFalse,Mg=i(xg,!0,hc),Bg=i(xg,!1,hc),Rg=Cg(!0,Sg),Ig=Cg(!1,Sg),Pg=Cg(!0,Ge.isTable),Hg=Cg(!1,Ge.isTable),Lg=Cg(!0,kg),Fg=Cg(!1,kg);function Vg(t,e){return t===ps.Backwards?T(e):e}function jg(t,e,n,o){for(var r,i,a,u,s,c=nc(n),l=o,f=[];l&&(u=c,s=l,r=e===ps.Forwards?u.next(s):u.prev(s));){if(Ge.isBr(r.getNode(!1)))return e===ps.Forwards?{positions:Vg(e,f).concat([r]),breakType:Tg.Br,breakAt:I.some(r)}:{positions:Vg(e,f),breakType:Tg.Br,breakAt:I.some(r)};if(r.isVisible()){if(t(l,r)){var d=(i=l,Ge.isBr((a=r).getNode(e===ps.Forwards))?Tg.Br:!1===is(i,a)?Tg.Block:Tg.Wrap);return{positions:Vg(e,f),breakType:d,breakAt:I.some(r)}}f.push(r),l=r}else l=r}return{positions:Vg(e,f),breakType:Tg.Eol,breakAt:I.none()}}function $g(t,e,n,o){return e(n,o).breakAt.map((function(o){var r=e(n,o).positions;return t===ps.Backwards?r.concat(o):[o].concat(r)})).getOr([])}function Ug(t,e){return x(t,(function(t,n){return t.fold((function(){return I.some(n)}),(function(o){return La(O(o.getClientRects()),O(n.getClientRects()),(function(t,r){var i=Math.abs(e-t.left);return Math.abs(e-r.left)<=i?n:o})).or(t)}))}),I.none())}function Wg(t,e){return O(e.getClientRects()).bind((function(e){return Ug(t,e.left)}))}function qg(t,e,n){var o,r,a=nc(t.getBody()),u=i(ms,a.next),s=i(ms,a.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(o=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?u(vs.fromRangeStart(n)):s(vs.fromRangeStart(n)))||(r=function(t){var e=t.dom.create(zs(t));return(!Hn.ie||11<=Hn.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(t),1===e?t.$(o).after(r):t.$(o).before(r),t.selection.select(r,!0),t.selection.collapse())}}function Xg(t,e){return function(){var n=function(t,e){var n,o=nc(t.getBody()),r=i(ms,o.next),a=i(ms,o.prev),u=e?ps.Forwards:ps.Backwards,s=e?r:a,c=t.selection.getRng();return(n=function(t,e,n,o){var r=t===ps.Forwards,i=r?Lg:Fg;if(!o.collapsed){var a=Fb(o);if(Lb(a))return gg(t,e,a,t===ps.Backwards,!0)}var u=function(t){return wa(t.startContainer)}(o),s=fs(t,e.getBody(),o);if(i(s))return vg(e,s.getNode(!r));var c=Qp.normalizePosition(r,n(s));if(!c)return u?o:null;if(i(c))return gg(t,e,c.getNode(!r),r,!0);var l=n(c);return l&&i(l)&&hs(c,l)?gg(t,e,l.getNode(!r),r,!0):u?yg(e,c.toRange(),!0):null}(u,t,s,c))?n:(n=qg(t,u,c))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}}function Gg(t,e){return function(){var n=function(t,e){var n,o=e?1:-1,r=e?Ng:Og,i=t.selection.getRng();return(n=function(t,e,n,o){var r,i,a,u,s,c,l,f,d;if(d=Fb(o),r=fs(t,e.getBody(),o),i=n(e.getBody(),cg(1),r),a=Y(i,lg(1)),s=Fn.last(r.getClientRects()),(Lg(r)||Pg(r))&&(d=r.getNode()),(Fg(r)||Hg(r))&&(d=r.getNode(!0)),!s)return null;if((u=hg(a,c=s.left))&&Lb(u.node))return l=Math.abs(c-u.left),f=Math.abs(c-u.right),gg(t,e,u.node,l<f,!0);if(d){var m=function(t,e,n,o){function r(t){return Fn.last(t.getClientRects())}var i,a,u,s,c,l,f=nc(e),d=[],m=0;l=r(s=1===t?(i=f.next,a=Ba,u=Ma,vs.after(o)):(i=f.prev,a=Ma,u=Ba,vs.before(o)));do{if(s.isVisible()&&!u(c=r(s),l)){if(0<d.length&&a(c,Fn.last(d))&&m++,(c=_a(c)).position=s,c.line=m,n(c))return d;d.push(c)}}while(s=i(s));return d}(t,e.getBody(),cg(1),d);if(u=hg(Y(m,lg(1)),c))return yg(e,u.position.toRange(),!0);if(u=Fn.last(Y(m,lg(0))))return yg(e,u.position.toRange(),!0)}}(o,t,r,i))?n:(n=qg(t,o,i))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}}function Yg(t,e){return function(){var n=e?vs.fromRangeEnd(t.selection.getRng()):vs.fromRangeStart(t.selection.getRng()),r=e?Ib(t.getBody(),n):Rb(t.getBody(),n);return(e?N(r.positions):O(r.positions)).filter(function(t){return function(e){return t?Fg(e):Lg(e)}}(e)).fold(o(!1),(function(e){return t.selection.setRng(e.toRange()),!0}))}}function Kg(t,e,n,o,r){var i=ua(ee.fromDom(n),"td,th,caption").map((function(t){return t.dom()}));return function(t,e,n){return x(t,(function(t,o){return t.fold((function(){return I.some(o)}),(function(t){var r=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),i=Math.sqrt(Math.abs(o.x-e)+Math.abs(o.y-n));return I.some(i<r?o:t)}))}),I.none())}(Y(function(t,e){return S(e,(function(e){var n=function(t,e){return{left:t.left- -1,top:t.top- -1,right:t.right+-2,bottom:t.bottom+-2,width:t.width+-1,height:t.height+-1}}(_a(e.getBoundingClientRect()));return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))}(t,i),(function(t){return e(t,r)})),o,r).map((function(t){return t.cell}))}function Jg(t,e){t.selection.setRng(e),Ld(t,e)}function Qg(t,e,n){var o=t(e,n);return function(t){return t.breakType===Tg.Wrap&&0===t.positions.length}(o)||!Ge.isBr(n.getNode())&&function(t){return t.breakType===Tg.Br&&1===t.positions.length}(o)?!function(t,e,n){return n.breakAt.map((function(n){return t(e,n).breakAt.isSome()})).getOr(!1)}(t,e,o):o.breakAt.isNone()}function Zg(t,e,n){var o=function(t,e){var n=e.getNode(t);return Ge.isElement(n)&&"TABLE"===n.nodeName?I.some(n):I.none()}(!!e,n),r=!1===e;o.fold((function(){return Jg(t,n.toRange())}),(function(o){return Yc.positionIn(r,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return Jg(t,n.toRange())}),(function(r){return function(t,e,n,o){var r=zs(e);r?e.undoManager.transact((function(){var o=ee.fromTag(r);Wt(o,Ms(e)),_e(o,ee.fromTag("br")),t?Ot(ee.fromDom(n),o):Et(ee.fromDom(n),o);var i=e.dom.createRng();i.setStart(o.dom(),0),i.setEnd(o.dom(),0),Jg(e,i)})):Jg(e,o.toRange())}(e,t,o,n)}))}))}function tv(t,e){return function(){return I.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return I.from(t.dom.getParent(n,"table")).map((function(n){return function(t,e,n,o){var r=t.selection.getRng(),i=e?1:-1;return!(!Qu()||!function(t,e,n){var o=vs.fromRangeStart(e);return Yc.positionIn(!t,n).map((function(t){return t.isEqual(o)})).getOr(!1)}(e,r,n)||(Jg(t,gg(i,t,n,!e,!0)),0))}(t,e,n)}))})).getOr(!1)}}function ev(t,e){return function(){return I.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return I.from(t.dom.getParent(n,"table")).map((function(o){return function(t,e,n,o){var r=t.selection.getRng(),i=vs.fromRangeStart(r),a=t.getBody();if(!e&&$b(o,i)){var u=function(t,e,n){return function(t,e){return O(e.getClientRects()).bind((function(e){return Vb(t,e.left,e.top)})).bind((function(t){return Wg(function(t){return Yc.lastPositionIn(t).map((function(e){return Rb(t,e).positions.concat(e)})).getOr([])}(t),e)}))}(e,n).orThunk((function(){return O(n.getClientRects()).bind((function(n){return Ug(Pb(t,vs.before(e)),n.left)}))})).getOr(vs.before(e))}(a,n,i);return Zg(t,e,u),!0}return!(!e||!Ub(o,i)||(u=function(t,e,n){return function(t,e){return N(e.getClientRects()).bind((function(e){return jb(t,e.left,e.top)})).bind((function(t){return Wg(function(t){return Yc.firstPositionIn(t).map((function(e){return[e].concat(Ib(t,e).positions)})).getOr([])}(t),e)}))}(e,n).orThunk((function(){return O(n.getClientRects()).bind((function(n){return Ug(Hb(t,vs.after(e)),n.left)}))})).getOr(vs.after(e))}(a,n,i),Zg(t,e,u),0))}(t,e,o,n)}))})).getOr(!1)}}function nv(t){return v(["figcaption"],zt(t))}function ov(e){var n=t.document.createRange();return n.setStartBefore(e.dom()),n.setEndBefore(e.dom()),n}function rv(t,e,n){n?_e(t,e):Nt(t,e)}function iv(t,e){return function(){return!!t.selection.isCollapsed()&&function(t,e){var n=ee.fromDom(t.getBody()),o=vs.fromRangeStart(t.selection.getRng()),r=zs(t),a=Ms(t);return function(t,e){var n=i(ht,e);return da(ee.fromDom(t.container()),Qn,n).filter(nv)}(o,n).exists((function(){if(function(t,e,n){return e?function(t,e){return Ib(t,e).breakAt.isNone()}(t.dom(),n):function(t,e){return Rb(t,e).breakAt.isNone()}(t.dom(),n)}(n,e,o)){var i=function(t,e,n,o){return""===e?function(t,e){var n=ee.fromTag("br");return rv(t,n,e),ov(n)}(t,o):function(t,e,n,o){var r=ee.fromTag(n),i=ee.fromTag("br");return Wt(r,o),_e(r,i),rv(t,r,e),ov(i)}(t,o,e,n)}(n,r,a,e);return t.selection.setRng(i),!0}return!1}))}(t,e)}}function av(t,e){return{from:o(t),to:o(e)}}function uv(t,e){var n=ee.fromDom(t),r=ee.fromDom(e.container());return Xb(n,r).map((function(t){return function(t,e){return{block:o(t),position:o(e)}}(t,e)}))}function sv(t){var e=function(t){var e=Ct(t);return C(e,Qn).fold((function(){return e}),(function(t){return e.slice(0,t)}))}(t);return G(e,De),e}function cv(t,e){return w($d(e,t).reverse(),(function(t){return ch(t)})).each(De)}function lv(t,e,n,o){if(ch(n))return nh(n),Yc.firstPositionIn(n.dom());(function(t){return 0===Y(xt(t),(function(t){return!ch(t)})).length})(o)&&ch(e)&&Et(o,ee.fromTag("br"));var r=Yc.prevPosition(n.dom(),vs.before(o.dom()));return G(sv(e),(function(t){Et(o,t)})),cv(t,e),r}function fv(t,e,n){if(ch(n))return De(n),ch(e)&&nh(e),Yc.firstPositionIn(e.dom());var o=Yc.lastPositionIn(n.dom());return G(sv(e),(function(t){_e(n,t)})),cv(t,e),o}function dv(t,e){Yc.positionIn(t,e.dom()).map((function(t){return t.getNode()})).map(ee.fromDom).filter(qn).each(De)}function mv(t,e,n){return dv(!0,e),dv(!1,n),function(t,e){return Ae(e,t)?function(t,e){var n=$d(e,t);return I.from(n[n.length-1])}(e,t):I.none()}(e,n).fold(i(fv,t,e,n),i(lv,t,e,n))}function hv(t,e){var n=ee.fromDom(e),o=i(ht,t);return fa(n,ro,o).isSome()}function pv(t){return ds(t).exists(qn)}function gv(t,e,n){var o=O(Y($d(ee.fromDom(n.container()),e),Qn)).getOr(e);return Yc.fromPosition(t,o.dom(),n).filter(pv)}function vv(t,e){return ds(e).exists(qn)||gv(!0,t,e).isSome()}function bv(t,e){return function(t){return I.from(t.getNode(!0)).map(ee.fromDom)}(e).exists(qn)||gv(!1,t,e).isSome()}function yv(t,e,n,o){var r=o.getNode(!1===e);return Xb(ee.fromDom(t),ee.fromDom(n.getNode())).map((function(t){return ch(t)?ty.remove(t.dom()):ty.moveToElement(r)})).orThunk((function(){return I.some(ty.moveToElement(r))}))}function xv(t,e,n){return Yc.fromPosition(e,t,n).bind((function(r){return function(t){return ro(ee.fromDom(t))||eo(ee.fromDom(t))}(r.getNode())?I.none():function(t,e,n,r){function i(e){return Wn(ee.fromDom(e))&&!is(n,r,t)}return ls(!e,n).fold((function(){return ls(e,r).fold(o(!1),i)}),i)}(t,e,n,r)?I.none():e&&Ge.isContentEditableFalse(r.getNode())?yv(t,e,n,r):!1===e&&Ge.isContentEditableFalse(r.getNode(!0))?yv(t,e,n,r):e&&Fg(n)?I.some(ty.moveToPosition(r)):!1===e&&Lg(n)?I.some(ty.moveToPosition(r)):I.none()}))}function wv(t,e){return I.from(ey(t.getBody(),e))}function Cv(t,e,n,o,r,i){var a=gg(o,t,i.getNode(!r),r,!0);if(e.collapsed){var u=e.cloneRange();r?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else e.deleteContents();return t.selection.setRng(a),function(t,e){Ge.isText(e)&&0===e.data.length&&t.remove(e)}(t.dom,n),!0}function Sv(t,e){return function(n){return Kp(e,n).map((function(e){return ug.setCaretPosition(t,e),!0})).getOr(!1)}}function kv(e,n,o,r){var a=e.getBody(),u=i(Qp.isInlineTarget,e);e.undoManager.ignore((function(){e.selection.setRng(function(e,n){var o=t.document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(n.container(),n.offset()),o}(o,r)),e.execCommand("Delete"),ng(u,a,vs.fromRangeStart(e.selection.getRng())).map(ig).map(Sv(e,n))})),e.nodeChanged()}function Tv(t){return 1===Ct(t).length}function Ev(t,e){return{start:o(t),end:o(e)}}function Ov(t,e){return pa(ee.fromDom(t),"td,th",e)}function Nv(t,e){return ma(t,"table",e)}function Av(t){return!1===ht(t.start(),t.end())}function _v(t,e){return Nv(t.start(),e).bind((function(n){return Nv(t.end(),e).bind((function(t){return function(t,e){return t?I.some(e):I.none()}(ht(n,t),n)}))}))}function Dv(t){return ua(t,"td,th")}function zv(t,e){return C(t,(function(t){return ht(t,e)}))}function Mv(t){return function(t){return La(zv(t.cells(),t.rng().start()),zv(t.cells(),t.rng().end()),(function(e,n){return t.cells().slice(e,n+1)}))}(t).map((function(e){var n=t.cells();return e.length===n.length?uy.removeTable(t.table()):uy.emptyCells(e)}))}function Bv(t,e){return G(e,nh),t.selection.setCursorLocation(e[0].dom(),0),!0}function Rv(t,e){return lh(t,!1,e),!0}function Iv(t,e){return w($d(e,t),ro)}function Pv(t,e){return t?Pg(e):Hg(e)}function Hv(t){var e=parseInt(t,10);return isNaN(e)?0:e}function Lv(t,e){return(t||function(t){return"table"===zt(t)}(e)?"margin":"padding")+("rtl"===Gt(e,"direction")?"-right":"-left")}function Fv(t){var e=my(t);return!t.mode.isReadOnly()&&(1<e.length||function(t,e){return k(e,(function(e){var n=Yt(e,Lv($s(t),e)).map(Hv).getOr(0);return"false"!==t.dom.getContentEditable(e.dom())&&0<n}))}(t,e))}function Vv(t){return to(t)||eo(t)}function jv(t,e){var n=t.dom,o=t.selection,r=t.formatter,i=function(t){return t.getParam("indentation","40px","string")}(t),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=$s(t),c=zs(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==c||n.getParent(o.getNode(),n.isBlock)||r.apply("div"),G(my(t),(function(t){!function(t,e,n,o,r,i){var a=Lv(n,ee.fromDom(i));if("outdent"===e){var u=Math.max(0,Hv(i.style[a])-o);t.setStyle(i,a,u?u+r:"")}else u=Hv(i.style[a])+o+r,t.setStyle(i,a,u)}(n,e,s,u,a,t.dom())}))}function $v(t,e,n){return Yc.navigateIgnore(t,e,n,wg)}function Uv(t,e){return w($d(ee.fromDom(e.container()),t),Qn)}function Wv(t,e,n){return $v(t,e.dom(),n).forall((function(t){return Uv(e,n).fold((function(){return!1===is(t,n,e.dom())}),(function(o){return!1===is(t,n,e.dom())&&Ae(o,ee.fromDom(t.container()))}))}))}function qv(t,e,n){return Uv(e,n).fold((function(){return $v(t,e.dom(),n).forall((function(t){return!1===is(t,n,e.dom())}))}),(function(e){return $v(t,e.dom(),n).isNone()}))}function Xv(t){return I.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))}function Gv(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e}function Yv(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)}function Kv(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t}function Jv(t,e,n){for(var o=t[n?"firstChild":"lastChild"];o&&!Ge.isElement(o);)o=o[n?"nextSibling":"previousSibling"];return o===e}function Qv(t){t.innerHTML='<br data-mce-bogus="1">'}function Zv(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e}function tb(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)}function eb(t,e,n){return!1===Ge.isText(e)?n:t?1===n&&e.data.charAt(n-1)===Qa.ZWSP?0:n:n===e.data.length-1&&e.data.charAt(n)===Qa.ZWSP?e.data.length:n}function nb(t,e){var n,o,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(o=n),n=n.parentNode;return n!==r?o:r}function ob(t,n){var o=zs(t);o&&o.toLowerCase()===n.tagName.toLowerCase()&&function(t,n,o){I.from(o.style).map(t.dom.parseStyle).each((function(e){var o=function(t){var e={},n=t.dom();if($t(n))for(var o=0;o<n.style.length;o++){var r=n.style.item(o);e[r]=n.style[r]}return e}(ee.fromDom(n)),r=et(et({},o),e);t.dom.setStyles(n,r)})),La(I.from(o.class).map((function(t){return t.split(/\s+/)})),I.from(n.className).map((function(t){return Y(t.split(/\s+/),(function(t){return""!==t}))})),(function(e,o){var r=Y(o,(function(t){return!v(e,t)})),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,r++)o[r]=i[a];return o}(e,r);t.dom.setAttrib(n,"class",i.join(" "))}));var r=["style","class"],i=function(t,n){var o={};return z(t,(function(t,e){return!v(r,e)}),D(o),e),o}(o);t.dom.setAttribs(n,i)}(t,n,Ms(t))}function rb(t,e,n){var o=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(o,n),e.scrollIntoView(o),t.remove(o)}function ib(t,e,n,o){var r=t.createRng();o?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)}function ab(t,e){var n=ee.fromTag("br");Et(ee.fromDom(e),n),t.undoManager.add()}function ub(t,e){ky(t.getBody(),e)||Ot(ee.fromDom(e),ee.fromTag("br"));var n=ee.fromTag("br");Ot(ee.fromDom(e),n),rb(t.dom,t.selection,n.dom()),ib(t.dom,t.selection,n.dom(),!1),t.undoManager.add()}function sb(t){return t&&"A"===t.nodeName&&"href"in t}function cb(t){return t.fold(o(!1),sb,sb,o(!1))}function lb(t,n){n.fold(e,i(ab,t),i(ub,t),e)}function fb(t,e){return wy(t).filter((function(t){return 0<e.length&&dt(ee.fromDom(t),e)})).isSome()}function db(t,e){return Oy(t)}function mb(t){return function(e,n){return""===zs(e)===t}}function hb(t){return function(e,n){return Sy(e)===t}}function pb(t,e){return function(n,o){return Cy(n)===t.toUpperCase()===e}}function gb(t){return pb("pre",t)}function vb(t){return function(e,n){return function(t){return t.getParam("br_in_pre",!0)}(e)===t}}function bb(t,e){return Ey(t)}function yb(t,e){return e}function xb(t){var e=zs(t),n=xy(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")}function wb(t,e){return function(n,o){return x(t,(function(t,e){return t&&e(n,o)}),!0)?I.some(e):I.none()}}function Cb(t,e){var n=e.container(),o=e.offset();return Ge.isText(n)?(n.insertData(o,t),I.some(Ou(n,o+t.length))):ds(e).map((function(n){var o=ee.fromText(t);return e.isAtEnd()?Ot(n,o):Et(n,o),Ou(o.dom(),t.length)}))}function Sb(t){return Ou.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()}function kb(t,e){return O(Y($d(ee.fromDom(e.container()),t),Qn)).getOr(t)}function Tb(t,e){return Sb(e)?Bg(e):Bg(e)||Yc.prevPosition(kb(t,e).dom(),e).exists(Bg)}function Eb(t,e){return Sb(e)?Mg(e):Mg(e)||Yc.nextPosition(kb(t,e).dom(),e).exists(Mg)}function Ob(t){return ds(t).bind((function(t){return da(t,ze)})).exists((function(t){return function(t){return v(["pre","pre-wrap"],t)}(Gt(t,"white-space"))}))}function Nb(t,e){return function(t,e){return!Ob(e)&&(hy(t,e)||gy(t,e)||bv(t,e)||Tb(t,e))}(t,e)||function(t,e){var n=function(t){var e=t.container(),n=t.offset();return Ge.isText(e)&&n<e.data.length?Ou(e,n+1):t}(e);return!Ob(n)&&(py(t,n)||vy(t,n)||vv(t,n)||Eb(t,n))}(t,e)}function Ab(t,e){return Zc(t.charAt(e))}function _b(t){var e=t.container();return Ge.isText(e)&&it(e.data,Io)}function Db(t){var e=ee.fromDom(t.getBody());t.selection.isCollapsed()&&function(t,e){return I.some(e).filter(_b).bind((function(e){var n=e.container();return function(t,e){var n=e.data,o=Ou(e,0);return!(!Ab(n,0)||Nb(t,o)||(e.data=" "+n.slice(1),0))}(t,n)||function(t){var e=t.data,n=function(t){var e=t.split("");return X(e,(function(t,n){return Zc(t)&&0<n&&n<e.length-1&&pc(e[n-1])&&pc(e[n+1])?" ":t})).join("")}(e);return n!==e&&(t.data=n,!0)}(n)||function(t,e){var n=e.data,o=Ou(e,n.length-1);return!(!Ab(n,n.length-1)||Nb(t,o)||(e.data=n.slice(0,-1)+" ",0))}(t,n)?I.some(e):I.none()}))}(e,Ou.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))}function zb(t){var e=vs.fromRangeStart(t.selection.getRng()),n=ee.fromDom(t.getBody());if(t.selection.isCollapsed()){var o=i(Qp.isInlineTarget,t),r=vs.fromRangeStart(t.selection.getRng());return ng(o,t.getBody(),r).bind(function(t){return function(e){return e.fold((function(e){return Yc.prevPosition(t.dom(),vs.before(e))}),(function(t){return Yc.firstPositionIn(t)}),(function(t){return Yc.lastPositionIn(t)}),(function(e){return Yc.nextPosition(t.dom(),vs.after(e))}))}}(n)).bind(function(t,e){return function(n){return function(t,e){return!Ob(e)&&(function(t,e){return function(t,e){return Yc.prevPosition(t.dom(),e).isNone()}(t,e)||function(t,e){return Yc.nextPosition(t.dom(),e).isNone()}(t,e)||hy(t,e)||py(t,e)||bv(t,e)||vv(t,e)}(t,e)||Tb(t,e)||Eb(t,e))}(t,n)?_y(e):Dy(e)}}(n,e)).exists(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}return!1}function Mb(t,e){e.hasAttribute("data-mce-caret")&&(Oa(e),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(e))}function Bb(t,e){var n=function(t){return ha(ee.fromDom(t.getBody()),"*[data-mce-caret]").fold(o(null),(function(t){return t.dom()}))}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void Mb(t,n)):void(ka(n)&&(Mb(t,n),t.undoManager.add()))}(Eg=Tg=Tg||{})[Eg.Br=0]="Br",Eg[Eg.Block=1]="Block",Eg[Eg.Wrap=2]="Wrap",Eg[Eg.Eol=3]="Eol";var Rb=i(jg,Ou.isAbove,-1),Ib=i(jg,Ou.isBelow,1),Pb=i($g,-1,Rb),Hb=i($g,1,Ib),Lb=Ge.isContentEditableFalse,Fb=Ia,Vb=i(Kg,(function(t){return t.bottom}),(function(t,e){return t.y<e})),jb=i(Kg,(function(t){return t.top}),(function(t,e){return t.y>e})),$b=i(Qg,Rb),Ub=i(Qg,Ib),Wb=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,o)}},qb=function(t,n){return w(function(t,n){return S(function(t){return X(t,(function(t){return et({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:e},t)}))}(t),(function(t){return function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey}(t,n)?[t]:[]}))}(t,n),(function(t){return t.action()}))},Xb=function(t,e){return Ae(t,e)?da(e,(function(t){return Zn(t)||eo(t)}),function(t){return function(e){return ht(t,ee.fromDom(e.dom().parentNode))}}(t)):I.none()},Gb=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)}(t))},Yb=function(t,e,n,o){return e?mv(t,o,n):mv(t,n,o)},Kb=function(t,e){var n=ee.fromDom(t.getBody()),o=function(t,e,n){return n.collapsed?function(t,e,n){var o=uv(t,vs.fromRangeStart(n)),r=o.bind((function(n){return Yc.fromPosition(e,t,n.position()).bind((function(n){return uv(t,n).map((function(n){return function(t,e,n){return Ge.isBr(n.position().getNode())&&!1===ch(n.block())?Yc.positionIn(!1,n.block().dom()).bind((function(o){return o.isEqual(n.position())?Yc.fromPosition(e,t,o).bind((function(e){return uv(t,e)})):I.some(n)})).getOr(n):n}(t,e,n)}))}))}));return La(o,r,av).filter((function(t){return function(t){return!1===ht(t.from().block(),t.to().block())}(t)&&function(t){return vt(t.from().block()).bind((function(e){return vt(t.to().block()).filter((function(t){return ht(e,t)}))})).isSome()}(t)&&function(t){return!1===Ge.isContentEditableFalse(t.from().block().dom())&&!1===Ge.isContentEditableFalse(t.to().block().dom())}(t)}))}(t,e,n):I.none()}(n.dom(),e,t.selection.getRng()).bind((function(t){return Yb(n,e,t.from().block(),t.to().block())}));return o.each((function(e){t.selection.setRng(e.toRange())})),o.isSome()},Jb=function(t,e){return!t.selection.isCollapsed()&&function(t){var e=ee.fromDom(t.getBody());return function(t,e){var n=Yc.prevPosition(t.dom(),vs.fromRangeStart(e)).isNone(),o=Yc.nextPosition(t.dom(),vs.fromRangeEnd(e)).isNone();return!function(t,e){return hv(t,e.startContainer)||hv(t,e.endContainer)}(t,e)&&n&&o}(e,t.selection.getRng())?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):function(t,e){var n=e.getRng();return La(Xb(t,ee.fromDom(n.startContainer)),Xb(t,ee.fromDom(n.endContainer)),(function(o,r){return!1===ht(o,r)&&(n.deleteContents(),Yb(t,!0,o,r).each((function(t){e.setRng(t.toRange())})),!0)})).getOr(!1)}(e,t.selection)}(t)},Qb=i(gv,!1),Zb=i(gv,!0),ty=nf([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ey=function(t,e){for(;e&&e!==t;){if(Ge.isContentEditableTrue(e)||Ge.isContentEditableFalse(e))return e;e=e.parentNode}return null},ny=function(t,e){return t.selection.isCollapsed()?function(t,e){var n=t.selection.getNode();return wv(t,n).filter(Ge.isContentEditableFalse).fold((function(){return function(t,e,n){var o=cs(e?1:-1,t,n),r=vs.fromRangeStart(o),i=ee.fromDom(t);return!1===e&&Fg(r)?I.some(ty.remove(r.getNode(!0))):e&&Lg(r)?I.some(ty.remove(r.getNode())):!1===e&&Lg(r)&&bv(i,r)?Qb(i,r).map((function(t){return ty.remove(t.getNode())})):e&&Fg(r)&&vv(i,r)?Zb(i,r).map((function(t){return ty.remove(t.getNode())})):function(t,e,n){return function(t,e){var n=e.getNode(!1===t),o=t?"after":"before";return Ge.isElement(n)&&n.getAttribute("data-mce-caret")===o}(e,n)?function(t,e){return t&&Ge.isContentEditableFalse(e.nextSibling)?I.some(ty.moveToElement(e.nextSibling)):!1===t&&Ge.isContentEditableFalse(e.previousSibling)?I.some(ty.moveToElement(e.previousSibling)):I.none()}(e,n.getNode(!1===e)).fold((function(){return xv(t,e,n)}),I.some):xv(t,e,n).bind((function(e){return function(t,e,n){return n.fold((function(t){return I.some(ty.remove(t))}),(function(t){return I.some(ty.moveToElement(t))}),(function(n){return is(e,n,t)?I.none():I.some(ty.moveToPosition(n))}))}(t,n,e)}))}(t,e,r)}(t.getBody(),e,t.selection.getRng()).map((function(n){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),lh(t,e,ee.fromDom(n)),!0}}(t,e),function(t,e){return function(n){var o=e?vs.before(n):vs.after(n);return t.selection.setRng(o.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))})).getOr(!1)}),(function(){return!0}))}(t,e):function(t,e){var n=t.selection.getNode();return!!Ge.isContentEditableFalse(n)&&wv(t,n.parentNode).filter(Ge.isContentEditableFalse).fold((function(){return function(t){G(ua(t,".mce-offscreen-selection"),De)}(ee.fromDom(t.getBody())),lh(t,e,ee.fromDom(t.selection.getNode())),Gb(t),!0}),(function(){return!0}))}(t,e)},oy=function(t){var e,n=ey(t.getBody(),t.selection.getNode());return Ge.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(vs.before(e).toRange())),!0},ry=function(t,e){return function(t,e){var n=t.selection.getRng();if(!Ge.isText(n.commonAncestorContainer))return!1;var o=e?ps.Forwards:ps.Backwards,r=nc(t.getBody()),a=i(ms,r.next),u=i(ms,r.prev),s=e?a:u,c=e?Lg:Fg,l=fs(o,t.getBody(),n),f=Qp.normalizePosition(e,s(l));if(!f||!hs(l,f))return!1;if(c(f))return Cv(t,n,l.getNode(),o,e,f);var d=s(f);return!!(d&&c(d)&&hs(f,d))&&Cv(t,n,l.getNode(),o,e,d)}(t,e)},iy=function(t,e,n){if(t.selection.isCollapsed()&&function(t){return!1!==t.settings.inline_boundaries}(t)){var r=vs.fromRangeStart(t.selection.getRng());return function(t,e,n,r){var a=function(t,e){return rs(e,t)||t}(t.getBody(),r.container()),u=i(Qp.isInlineTarget,t),s=ng(u,a,r);return s.bind((function(t){return n?t.fold(o(I.some(ig(t))),I.none,o(I.some(rg(t))),I.none):t.fold(I.none,o(I.some(rg(t))),I.none,o(I.some(ig(t))))})).map(Sv(t,e)).getOrThunk((function(){var o=Yc.navigate(n,a,r),i=o.bind((function(t){return ng(u,a,t)}));return s.isSome()&&i.isSome()?Qp.findRootInline(u,a,r).map((function(e){return!!function(t){return La(Yc.firstPositionIn(t),Yc.lastPositionIn(t),(function(e,n){var o=Qp.normalizePosition(!0,e),r=Qp.normalizePosition(!1,n);return Yc.nextPosition(t,o).map((function(t){return t.isEqual(r)})).getOr(!0)})).getOr(!0)}(e)&&(lh(t,n,ee.fromDom(e)),!0)})).getOr(!1):i.bind((function(i){return o.map((function(o){return n?kv(t,e,r,o):kv(t,e,o,r),!0}))})).getOr(!1)}))}(t,e,n,r)}return!1},ay=function(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=ee.fromDom(t.getBody()),r=ee.fromDom(t.selection.getStart()),a=Y(function(t,e){var n=$d(e,t);return C(n,Qn).fold(o(n),(function(t){return n.slice(0,t)}))}(n,r),Tv);return N(a).map((function(n){var o=vs.fromRangeStart(t.selection.getRng());return!(!function(t,e,n){return La(Yc.firstPositionIn(n),Yc.lastPositionIn(n),(function(o,r){var i=Qp.normalizePosition(!0,o),a=Qp.normalizePosition(!1,r),u=Qp.normalizePosition(!1,e);return t?Yc.nextPosition(n,u).map((function(t){return t.isEqual(a)&&e.isEqual(i)})).getOr(!1):Yc.prevPosition(n,u).map((function(t){return t.isEqual(i)&&e.isEqual(a)})).getOr(!1)})).getOr(!0)}(e,o,n.dom())||function(t){return Uu(t.dom())&&$m(t.dom())}(n)||(function(t,e,n,o){var r=i(Jm,e),a=X(Y(o,r),(function(t){return t.dom()}));if(0===a.length)lh(e,t,n);else{var u=function(t,e){var n=Wm(!1),o=Km(e,n.dom());return Et(ee.fromDom(t),n),De(ee.fromDom(t)),vs(o,0)}(n.dom(),a);e.selection.setRng(u.toRange())}}(e,t,n,a),0))})).getOr(!1)}(t,e)},uy=nf([{removeTable:["element"]},{emptyCells:["cells"]}]),sy=function(t,e){return _v(e,t).isSome()},cy=function(t,e){return w($d(e,t),(function(t){return"caption"===zt(t)}))},ly=function(t,e){return nh(e),t.selection.setCursorLocation(e.dom(),0),I.some(!0)},fy=function(t,e){var n=ee.fromDom(t.selection.getStart(!0)),r=Zd(t);return t.selection.isCollapsed()&&0===r.length?function(t,e,n){var o=ee.fromDom(t.getBody());return cy(o,n).fold((function(){return function(t,e,n,o){var r=vs.fromRangeStart(t.selection.getRng());return Iv(n,o).bind((function(o){return ch(o)?ly(t,o):function(t,e,n,o,r){return Yc.navigate(n,t.getBody(),r).bind((function(t){return Iv(e,ee.fromDom(t.getNode())).map((function(t){return!1===ht(t,o)}))}))}(t,n,e,o,r)})).getOr(!1)}(t,e,o,n)||function(t,e){var n=vs.fromRangeStart(t.selection.getRng());return Pv(e,n)||Yc.fromPosition(e,t.getBody(),n).map((function(t){return Pv(e,t)})).getOr(!1)}(t,e)}),(function(n){return function(t,e,n,o){var r=vs.fromRangeStart(t.selection.getRng());return ch(o)?ly(t,o):function(t,e,n,o,r){return Yc.navigate(n,t.getBody(),r).bind((function(i){return function(t,e,n,o){return Yc.firstPositionIn(t.dom()).bind((function(r){return Yc.lastPositionIn(t.dom()).map((function(t){return e?n.isEqual(r)&&o.isEqual(t):n.isEqual(t)&&o.isEqual(r)}))})).getOr(!0)}(o,n,r,i)?function(t,e){return ly(t,e)}(t,o):function(t,e,n){return cy(t,ee.fromDom(n.getNode())).map((function(t){return!1===ht(t,e)}))}(e,o,i)})).or(I.some(!0))}(t,n,e,o,r)}(t,e,o,n).getOr(!1)}))}(t,e,n):function(t,e){var n=ee.fromDom(t.getBody()),r=t.selection.getRng(),a=Zd(t);return 0!==a.length?Bv(t,a):function(t,e,n,r){return cy(e,r).fold((function(){return function(t,e,n){return function(t,e){return function(t,e){var n=function(t){return function(e){return ht(t,e)}}(t);return function(t,e){return La(Ov(t.startContainer,e),Ov(t.endContainer,e),Ev).filter(Av).filter((function(t){return sy(e,t)})).orThunk((function(){return function(t,e){var n=Ov(e.startContainer,t),o=Ov(e.endContainer,t);return e.collapsed?I.none():La(n,o,Ev).fold((function(){return n.fold((function(){return o.bind((function(e){return Nv(e,t).bind((function(t){return O(Dv(t)).map((function(t){return Ev(t,e)}))}))}))}),(function(e){return Nv(e,t).bind((function(t){return N(Dv(t)).map((function(t){return Ev(e,t)}))}))}))}),(function(e){return sy(t,e)?I.none():function(t,e){return Nv(t.start(),e).bind((function(e){return N(Dv(e)).map((function(e){return Ev(t.start(),e)}))}))}(e,t)}))}(e,t)}))}(e,n).bind((function(t){return function(t,e){return _v(t,e).map((function(e){return function(t,e,n){return{rng:o(t),table:o(e),cells:o(n)}}(t,e,Dv(e))}))}(t,n)}))}(t,e).bind(Mv)}(e,n).map((function(e){return e.fold(i(Rv,t),i(Bv,t))}))}(t,e,n)}),(function(e){return function(t,e){return ly(t,e)}(t,e)})).getOr(!1)}(t,n,r,e)}(t,n)},dy=function(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=vs.fromRangeStart(t.selection.getRng());return Yc.fromPosition(e,t.getBody(),n).filter((function(t){return e?Rg(t):Ig(t)})).bind((function(t){return I.from(as(e?0:-1,t))})).map((function(e){return t.selection.select(e),!0})).getOr(!1)}(t,e)},my=function(t){return Y(X(t.selection.getSelectedBlocks(),ee.fromDom),(function(t){return!Vv(t)&&!function(t){return vt(t).map(Vv).getOr(!1)}(t)&&function(t){return da(t,(function(t){return Ge.isContentEditableTrue(t.dom())||Ge.isContentEditableFalse(t.dom())})).exists((function(t){return Ge.isContentEditableTrue(t.dom())}))}(t)}))},hy=i(qv,!1),py=i(qv,!0),gy=i(Wv,!1),vy=i(Wv,!0),by=function(t,e,n){if(t.selection.isCollapsed()&&Fv(t)){var o=t.dom,r=t.selection.getRng(),i=vs.fromRangeStart(r),a=o.getParent(r.startContainer,o.isBlock);if(null!==a&&hy(ee.fromDom(a),i))return jv(t,"outdent"),!0}return!1},yy=function(t,e){var n,o,r=e,i=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var u=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&e.insertBefore(i.doc.createTextNode(Io),e.firstChild)}if(o=i.createRng(),e.normalize(),e.hasChildNodes()){for(var s=new zi(e,e);n=s.current();){if(Ge.isText(n)){o.setStart(n,0),o.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){o.setStartBefore(n),o.setEndBefore(n);break}r=n,n=s.next()}n||(o.setStart(r,0),o.setEnd(r,0))}else Ge.isBr(e)?e.nextSibling&&i.isBlock(e.nextSibling)?(o.setStartBefore(e),o.setEndBefore(e)):(o.setStartAfter(e),o.setEndAfter(e)):(o.setStart(e,0),o.setEnd(e,0));t.selection.setRng(o),Ld(t,o)}},xy=function(t,e){var n,o,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(o=n),n=n.parentNode;return n!==r?o:r},wy=Xv,Cy=function(t){return Xv(t).fold(o(""),(function(t){return t.nodeName.toUpperCase()}))},Sy=function(t){return Xv(t).filter((function(t){return eo(ee.fromDom(t))})).isSome()},ky=function(t,e){return!!function(t){return Ge.isBr(t.getNode())}(vs.after(e))||Yc.nextPosition(t,vs.after(e)).map((function(t){return Ge.isBr(t.getNode())})).getOr(!1)},Ty=function(t,e){var n=function(t){var e=i(Qp.isInlineTarget,t),n=vs.fromRangeStart(t.selection.getRng());return ng(e,t.getBody(),n).filter(cb)}(t);n.isSome()?n.each(i(lb,t)):function(t,e){var n,o,r=t.selection,i=t.dom,a=r.getRng();nm(i,a).each((function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)}));var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0}var l=i.getParent(s,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null;"LI"!==(f?f.nodeName.toUpperCase():"")||!(!e||!e.ctrlKey)||(l=f),s&&3===s.nodeType&&u>=s.nodeValue.length&&!function(t,e,n){for(var o,r=new zi(e,n),i=t.getNonEmptyElements();o=r.next();)if(i[o.nodeName.toLowerCase()]||0<o.length)return!0}(t.schema,s,l)&&(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),o=!0),n=i.create("br"),Mu(i,a,n),rb(i,r,n),ib(i,r,n,o),t.undoManager.add()}(t,e)},Ey=function(t){return fb(t,function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(t))},Oy=function(t){return fb(t,function(t){return t.getParam("no_newline_selector","")}(t))},Ny=nf([{br:[]},{block:[]},{none:[]}]),Ay=function(t,n){(function(t,e){return Zp([wb([db],Ny.none()),wb([pb("summary",!0)],Ny.br()),wb([gb(!0),vb(!1),yb],Ny.br()),wb([gb(!0),vb(!1)],Ny.block()),wb([gb(!0),vb(!0),yb],Ny.block()),wb([gb(!0),vb(!0)],Ny.br()),wb([hb(!0),yb],Ny.br()),wb([hb(!0)],Ny.block()),wb([mb(!0),yb,xb],Ny.block()),wb([mb(!0)],Ny.br()),wb([bb],Ny.br()),wb([mb(!1),yb],Ny.br()),wb([xb],Ny.block())],[t,!(!e||!e.shiftKey)]).getOr(Ny.none())})(t,n).fold((function(){Ty(t,n)}),(function(){!function(t,e){function n(e){var n,o,r,i=u,s=y.getTextInlineElements();if(r=n=e||"TABLE"===h||"HR"===h?b.create(e||g):c.cloneNode(!1),!1===function(t){return t.getParam("keep_styles",!0)}(t))b.setAttrib(n,"style",null),b.setAttrib(n,"class",null);else do{if(s[i.nodeName]){if(Uu(i)||Qc(i))continue;o=i.cloneNode(!1),b.setAttrib(o,"id",""),n.hasChildNodes()?o.appendChild(n.firstChild):r=o,n.appendChild(o)}}while((i=i.parentNode)&&i!==a);return ob(t,n),Qv(r),n}function o(t){var e,n,o=eb(t,u,s);if(Ge.isText(u)&&(t?0<o:o<u.nodeValue.length))return!1;if(u.parentNode===c&&v&&!t)return!0;if(t&&Ge.isElement(u)&&u===c.firstChild)return!0;if(Zv(u,"TABLE")||Zv(u,"HR"))return v&&!t||!v&&t;var r=new zi(u,c);for(Ge.isText(u)&&(t&&0===o?r.prev():t||o!==u.nodeValue.length||r.next());e=r.current();){if(Ge.isElement(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),x[n]&&"br"!==n))return!1}else if(Ge.isText(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?r.prev():r.next()}return!0}function r(){f=/^(H[1-6]|PRE|FIGURE)$/.test(h)&&"HGROUP"!==p?n(g):n(),function(t){return t.getParam("end_container_on_empty_block",!1)}(t)&&tb(b,m)&&b.isEmpty(c)?f=b.split(m,c):b.insertAfter(f,c),yy(t,f)}var i,a,u,s,c,l,f,d,m,h,p,g,v,b=t.dom,y=t.schema,x=y.getNonEmptyElements(),w=t.selection.getRng();nm(b,w).each((function(t){w.setStart(t.startContainer,t.startOffset),w.setEnd(t.endContainer,t.endOffset)})),u=w.startContainer,s=w.startOffset,g=zs(t),l=!(!e||!e.shiftKey);var C=!(!e||!e.ctrlKey);Ge.isElement(u)&&u.hasChildNodes()&&(v=s>u.childNodes.length-1,u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=v&&Ge.isText(u)?u.nodeValue.length:0),(a=nb(b,u))&&((g&&!l||!g&&l)&&(u=function(t,e,n,o,r){var i,a,u,s,c,l,f=e||"P",d=t.dom,m=nb(d,o);if(!(a=d.getParent(o,d.isBlock))||!tb(d,a)){if(l=(a=a||m)===t.getBody()||function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return ob(t,i=d.create(f)),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=o;s.parentNode!==a;)s=s.parentNode;for(;s&&!d.isBlock(s);)s=(u=s).previousSibling;if(u&&t.schema.isValidChild(l,f.toLowerCase())){for(ob(t,i=d.create(f)),u.parentNode.insertBefore(i,u),s=u;s&&!d.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;n.setStart(o,r),n.setEnd(o,r)}}return o}(t,g,w,u,s)),c=b.getParent(u,b.isBlock),m=c?b.getParent(c.parentNode,b.isBlock):null,h=c?c.nodeName.toUpperCase():"","LI"!==(p=m?m.nodeName.toUpperCase():"")||C||(m=(c=m).parentNode,h=p),/^(LI|DT|DD)$/.test(h)&&b.isEmpty(c)?function(t,e,n,o,r){var i=t.dom,a=t.selection.getRng();if(n!==t.getBody()){!function(t){return Yv(t)&&Yv(t.parentNode)}(n)||(r="LI");var u=r?e(r):i.create("BR");if(Jv(n,o,!0)&&Jv(n,o,!1))Gv(n,"LI")?i.insertAfter(u,Kv(n)):i.replace(u,n);else if(Jv(n,o,!0))Gv(n,"LI")?(i.insertAfter(u,Kv(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(Jv(n,o,!1))i.insertAfter(u,Kv(n));else{n=Kv(n);var s=a.cloneRange();s.setStartAfter(o),s.setEndAfter(n);var c=s.extractContents();"LI"===r&&function(t,e){return t.firstChild&&"LI"===t.firstChild.nodeName}(c)?(u=c.firstChild,i.insertAfter(c,n)):(i.insertAfter(c,n),i.insertAfter(u,n))}i.remove(o),yy(t,u)}}(t,n,m,c,g):g&&c===t.getBody()||(g=g||"P",wa(c)?(f=Oa(c),b.isEmpty(c)&&Qv(c),ob(t,f),yy(t,f)):o()?r():o(!0)?(f=c.parentNode.insertBefore(n(),c),yy(t,Zv(c,"HR")?f:c)):((i=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,eb(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,eb(!1,t.endContainer,t.endOffset)),e}(w).cloneRange()).setEndAfter(c),function(t){G(ca(ee.fromDom(t),Me),(function(t){var e=t.dom();e.nodeValue=Qa.trim(e.nodeValue)}))}(d=i.extractContents()),function(t){for(;Ge.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;);}(d),f=d.firstChild,b.insertAfter(d,c),function(t,e,n){var o,r=n,i=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;Ge.isElement(r)&&!e[r.nodeName.toLowerCase()]&&i.push(r)}for(o=i.length;o--;)!(r=i[o]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):(a=r)&&"A"===a.nodeName&&t.isEmpty(a)&&t.remove(r);var a}}(b,x,f),function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")}(b,c),b.isEmpty(c)&&Qv(c),f.normalize(),b.isEmpty(f)?(b.remove(f),r()):(ob(t,f),yy(t,f))),b.setAttrib(f,"id",""),t.fire("NewBlock",{newBlock:f})))}(t,n)}),e)},_y=i(Cb,Io),Dy=i(Cb," "),zy=lt().browser,My=(By.prototype.nodeChanged=function(t){var e,n,o,r=this.editor.selection;this.editor.initialized&&r&&!this.editor.settings.disable_nodechange&&!this.editor.mode.isReadOnly()&&(o=this.editor.getBody(),(e=r.getStart(!0)||o).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,o)||(e=o),n=[],this.editor.dom.getParent(e,(function(t){if(t===o)return!0;n.push(t)})),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},By.prototype.isSameElementPath=function(t){var e,n;if((n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t)).length===this.lastPath.length){for(e=n.length;0<=e&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},By);function By(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(n){var o,r;r={startContainer:(o=t.selection.getRng()).startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset},"nodechange"!==n.type&&em(r,e)||t.fire("SelectionChange"),e=r})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!Hn.range&&t.selection.isCollapsed()||md(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&md(t)&&("IMG"===t.selection.getNode().nodeName?An.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}function Ry(t){return Ge.isElement(t)&&Zn(ee.fromDom(t))}function Iy(t){var e,n,o,r;return r=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,{top:r.top+(o=e.defaultView).pageYOffset-n.clientTop,left:r.left+o.pageXOffset-n.clientLeft}}function Py(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Hy(t,e){for(var n=t.getBody();e&&e!==n;){if(rx(e)||ix(e))return e;e=e.parentNode}return null}function Ly(e){function n(t){t&&e.selection.setRng(t)}function o(){return e.selection.getRng()}function r(t,n,o,r){return void 0===r&&(r=!0),e.fire("ShowCaret",{target:n,direction:t,before:o}).isDefaultPrevented()?null:(r&&e.selection.scrollIntoView(n,-1===t),c.show(o,n))}function a(t){return Sa(t)||eu(t)||nu(t)}var u,s=e.getBody(),c=function(n,o,r,i){var a,u,s=ne(I.none()),c=zs(n),l=0<c.length?c:"p",f=function(){!function(t){var e,n,o,r,i;for(e=Di("*[contentEditable=false]",t),r=0;r<e.length;r++)o=(n=e[r]).previousSibling,nu(o)&&(1===(i=o.data).length?o.parentNode.removeChild(o):o.deleteData(i.length-1,1)),eu(o=n.nextSibling)&&(1===(i=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))}(o),u&&(As.remove(u),u=null),s.get().each((function(t){Di(t.caret).remove(),s.set(I.none())})),An.clearInterval(a)},d=function(){a=An.setInterval((function(){gf(e)?Di("div.mce-visual-caret",o).toggleClass("mce-visual-caret-hidden"):Di("div.mce-visual-caret",o).addClass("mce-visual-caret-hidden")}),500)};return{show:function(n,r){var i,a;if(f(),function(t){return Ge.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)}(r))return null;if(!function(t){return e.dom.isBlock(t)}(r))return u=function(t,e){var n,o,r;if(o=t.ownerDocument.createTextNode(Qa.ZWSP),r=t.parentNode,e){if(tu(n=t.previousSibling)){if(Sa(n))return n;if(nu(n))return n.splitText(n.data.length-1)}r.insertBefore(o,t)}else{if(tu(n=t.nextSibling)){if(Sa(n))return n;if(eu(n))return n.splitText(1),n}t.nextSibling?r.insertBefore(o,t.nextSibling):r.appendChild(o)}return o}(r,n),a=r.ownerDocument.createRange(),Ws(u.nextSibling)?(a.setStart(u,0),a.setEnd(u,0)):(a.setStart(u,1),a.setEnd(u,1)),a;u=function(e,n,o){var r,i;return(r=n.ownerDocument.createElement(e)).setAttribute("data-mce-caret",o?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(function(){var e=t.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}()),i=n.parentNode,o?i.insertBefore(r,n):n.nextSibling?i.insertBefore(r,n.nextSibling):i.appendChild(r),r}(l,r,n),i=Ju(o,r,n),Di(u).css("top",i.top);var c=Di('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(i).appendTo(o)[0];return s.set(I.some({caret:c,element:r,before:n})),s.get().each((function(t){n&&Di(t.caret).addClass("mce-visual-caret-before")})),d(),(a=r.ownerDocument.createRange()).setStart(u,0),a.setEnd(u,0),a},hide:f,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){s.get().each((function(t){var e=Ju(o,t.element,t.before);Di(t.caret).css(et({},e))}))},destroy:function(){return An.clearInterval(a)}}}(e,s),l="sel-"+e.dom.uniqueId(),f=function(t){return a(t.startContainer)||a(t.endContainer)},d=function(t,n){var o,i,a,c,d,m,p,g,v,b,y=e.$,x=e.dom;if(!t)return null;if(t.collapsed){if(!f(t))if(!1===n){if(Zu((g=fs(-1,s,t)).getNode(!0)))return r(-1,g.getNode(!0),!1,!1);if(Zu(g.getNode()))return r(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(Zu((g=fs(1,s,t)).getNode()))return r(1,g.getNode(),!g.isAtEnd(),!1);if(Zu(g.getNode(!0)))return r(1,g.getNode(!0),!1,!1)}return null}if(d=t.startOffset,m=t.endOffset,3===(c=t.startContainer).nodeType&&0===d&&ix(c.parentNode)&&(d=x.nodeIndex(c=c.parentNode),c=c.parentNode),1!==c.nodeType)return null;if(m===d+1&&c===t.endContainer&&(o=c.childNodes[d]),!ix(o))return null;if(v=b=o.cloneNode(!0),(p=e.fire("ObjectSelected",{target:o,targetClone:v})).isDefaultPrevented())return null;i=ha(ee.fromDom(e.getBody()),"#"+l).fold((function(){return y([])}),(function(t){return y([t.dom()])})),v=p.targetClone,0===i.length&&(i=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",l)).appendTo(e.getBody()),t=e.dom.createRng(),v===b&&Hn.ie?(i.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),t.setStartAfter(i[0].firstChild.firstChild),t.setEndAfter(v)):(i.empty().append(Io).append(v).append(Io),t.setStart(i[0].firstChild,1),t.setEnd(i[0].lastChild,0)),i.css({top:x.getPos(o,e.getBody()).y}),i[0].focus(),(a=e.selection.getSel()).removeAllRanges(),a.addRange(t);var w=ee.fromDom(o);return G(ua(ee.fromDom(e.getBody()),"*[data-mce-selected]"),(function(t){ht(w,t)||Xt(t,"data-mce-selected")})),e.dom.getAttrib(o,"data-mce-selected")||o.setAttribute("data-mce-selected","1"),u=o,h(),t},m=function(){u&&(u.removeAttribute("data-mce-selected"),ha(ee.fromDom(e.getBody()),"#"+l).each(De),u=null),ha(ee.fromDom(e.getBody()),"#"+l).each(De),u=null},h=function(){c.hide()};return Hn.ceFalse&&function(){var t;e.on("mouseup",(function(t){var r=o();r.collapsed&&zf(e,t.clientX,t.clientY)&&n(bg(e,r,!1))})),e.on("click",(function(t){var n;(n=Hy(e,t.target))&&(ix(n)&&(t.preventDefault(),e.focus()),rx(n)&&e.dom.isChildOf(n,e.selection.getNode())&&m())})),e.on("blur NewBlock",(function(){m()})),e.on("ResizeWindow FullscreenStateChanged",(function(){return c.reposition()})),(t=e).on("tap",(function(e){var n=Hy(t,e.target);ix(n)&&(e.preventDefault(),d(vg(t,n)))}),!0),e.on("mousedown",(function(t){var o,a=t.target;if((a===s||"HTML"===a.nodeName||e.dom.isChildOf(a,s))&&!1!==zf(e,t.clientX,t.clientY))if(o=Hy(e,a))ix(o)?(t.preventDefault(),d(vg(e,o))):(m(),rx(o)&&t.shiftKey||qf(t.clientX,t.clientY,e.selection.getRng())||(h(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Zu(a)){m(),h();var u=function(t,e,n){var o,r=Rp(function(t){return Y(K(t.getElementsByTagName("*")),Zu)}(t));return(o=(o=hg(Y(r,(function(t){return n>=t.top&&n<=t.bottom})),e))&&hg(function(t,e){function n(t,n){var r;return r=Y(Rp([n]),(function(n){return!t(n,e)})),o=o.concat(r),0===r.length}var o=[];return o.push(e),pg(Ip.Up,t,i(n,Ma),e.node),pg(Ip.Down,t,i(n,Ba),e.node),o}(t,o),e))&&Zu(o.node)?function(t,e){return{node:t.node,before:fg(t,e)<dg(t,e)}}(o,e):null}(s,t.clientX,t.clientY);if(u&&!function(t,n){var o=e.dom.getParent(t,e.dom.isBlock),r=e.dom.getParent(n,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,r)||!1!==ix(Hy(e,o)))||o&&!function(t,n){return e.dom.getParent(t,e.dom.isBlock)===e.dom.getParent(n,e.dom.isBlock)}(o,r)&&function(t){var e=nc(t);if(!t.firstChild)return!1;var n=vs.before(t.firstChild),o=e.next(n);return o&&!Lg(o)&&!Fg(o)}(o)}(t.target,u.node)){t.preventDefault();var c=r(1,u.node,u.before,!1);e.getBody().focus(),n(c)}}})),e.on("keypress",(function(t){Xf.modifierPressed(t)||ix(e.selection.getNode())&&t.preventDefault()})),e.on("GetSelectionRange",(function(t){var e=t.range;if(u){if(!u.parentNode)return void(u=null);(e=e.cloneRange()).selectNode(u),t.range=e}})),e.on("SetSelectionRange",(function(t){t.range=function(t){var n=e.schema.getShortEndedElements(),o=e.dom.createRng(),r=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset;return tt(n,r.nodeName.toLowerCase())?0===i?o.setStartBefore(r):o.setStartAfter(r):o.setStart(r,i),tt(n,a.nodeName.toLowerCase())?0===u?o.setEndBefore(a):o.setEndAfter(a):o.setEnd(a,u),o}(t.range);var n=d(t.range,t.forward);n&&(t.range=n)})),e.on("AfterSetSelectionRange",(function(t){var n=t.range;f(n)||function(t){return"mcepastebin"===t.id}(n.startContainer.parentNode)||h(),function(t){return e.dom.hasClass(t,"mce-offscreen-selection")}(n.startContainer.parentNode)||m()})),e.on("copy",(function(t){var n=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Hn.ie){var o=function(){var t=e.dom.get(l);return t?t.getElementsByTagName("*")[0]:t}();o&&(t.preventDefault(),n.clearData(),n.setData("text/html",o.outerHTML),n.setData("text/plain",o.outerText))}})),nx(e),ox(e)}(),{showCaret:r,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(Oa(t),n(o()),e.selection.scrollIntoView(t))},hideFakeCaret:h,destroy:function(){c.destroy(),u=null}}}function Fy(t){t.bindPendingEventDelegates(),t.initialized=!0,function(t){t.fire("Init")}(t),t.focus(!0),function(t){var e=t.dom.getRoot();t.inline||md(t)&&t.selection.getStart(!0)!==e||Yc.firstPositionIn(e).each((function(e){var n=e.getNode(),o=Ge.isTable(n)?Yc.firstPositionIn(n).getOr(e):e;Hn.browser.isIE()?function(t,e){var n=ee.fromDom(t.getBody()),o=(Al(t)?I.from(e):I.none()).map(_l).filter(Nl(n));t.bookmark=o.isSome()?o:t.bookmark}(t,o.toRange()):t.selection.setRng(o.toRange())}))}(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),function(t){t.settings.auto_focus&&An.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)}(t)}function Vy(t){return t.replace(/^\-/,"")}function jy(t){return{editorContainer:t,iframeContainer:t}}function $y(t){return"-"===t.charAt(0)}function Uy(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null}function Wy(t,e){var n=vs.after(t),o=nc(e).prev(n);return o?o.toRange():null}function qy(t,e){var n=t.selection.getRng(),o=n.startContainer,r=n.startOffset;n.collapsed&&function(t,e){return Ge.isText(t)&&t.nodeValue[e-1]===Io}(o,r)&&Ge.isText(o)&&(o.insertData(r-1," "),o.deleteData(r,1),n.setStart(o,r),n.setEnd(o,r),t.selection.setRng(n)),t.selection.setContent(e)}function Xy(t,e){t.getDoc().execCommand(e,!1,null)}function Gy(t){return function(e,n){return I.from(n).map(ee.fromDom).filter(ze).bind((function(n){return function(t,e,n){function r(e){return Yt(e,t).orThunk((function(){return"font"===zt(e)?B(px,t).bind((function(t){return function(t,e){return I.from(qt(t,e))}(e,t)})):I.none()}))}return function(t,e,n){return e(t).orThunk((function(){return n(t)?I.none():function(t,e,n){for(var r=t.dom(),i=j(n)?n:o(!1);r.parentNode;){var a=ee.fromDom(r=r.parentNode),u=e(a);if(u.isSome())return u;if(i(a))break}return I.none()}(t,e,n)}))}(ee.fromDom(n),(function(t){return r(t)}),(function(t){return ht(ee.fromDom(e),t)}))}(t,e,n.dom()).or(function(t,e){return I.from($i.DOM.getStyle(e,t,!0))}(t,n.dom()))})).getOr("")}}function Yy(t){return Yc.firstPositionIn(t.getBody()).map((function(t){var e=t.container();return Ge.isText(e)?e.parentNode:e}))}function Ky(t){return I.from(t.selection.getRng()).bind((function(e){return function(t,e){return t.startContainer===e&&0===t.startOffset}(e,t.getBody())?I.none():I.from(t.selection.getStart(!0))}))}function Jy(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(1<=n&&n<=7){var o=function(t){return $n.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(t),r=function(t){return $n.explode(t.getParam("font_size_classes",""))}(t);return r?r[n-1]||e:o[n-1]||e}return e}return e}var Qy=function(t,e){return function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}}(function(t){return t.inline?Iy(t.getBody()):{left:0,top:0}}(t),function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),function(t,e){if(e.target.ownerDocument===t.getDoc())return{left:e.pageX,top:e.pageY};var n=Iy(t.getContentAreaContainer()),o=function(t){var e=t.getBody(),n=t.getDoc().documentElement;return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop}}(t);return{left:e.pageX-n.left+o.left,top:e.pageY-n.top+o.top}}(t,e))},Zy=Ge.isContentEditableFalse,tx=Ge.isContentEditableTrue,ex=function(t){t.dragging=!1,t.element=null,Py(t.ghost)},nx=function(e){(function(e){var n,o,r,i,a,u,s={};n=$i.DOM,u=t.document,o=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var o=w(e.dom.getParents(n.target),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=hu.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}(Zy,tx)).getOr(null);if(function(t,e){return Zy(e)&&e!==t}(e.getBody(),o)){var r=e.dom.getPos(o),i=e.getBody(),a=e.getDoc().documentElement;t.element=o,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?i.scrollWidth:a.offsetWidth)-2,t.maxY=(e.inline?i.scrollHeight:a.offsetHeight)-2,t.relX=n.pageX-r.x,t.relY=n.pageY-r.y,t.width=o.offsetWidth,t.height=o.offsetHeight,t.ghost=function(t,e,n,o){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:o}),t.dom.setAttrib(r,"data-mce-selected",null);var i=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),i.appendChild(r),i}(e,o,t.width,t.height)}}}}(s,e),r=function(t,e){var n=An.throttle((function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)}),0);return function(o){var r=Math.max(Math.abs(o.screenX-t.screenX),Math.abs(o.screenY-t.screenY));if(function(t){return t.element}(t)&&!t.dragging&&10<r){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var i=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,Qy(e,o));!function(t,e){t.parentNode!==e&&e.appendChild(t)}(t.ghost,e.getBody()),function(t,e,n,o,r,i){var a=0,u=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(a=e.pageX+n-r),e.pageY+o>i&&(u=e.pageY+o-i),t.style.width=n-a+"px",t.style.height=o-u+"px"}(t.ghost,i,t.width,t.height,t.maxX,t.maxY),n(o.clientX,o.clientY)}}}(s,e),i=function(t,e){return function(n){if(t.dragging&&function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!Zy(e)}(e,function(t){var e=t.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e}(e.selection),t.element)){var o=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e}(t.element),r=e.fire("drop",{targetClone:o,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(o=r.targetClone,e.undoManager.transact((function(){Py(t.element),e.insertContent(e.dom.getOuterHTML(o)),e._selectionOverrides.hideFakeCaret()})))}ex(t)}}(s,e),a=function(t,e){return function(){t.dragging&&e.fire("dragend"),ex(t)}}(s,e),e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",i),n.bind(u,"mousemove",r),n.bind(u,"mouseup",a),e.on("remove",(function(){n.unbind(u,"mousemove",r),n.unbind(u,"mouseup",a)}))})(e),function(t){t.on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Zy(n)||Zy(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))}(e)},ox=function(e){var n=ea((function(){if(!e.removed&&e.getBody().contains(t.document.activeElement)&&e.selection.getRng().collapsed){var n=yg(e,e.selection.getRng(),!1);e.selection.setRng(n)}}),0);e.on("focus",(function(){n.throttle()})),e.on("blur",(function(){n.cancel()}))},rx=Ge.isContentEditableTrue,ix=Ge.isContentEditableFalse,ax=$i.DOM,ux=function(e,n){var r,a,u=e.settings,s=e.getElement(),c=e.getDoc();u.inline||(e.getElement().style.visibility=e.orgVisibility),n||e.inline||(c.open(),c.write(e.iframeHTML),c.close()),e.inline&&(e.on("remove",(function(){var t=this.getBody();ax.removeClass(t,"mce-content-body"),ax.removeClass(t,"mce-edit-focus"),ax.setAttrib(t,"contentEditable",null)})),ax.addClass(s,"mce-content-body"),e.contentDocument=c=t.document,e.contentWindow=t.window,e.bodyElement=s,e.contentAreaContainer=s,u.root_name=s.nodeName.toLowerCase()),(r=e.getBody()).disabled=!0,e.readonly=!!u.readonly,e.readonly||(e.inline&&"static"===ax.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=e.getParam("content_editable_state",!0)),r.disabled=!1,e.editorUpload=function(e){function n(t){return function(n){return e.selection?t(n):[]}}function r(t,e,n){for(var o=0;-1!==(o=t.indexOf(e,o))&&(t=t.substring(0,o)+n+t.substr(o+e.length),o+=n.length-e.length+1),-1!==o;);return t}function i(t,e,n){return t=r(t,'src="'+e+'"','src="'+n+'"'),r(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')}function a(t,n){G(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=X(e.fragments,(function(e){return i(e,t,n)})):e.content=i(e.content,t,n)}))}function u(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function s(t,n){p.removeByUri(t.src),a(t.src,n),e.$(t).attr({src:Rs(e)?function(t){return t+(-1===t.indexOf("?")?"?":"&")+(new Date).getTime()}(n):n,"data-mce-src":e.convertURL(n,"src")})}function c(o){return m=m||function(e,n){function o(e,o,r,i){var a,u;(a=new t.XMLHttpRequest).open("POST",n.url),a.withCredentials=n.credentials,a.upload.onprogress=function(t){i(t.loaded/t.total*100)},a.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t;a.status<200||300<=a.status?r("HTTP Error: "+a.status):(t=JSON.parse(a.responseText))&&"string"==typeof t.location?o(function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e}(n.basePath,t.location)):r("Invalid JSON: "+a.responseText)},(u=new t.FormData).append("file",e.blob(),e.filename()),a.send(u)}function r(t,e){return{url:e,blobInfo:t,status:!0}}function i(t,e){return{url:"",blobInfo:t,status:!1,error:e}}function a(t,e){$n.each(u[t],(function(t){t(e)})),delete u[t]}var u={};return!1===j(n.handler)&&(n.handler=o),{upload:function(t,s){return!n.url&&function(t){return t===o}(n.handler)?new mn((function(t){t([])})):function(t,o){return t=$n.grep(t,(function(t){return!e.isUploaded(t.blobUri())})),mn.all($n.map(t,(function(t){return e.isPending(t.blobUri())?function(t){var e=t.blobUri();return new mn((function(t){u[e]=u[e]||[],u[e].push(t)}))}(t):function(t,n,o){return e.markPending(t.blobUri()),new mn((function(s){var c;try{var l=function(){c&&c.close()};n(t,(function(n){l(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),r(t,n)),s(r(t,n))}),(function(n){l(),e.removeFailed(t.blobUri()),a(t.blobUri(),i(t,n)),s(i(t,n))}),(function(t){t<0||100<t||(c=c||o()).progressBar.value(t)}))}catch(u){s(i(t,u.message))}}))}(t,n.handler,o)})))}(t,s)}}}(g,{url:Is(e),basePath:Ps(e),credentials:Hs(e),handler:Ls(e)}),b().then(n((function(t){var r=X(t,(function(t){return t.blobInfo}));return m.upload(r,u).then(n((function(n){var r=X(n,(function(n,o){var r=t[o].image;return n.status&&function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")}(e)?s(r,n.url):n.error&&jf.uploadError(e,n.error),{element:r,status:n.status}}));return o&&o(r),r})))})))}function l(t){if(Bs(e))return c(t)}function f(t){return!1!==k(v,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||function(t){return t.getParam("images_dataimg_filter",o(!0),"function")}(e)(t))}function d(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var o=g.getResultUri(n);if(o)return'src="'+o+'"';var r=p.getByUri(n);return(r=r||x(e.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null))?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t}))}var m,h,p=function(){var e=[],n=function(e){var n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||th("blobid"),r=e.name||n,{id:o(n),name:o(r),filename:o(r+"."+function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"}(e.blob.type)),blob:o(e.blob),base64:o(e.base64),blobUri:o(e.blobUri||t.URL.createObjectURL(e.blob)),uri:o(e.uri)}},r=function(t){return i((function(e){return e.id()===t}))},i=function(t){return Y(e,t)[0]};return{create:function(t,e,o,r){if(P(t))return n({id:t,name:r,blob:e,base64:o});if(H(t))return n(t);throw new Error("Unknown input type")},add:function(t){r(t.id())||e.push(t)},get:r,getByUri:function(t){return i((function(e){return e.blobUri()===t}))},findFirst:i,removeByUri:function(n){e=Y(e,(function(e){return e.blobUri()!==n||(t.URL.revokeObjectURL(e.blobUri()),!1)}))},destroy:function(){G(e,(function(e){t.URL.revokeObjectURL(e.blobUri())})),e=[]}}}(),g=function(){function t(t,e){return{status:t,resultUri:e}}function e(t){return t in n}var n={};return{hasBlobUri:e,getResultUri:function(t){var e=n[t];return e?e.resultUri:null},isPending:function(t){return!!e(t)&&1===n[t].status},isUploaded:function(t){return!!e(t)&&2===n[t].status},markPending:function(e){n[e]=t(1,null)},markUploaded:function(e,o){n[e]=t(2,o)},removeFailed:function(t){delete n[t]},destroy:function(){n={}}}}(),v=[],b=function(){return(h=h||function(e,n){var r={};return{findAll:function(i,a){var u;a=a||o(!0),u=Y(function(t){return t?K(t.getElementsByTagName("img")):[]}(i),(function(t){var n=t.src;return!!Hn.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===Hn.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&a(t):0===n.indexOf("data:")&&a(t))}));var s=X(u,(function(e){if(r[e.src])return new mn((function(t){r[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var o=new mn((function(o,r){!function(e,n,o,r){var i,a;0!==n.src.indexOf("blob:")?(i=Sm(n.src).data,(a=e.findFirst((function(t){return t.base64()===i})))?o({image:n,blobInfo:a}):Cm(n.src).then((function(t){a=e.create(dm(),t,i),e.add(a),o({image:n,blobInfo:a})}),(function(t){r(t)}))):(a=e.getByUri(n.src))?o({image:n,blobInfo:a}):Cm(n.src).then((function(r){(function(e){return new mn((function(n){var o=new t.FileReader;o.onloadend=function(){n(o.result)},o.readAsDataURL(e)}))})(r).then((function(t){i=Sm(t).data,a=e.create(dm(),r,i),e.add(a),o({image:n,blobInfo:a})}))}),(function(t){r(t)}))}(n,e,o,r)})).then((function(t){return delete r[t.image.src],t})).catch((function(t){return delete r[e.src],t}));return r[e.src]=o}));return mn.all(s)}}}(g,p)).findAll(e.getBody(),f).then(n((function(t){return t=Y(t,(function(t){return"string"!=typeof t||(jf.displayError(e,t),!1)})),G(t,(function(t){a(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),t})))};return e.on("SetContent",(function(){Bs(e)?l():b()})),e.on("RawSaveContent",(function(t){t.content=d(t.content)})),e.on("GetContent",(function(t){t.source_view||"raw"===t.format||(t.content=d(t.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(t){G(t,(function(t){var e=t.attr("src");if(!p.getByUri(e)){var n=g.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:p,addFilter:function(t){v.push(t)},uploadImages:c,uploadImagesAuto:l,scanForImages:b,destroy:function(){p.destroy(),g.destroy(),h=m=null}}}(e),e.schema=Ao(u),e.dom=$i(c,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:u.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Fs(e),referrerPolicy:Vs(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=function(t){var e=sm(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var o,r,i=e.length,a=t.dom,u="data-mce-"+n;i--;)if((r=(o=e[i]).attr(n))&&!o.attr(u)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=a.serializeStyle(a.parseStyle(r),o.name)).length||(r=null),o.attr(u,r),o.attr(n,r)):"tabindex"===n?(o.attr(u,r),o.attr(n,null)):o.attr(u,t.convertURL(r,n,o.name))}})),e.addNodeFilter("script",(function(t){for(var e,n,o=t.length;o--;)0!==(n=(e=t[o]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)})),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",(function(e){for(var n,o=e.length;o--;)(n=e[o]).type=8,n.name="#comment",n.value="[CDATA["+t.dom.encode(n.value)+"]]"})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n,o=e.length,r=t.schema.getNonEmptyElements();o--;)(n=e[o]).isEmpty(r)&&0===n.getAll("br").length&&(n.append(new pl("br",1)).shortEnded=!0)})),e}(e),e.serializer=lm(u,e),e.selection=im(e.dom,e.getWin(),e.serializer,e),e.annotator=cl(e),e.formatter=Xh(e),e.undoManager=tp(e),e._nodeChangeDispatcher=new My(e),e._selectionOverrides=Ly(e),function(t){var e=ne(I.none()),n=ne(!1),r=na((function(e){t.fire("longpress",et(et({},e),{type:"longpress"})),n.set(!0)}),400);t.on("touchstart",(function(t){op(t).each((function(i){r.cancel();var a={x:o(i.clientX),y:o(i.clientY),target:o(t.target)};r.throttle(t),n.set(!1),e.set(I.some(a))}))}),!0),t.on("touchmove",(function(o){r.cancel(),op(o).each((function(o){e.get().each((function(r){!function(t,e){var n=Math.abs(t.clientX-e.x()),o=Math.abs(t.clientY-e.y());return 5<n||5<o}(o,r)||(e.set(I.none()),n.set(!1),t.fire("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&e.get().filter((function(t){return t.target().isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():t.fire("tap",et(et({},o),{type:"tap"}))}))}),!0)}(e),function(t){!function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))}(t),function(t){t.parser.addNodeFilter("details",(function(t){G(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){G(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",P(e)?e:null),t.attr("data-mce-open",null)}))}))}(t)}(e),function(t){t.on("click",(function(e){3<=e.detail&&function(t){var e=t.selection.getRng(),n=Ou.fromRangeStart(e),o=Ou.fromRangeEnd(e);if(Ou.isElementPosition(n)){var r=n.container();Ry(r)&&Yc.firstPositionIn(r).each((function(t){return e.setStart(t.container(),t.offset())}))}Ou.isElementPosition(o)&&Ry(r=n.container())&&Yc.lastPositionIn(r).each((function(t){return e.setEnd(t.container(),t.offset())})),t.selection.setRng(Hh(e))}(t)}))}(e),function(t){var e=ug.setupSelectedState(t);(function(t){t.on("keyup compositionstart",i(Bb,t))})(t),function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){var o=lt().os;qb([{keyCode:Xf.RIGHT,action:Xg(t,!0)},{keyCode:Xf.LEFT,action:Xg(t,!1)},{keyCode:Xf.UP,action:Gg(t,!1)},{keyCode:Xf.DOWN,action:Gg(t,!0)},{keyCode:Xf.RIGHT,action:tv(t,!0)},{keyCode:Xf.LEFT,action:tv(t,!1)},{keyCode:Xf.UP,action:ev(t,!1)},{keyCode:Xf.DOWN,action:ev(t,!0)},{keyCode:Xf.RIGHT,action:ug.move(t,e,!0)},{keyCode:Xf.LEFT,action:ug.move(t,e,!1)},{keyCode:Xf.RIGHT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:ug.moveNextWord(t,e)},{keyCode:Xf.LEFT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:ug.movePrevWord(t,e)},{keyCode:Xf.UP,action:iv(t,!1)},{keyCode:Xf.DOWN,action:iv(t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)}))}(t,e),function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){qb([{keyCode:Xf.BACKSPACE,action:Wb(by,t,!1)},{keyCode:Xf.BACKSPACE,action:Wb(ny,t,!1)},{keyCode:Xf.DELETE,action:Wb(ny,t,!0)},{keyCode:Xf.BACKSPACE,action:Wb(ry,t,!1)},{keyCode:Xf.DELETE,action:Wb(ry,t,!0)},{keyCode:Xf.BACKSPACE,action:Wb(iy,t,e,!1)},{keyCode:Xf.DELETE,action:Wb(iy,t,e,!0)},{keyCode:Xf.BACKSPACE,action:Wb(fy,t,!1)},{keyCode:Xf.DELETE,action:Wb(fy,t,!0)},{keyCode:Xf.BACKSPACE,action:Wb(dy,t,!1)},{keyCode:Xf.DELETE,action:Wb(dy,t,!0)},{keyCode:Xf.BACKSPACE,action:Wb(Jb,t,!1)},{keyCode:Xf.DELETE,action:Wb(Jb,t,!0)},{keyCode:Xf.BACKSPACE,action:Wb(Kb,t,!1)},{keyCode:Xf.DELETE,action:Wb(Kb,t,!0)},{keyCode:Xf.BACKSPACE,action:Wb(ay,t,!1)},{keyCode:Xf.DELETE,action:Wb(ay,t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)})),t.on("keyup",(function(e){!1===e.isDefaultPrevented()&&function(t,e){qb([{keyCode:Xf.BACKSPACE,action:Wb(oy,t)},{keyCode:Xf.DELETE,action:Wb(oy,t)}],e)}(t,e)}))}(t,e),function(t){t.on("keydown",(function(e){e.keyCode===Xf.ENTER&&function(t,e){e.isDefaultPrevented()||(e.preventDefault(),function(t){t.typing&&(t.typing=!1,t.add())}(t.undoManager),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),Ay(t,e)})))}(t,e)}))}(t),function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){qb([{keyCode:Xf.SPACEBAR,action:Wb(zb,t)}],e).each((function(t){e.preventDefault()}))}(t,e)}))}(t),function(t){!function(t){var e=ea((function(){t.composing||Db(t)}),0);zy.isIE()&&(t.on("keypress",(function(t){e.throttle()})),t.on("remove",(function(t){e.cancel()})))}(t),t.on("input",(function(e){!1===e.isComposing&&Db(t)}))}(t),function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){qb([{keyCode:Xf.END,action:Yg(t,!0)},{keyCode:Xf.HOME,action:Yg(t,!1)}],e).each((function(t){e.preventDefault()}))}(t,e)}))}(t)}(e),function(t){zs(t)&&t.on("NodeChange",i(ap,t))}(e),function(t){var e=t.dom,n=zs(t),o=function(t){return t.getParam("placeholder",_s.getAttrib(t.getElement(),"placeholder"),"string")}(t),r=function(i,a){if(!function(t){if(ep(t)){var e=t.keyCode;return!np(t)&&(Xf.metaKeyPressed(t)||t.altKey||112<=e&&e<=123||v(Wp,e))}return!1}(i)){var u=t.getBody(),s=!function(t){return ep(t)&&!(np(t)||"keyup"===t.type&&229===t.keyCode)}(i)&&function(t,e,n){if(ch(ee.fromDom(e),!1)){var o=""===n,r=e.firstElementChild;return!r||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&(o?!t.isBlock(r):n===r.nodeName.toLowerCase())}return!1}(e,u,n);""!==e.getAttrib(u,qp)===s&&!a||(e.setAttrib(u,qp,s?o:null),e.setAttrib(u,"aria-placeholder",s?o:null),function(t,e){t.fire("PlaceholderToggle",{state:e})}(t,s),t.on(s?"keydown":"keyup",r),t.off(s?"keyup":"keydown",r))}};o&&t.on("init",(function(n){r(n,!0),t.on("change SetContent ExecCommand",r),t.on("remove",(function(){var n=t.getBody();e.setAttrib(n,qp,null),e.setAttrib(n,"aria-placeholder",null)}))}))}(e),function(t){t.fire("PreInit")}(e),u.browser_spellcheck||u.gecko_spellcheck||(c.body.spellcheck=!1,ax.setAttrib(r,"spellcheck","false")),e.quirks=function(e){function n(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(i){}}function o(t){return t.isDefaultPrevented()}function r(){e.shortcuts.add("meta+a",null,"SelectAll")}function i(){e.on("keydown",(function(t){if(!o(t)&&t.keyCode===s&&f.isCollapsed()&&0===f.getRng().startOffset){var e=f.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))}function a(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(11<Hn.ie)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))}var u=$n.each,s=Xf.BACKSPACE,c=Xf.DELETE,l=e.dom,f=e.selection,d=e.settings,m=e.parser,h=Hn.gecko,p=Hn.webkit,g="data:text/mce-internal,",v=Hn.ie?"Text":"URL";function b(t){var e=l.create("body"),n=t.cloneContents();return e.appendChild(n),f.serializer.serialize(e,{format:"html"})}function y(){var t=l.getAttribs(f.getStart().cloneNode(!1));return function(){var n=f.getStart();n!==e.getBody()&&(l.setAttrib(n,"style",null),u(t,(function(t){n.setAttributeNode(t.cloneNode(!0))})))}}function x(){return!f.isCollapsed()&&l.getParent(f.getStart(),l.isBlock)!==l.getParent(f.getEnd(),l.isBlock)}return e.on("keydown",(function(t){var n,r,i,a,u;if(!o(t)&&t.keyCode===Xf.BACKSPACE&&(r=(n=f.getRng()).startContainer,i=n.startOffset,a=l.getRoot(),u=r,n.collapsed&&0===i)){for(;u&&u.parentNode&&u.parentNode.firstChild===u&&u.parentNode!==a;)u=u.parentNode;"BLOCKQUOTE"===u.tagName&&(e.formatter.toggle("blockquote",null,u),(n=l.createRng()).setStart(r,0),n.setEnd(r,0),f.setRng(n))}})),e.on("keydown",(function(t){var n,r,i=t.keyCode;if(!o(t)&&(i===c||i===s)){if(n=e.selection.isCollapsed(),r=e.getBody(),n&&!l.isEmpty(r))return;if(!n&&!function(t){var n=b(t),o=l.createRng();return o.selectNode(e.getBody()),n===b(o)}(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),r.firstChild&&l.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}})),Hn.windowsPhone||e.on("keyup focusin mouseup",(function(t){Xf.modifierPressed(t)||f.normalize()}),!0),p&&(e.inline||l.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=f.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Sa(n.startContainer))return;f.placeCaretAt(t.clientX,t.clientY)}else f.setRng(n)})),e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==l.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&l.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),f.select(n))})),d.forced_root_block&&e.on("init",(function(){n("DefaultParagraphSeparator",zs(e))})),e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(t){t.preventDefault()}))})),i(),m.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),Hn.iOS?(e.inline||e.on("keydown",(function(){t.document.activeElement===t.document.body&&e.getWin().focus()})),a(),e.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):r()),11<=Hn.ie&&(a(),i()),Hn.ie&&(r(),n("AutoUrlDetect",!1),e.on("dragstart",(function(t){!function(t){var n,o;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&f.select(t.target),0<(n=e.selection.getContent()).length&&(o=g+escape(e.id)+","+escape(n),t.dataTransfer.setData(v,o)))}(t)})),e.on("drop",(function(t){if(!o(t)){var n=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(v))&&0<=e.indexOf(g)?(e=e.substr(g.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}(t);if(n&&n.id!==e.id){t.preventDefault();var r=Fd(t.x,t.y,e.getDoc());f.setRng(r),function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:!0}):e.execCommand("mceInsertContent",!1,t)}(n.html)}}}))),h&&(e.on("keydown",(function(t){if(!o(t)&&t.keyCode===s){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&0===f.getRng().startOffset){var n=f.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return l.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(l.remove(r),t.preventDefault())}}})),t.Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!o(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),An.setEditorTimeout(e,(function(){n.focus()}))}})),e.on("keypress",(function(t){var n;if(!o(t)&&(8===t.keyCode||46===t.keyCode)&&x())return n=y(),e.getDoc().execCommand("delete",!1,null),n(),t.preventDefault(),!1})),l.bind(e.getDoc(),"cut",(function(t){var n;!o(t)&&x()&&(n=y(),An.setEditorTimeout(e,(function(){n()})))})),d.readonly||e.on("BeforeExecCommand mousedown",(function(){n("StyleWithCSS",!1),n("enableInlineTableEditing",!1),d.object_resizing||n("enableObjectResizing",!1)})),e.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||u(l.select("a"),(function(t){var e=t.parentNode,n=l.getRoot();if(e.lastChild===t){for(;e&&!l.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}l.add(e,"br",{"data-mce-bogus":1})}}))})),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),Hn.mac&&e.on("keydown",(function(t){!Xf.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})),i()),{refreshContentEditable:function(){},isHidden:function(){var t;return!(!h||e.removed||(t=e.selection.getSel())&&t.rangeCount&&0!==t.rangeCount)}}}(e),function(t){t.fire("PostRender")}(e);var l=function(t){return t.getParam("directionality",Zi.isRtl()?"rtl":void 0)}(e);void 0!==l&&(r.dir=l),u.protect&&e.on("BeforeSetContent",(function(t){$n.each(u.protect,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),0<e.contentStyles.length&&(a="",$n.each(e.contentStyles,(function(t){a+=t+"\r\n"})),e.dom.addStyle(a)),function(t){return t.inline?ax.styleSheetLoader:t.dom.styleSheetLoader}(e).loadAll(e.contentCSS,(function(t){Fy(e)}),(function(t){Fy(e)})),u.content_style&&function(t,e){var n=ee.fromDom(t.getDoc().head),o=ee.fromTag("style");Ye(o,"type","text/css"),_e(o,ee.fromText(e)),_e(n,o)}(e,u.content_style)},sx=$i.DOM,cx=$i.DOM,lx=function(t,e,n){var o=Bf.get(n),r=Bf.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=$n.trim(n),o&&-1===$n.inArray(e,n)){if($n.each(Bf.dependencies(n),(function(n){lx(t,e,n)})),t.plugins[n])return;try{var i=new o(t,r,t.$);(t.plugins[n]=i).init&&(i.init(t,r),e.push(n))}catch(Qw){jf.pluginInitError(t,n,Qw)}}},fx=function(e){e.fire("ScriptsLoaded"),function(t){var e=$n.trim(t.settings.icons),n=t.ui.registry.getAll().icons;A(et(et({},{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',"sort-asc":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M4 8h5a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2zm0 8h8a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0-4h7a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"/><path fill-rule="nonzero" d="M16 8.4l-2.3 2.3a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L18 8.4V18a1 1 0 0 1-2 0V8.4z"/></g></svg>',"sort-dsc":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M4 16h5a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2zm0-8h8a1 1 0 0 0 0-2H4a1 1 0 1 0 0 2zm0 4h7a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2z"/><path fill-rule="nonzero" d="M16 15.6l-2.3-2.3a1 1 0 0 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 0 0-1.4-1.4L18 15.6V6a1 1 0 0 0-2 0v9.6z"/></g></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 0 1-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 0 1-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 0 1 2 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'}),Of.get(e).icons),(function(e,o){tt(n,o)||t.ui.registry.addIcon(o,e)}))}(e),function(t){var e=t.settings.theme;if(P(e)){t.settings.theme=Vy(e);var n=Rf.get(e);t.theme=new n(t,Rf.urls[e]),t.theme.init&&t.theme.init(t,Rf.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}}(e),function(t){var e=[];$n.each(t.settings.plugins.split(/[ ,]/),(function(n){lx(t,e,Vy(n))}))}(e);var n=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,P(t.settings.theme)?function(t){return t.theme.renderUI()}(t):j(t.settings.theme)?function(t){var e=t.getElement(),n=(0,t.settings.theme)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n}(t):function(t){var e=t.getElement();return t.inline?jy(null):function(t){var e=cx.create("div");return cx.insertAfter(e,t),jy(e)}(e)}(t)}(e);return e.editorContainer=n.editorContainer?n.editorContainer:null,function(t){t.contentCSS=t.contentCSS.concat(function(t){var e=function(t){var e=t.settings.content_css;return P(e)?X(e.split(","),ut):L(e)?e:!1===e||t.inline?[]:["default"]}(t),n=t.editorManager.baseURL+"/skins/content",o="content"+t.editorManager.suffix+".css",r=!0===t.inline;return X(e,(function(e){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(e)&&!r?n+"/"+e+"/"+o:t.documentBaseURI.toAbsolute(e)}))}(t))}(e),e.inline?ux(e):function(e,n){var o=function(e,n){var o=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=function(t,e,n,o){var r=ee.fromTag("iframe");return Wt(r,o),Wt(r,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),ia(r,"tox-edit-area__iframe"),r}(e.id,o,0,function(t){return t.getParam("iframe_attrs",{})}(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var i=function(e,n){if(t.document.domain!==t.window.location.hostname&&Hn.browser.isIE()){var o=th("mce");return e[o]=function(){ux(e)},sx.setAttrib(n,"src",'javascript:(function(){document.open();document.domain="'+t.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+o+"(true);})()"),!0}return!1}(e,r);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=r,e.iframeHTML=function(t){var e,n,o;return o=function(t){return t.getParam("doctype","<!DOCTYPE html>")}(t)+"<html><head>",function(t){return t.getParam("document_base_url","")}(t)!==t.documentBaseUrl&&(o+='<base href="'+t.documentBaseURI.getURI()+'" />'),o+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=function(t){return Ku(t,"body_id","tinymce")}(t),n=function(t){return Ku(t,"body_class","")}(t),Ds(t)&&(o+='<meta http-equiv="Content-Security-Policy" content="'+Ds(t)+'" />'),o+'</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'}(e),sx.add(n.iframeContainer,r),i}(e,n);n.editorContainer&&(sx.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=sx.isHidden(n.editorContainer)),e.getElement().style.display="none",sx.setAttrib(e.id,"aria-hidden","true"),o||ux(e)}(e,n)},dx=$i.DOM,mx=Ge.matchNodeNames(["td","th"]),hx=function(t,e){var n=function(t){var e;return"string"!=typeof t?(e=$n.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}}(e);!function(t,e,n){var o,r,i,a,u,s,c,l,f,d,m,h=t.selection,p=t.dom;if(/^ | $/.test(e)&&(e=function(t,e){var n,o;function r(t){return n[t]&&3===n[t].nodeType}return o=t.startOffset,3===(n=t.startContainer).nodeType&&(0<o?e=e.replace(/^&nbsp;/," "):r("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),o<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(h.getRng(),e)),o=t.parser,m=n.merge,r=Cl({validate:t.settings.validate},t.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',(s=t.fire("BeforeSetContent",s={content:e,format:"html",selection:!0,paste:n.paste})).isDefaultPrevented())t.fire("SetContent",{content:s.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=s.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,d);var g=(l=h.getRng()).startContainer||(l.parentElement?l.parentElement():null),v=t.getBody();g===v&&h.isCollapsed()&&p.isBlock(v.firstChild)&&function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]}(t,v.firstChild)&&p.isEmpty(v.firstChild)&&((l=p.createRng()).setStart(v.firstChild,0),l.setEnd(v.firstChild,0),h.setRng(l)),h.isCollapsed()||(t.selection.setRng(Hh(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),e=function(t,e){var n,o;return o=t.startOffset,3===(n=t.startContainer).nodeType&&t.collapsed&&(n.data[o]===Io?(n.deleteData(o,1),/[\u00a0| ]$/.test(e)||(e+=" ")):n.data[o-1]===Io&&(n.deleteData(o-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e}(t.selection.getRng(),e));var b={context:(i=h.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(u=o.parse(e,b),!0===n.paste&&function(t,e){var n=e.firstChild,o=e.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return t.firstChild&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||t.value===Io}(e.firstChild)}(t,e))}(t,o)&&(o=o.prev),!(!n||n!==o||"ul"!==n.name&&"ol"!==n.name)}(t.schema,u)&&function(t,e){return!!Uy(t,e)}(p,i))return l=function(t,e,n,o){function r(t){var o=vs.fromRangeStart(n),r=nc(e.getRoot()),i=1===t?r.prev(o):r.next(o);return!i||Uy(e,i.getNode())!==a}var i=function(t,e,n){var o=e.serialize(n);return function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t}(t.createFragment(o))}(e,t,o),a=Uy(e,n.startContainer),u=function(t){return 0<t.length&&function(t){return!t.firstChild||function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&function(t){return t.data===Io||Ge.isBr(t)}(t.firstChild)}(t)}(t[t.length-1])?t.slice(0,-1):t}(function(t){return $n.grep(t.childNodes,(function(t){return"LI"===t.nodeName}))}(i.firstChild)),s=e.getRoot();return r(1)?function(t,e,n){var o=t.parentNode;return $n.each(e,(function(e){o.insertBefore(e,t)})),function(t,e){var n=vs.before(t),o=nc(e).next(n);return o?o.toRange():null}(t,n)}(a,u,s):r(2)?function(t,e,n,o){return o.insertAfter(e.reverse(),t),Wy(e[0],n)}(a,u,s,e):function(t,e,n,o){var r=function(t,e){var n=e.cloneRange(),o=e.cloneRange();return n.setStartBefore(t),o.setEndAfter(t),[n.cloneContents(),o.cloneContents()]}(t,o),i=t.parentNode;return i.insertBefore(r[0],t),$n.each(e,(function(e){i.insertBefore(e,t)})),i.insertBefore(r[1],t),i.removeChild(t),Wy(e[e.length-1],n)}(a,u,s,n)}(r,p,t.selection.getRng(),u),t.selection.setRng(l),void t.fire("SetContent",s);if(function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(u),"mce_marker"===(f=u.lastChild).attr("id"))for(f=(c=f).prev;f;f=f.walk(!0))if(3===f.type||!p.isBlock(f.name)){t.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(c,f,"br"===f.name);break}if(t._selectionOverrides.showBlockCaretContainer(i),b.invalid){for(qy(t,d),i=h.getNode(),a=t.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)f=(i=f).parentNode;e=i===a?a.innerHTML:p.getOuterHTML(i),e=r.serialize(o.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return r.serialize(u)})))),i===a?p.setHTML(a,e):p.setOuterHTML(i,e)}else!function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var o=n.firstChild;!o||o===n.lastChild&&"BR"===o.nodeName?t.dom.setHTML(n,e):qy(t,e)}}(t,e=r.serialize(u),i);!function(t,e){var n=t.schema.getTextInlineElements(),o=t.dom;if(e){var r=t.getBody(),i=new gh(o);$n.each(o.select("*[data-mce-fragment]"),(function(t){for(var e=t.parentNode;e&&e!==r;e=e.parentNode)n[t.nodeName.toLowerCase()]&&i.compare(e,t)&&o.remove(t,!0)}))}}(t,m),function(t,e){var n,o,r,i,a,u=t.dom,s=t.selection;if(e){if(t.selection.scrollIntoView(e),n=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e))return u.remove(e),s.select(n);var c=u.createRng();(i=e.previousSibling)&&3===i.nodeType?(c.setStart(i,i.nodeValue.length),Hn.ie||(a=e.nextSibling)&&3===a.nodeType&&(i.appendData(a.data),a.parentNode.removeChild(a))):(c.setStartBefore(e),c.setEndBefore(e)),o=u.getParent(e,u.isBlock),u.remove(e),o&&u.isEmpty(o)&&(t.$(o).empty(),c.setStart(o,0),c.setEnd(o,0),mx(o)||function(t){return!!t.getAttribute("data-mce-fragment")}(o)||!(r=function(e){var n=vs.fromRangeStart(e);if(n=nc(t.getBody()).next(n))return n.toRange()}(c))?u.add(o,u.create("br",{"data-mce-bogus":"1"})):(c=r,u.remove(o))),s.setRng(c)}}(t,p.get("mce_marker")),function(t){$n.each(t.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")}))}(t.getBody()),function(t,e){I.from(t.getParent(e,"td,th")).map(ee.fromDom).each(oh)}(t.dom,t.selection.getStart()),t.fire("SetContent",s),t.addVisual()}}(t,n.content,n.details)},px={"font-size":"size","font-family":"face"},gx={getFontSize:Gy("font-size"),getFontFamily:n((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),Gy("font-family")),toPt:function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}},vx=$n.each,bx=$n.map,yx=$n.inArray,xx=(wx.prototype.execCommand=function(t,e,n,o){var r,i,u=!1,s=this;if(!s.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus?function(t){zl(t).each((function(e){t.selection.setRng(e)}))}(s.editor):s.editor.focus(),(o=s.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;if(i=t.toLowerCase(),r=s.commands.exec[i])return r(i,e,n),s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(vx(this.editor.plugins,(function(o){if(o.execCommand&&o.execCommand(t,e,n))return s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!(u=!0)})),u)return u;if(s.editor.theme&&s.editor.theme.execCommand&&s.editor.theme.execCommand(t,e,n))return s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{u=s.editor.getDoc().execCommand(t,e,n)}catch(a){}return!!u&&(s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},wx.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(d){}return!1}},wx.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(d){}}},wx.prototype.addCommands=function(t,e){var n=this;e=e||"exec",vx(t,(function(t,o){vx(o.toLowerCase().split(","),(function(o){n.commands[e][o]=t}))}))},wx.prototype.addCommand=function(t,e,n){var o=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,r,i,a){return e.call(n||o.editor,r,i,a)}},wx.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(s){}return!1},wx.prototype.addQueryStateHandler=function(t,e,n){var o=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||o.editor)}},wx.prototype.addQueryValueHandler=function(t,e,n){var o=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||o.editor)}},wx.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},wx.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},wx.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},wx.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},wx.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},wx.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},wx.prototype.setupCommands=function(t){var e=this;function n(e){return function(){var n=t.selection.isCollapsed()?[t.dom.getParent(t.selection.getNode(),t.dom.isBlock)]:t.selection.getSelectedBlocks(),o=bx(n,(function(n){return!!t.formatter.matchNode(n,e)}));return-1!==yx(o,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var o,r=t.getDoc();try{e.execNativeCommand(n)}catch(h){o=!0}if("paste"!==n||r.queryCommandEnabled(n)||(o=!0),o||!r.queryCommandSupported(n)){var i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Hn.mac&&(i=i.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var o=n.substring(7);"full"===o&&(o="justify"),vx("left,center,right,justify".split(","),(function(e){o!==e&&t.formatter.remove("align"+e)})),"none"!==o&&e.toggleFormat("align"+o)},"InsertUnorderedList,InsertOrderedList":function(n){var o,r;e.execNativeCommand(n),(o=t.dom.getParent(t.selection.getNode(),"ol,ul"))&&/^(H[1-6]|P|ADDRESS|PRE)$/.test((r=o.parentNode).nodeName)&&(e.storeSelection(),t.dom.split(r,o),e.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,o){e.toggleFormat(t,o)},FontName:function(e,n,o){!function(t,e){var n=Jy(t,e);t.formatter.toggle("fontname",{value:function(t){var e=t.split(/\s*,\s*/);return X(e,(function(t){return-1===t.indexOf(" ")||at(t,'"')||at(t,"'")?t:"'"+t+"'"})).join(",")}(n)}),t.nodeChanged()}(t,o)},FontSize:function(e,n,o){!function(t,e){t.formatter.toggle("fontsize",{value:Jy(t,e)}),t.nodeChanged()}(t,o)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,o){return e.toggleFormat(o||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,o,r){var i=r||t.selection.getNode();i!==t.getBody()&&(e.storeSelection(),t.dom.remove(i,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,o){var r=0;t.dom.getParent(t.selection.getNode(),(function(e){if(1===e.nodeType&&r++===o)return t.selection.select(e),!1}),t.getBody())},mceSelectNode:function(e,n,o){t.selection.select(o)},mceInsertContent:function(e,n,o){hx(t,o)},mceInsertRawHTML:function(e,n,o){t.selection.setContent("tiny_mce_marker");var r=t.getContent();t.setContent(r.replace(/tiny_mce_marker/g,(function(){return o})))},mceInsertNewLine:function(e,n,o){Ay(t,o)},mceToggleFormat:function(t,n,o){e.toggleFormat(o)},mceSetContent:function(e,n,o){t.setContent(o)},"Indent,Outdent":function(e){jv(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,o){t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,o){var r;"string"==typeof o&&(o={href:o}),r=t.dom.getParent(t.selection.getNode(),"a"),o.href=o.href.replace(/ /g,"%20"),r&&o.href||t.formatter.remove("link"),o.href&&t.formatter.apply("link",o,r)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),Ge.isContentEditableTrue);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},delete:function(){!function(t){by(t)||ny(t,!1)||ry(t,!1)||iy(t,!1)||Kb(t,!1)||fy(t)||Jb(t)||ay(t,!1)||(Xy(t,"Delete"),Gb(t))}(t)},forwardDelete:function(){!function(t){ny(t,!0)||ry(t,!0)||iy(t,!0)||Kb(t,!0)||fy(t)||Jb(t)||ay(t,!0)||Xy(t,"ForwardDelete")}(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,o){return Ty(t,o),!0}}),e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return Fv(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",(function(){return function(t){return Ky(t).fold((function(){return Yy(t).map((function(e){return gx.getFontFamily(t.getBody(),e)})).getOr("")}),(function(e){return gx.getFontFamily(t.getBody(),e)}))}(t)}),this),e.addQueryValueHandler("FontSize",(function(){return function(t){return Ky(t).fold((function(){return Yy(t).map((function(e){return gx.getFontSize(t.getBody(),e)})).getOr("")}),(function(e){return gx.getFontSize(t.getBody(),e)}))}(t)}),this)},wx);function wx(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}var Cx=$n.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Sx=(kx.isNative=function(t){return!!Cx[t.toLowerCase()]},kx.prototype.fire=function(t,e){var n,o,r,i;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=l},e.stopPropagation=function(){e.isPropagationStopped=l},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=l},e.isDefaultPrevented=c,e.isPropagationStopped=c,e.isImmediatePropagationStopped=c),this.settings.beforeFire&&this.settings.beforeFire(e),n=this.bindings[t])for(o=0,r=n.length;o<r;o++){if((i=n[o]).once&&this.off(t,i.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===i.func.call(this.scope,e))return e.preventDefault(),e}return e},kx.prototype.on=function(t,e,n,o){var r,i,a;if(!1===e&&(e=c),e){var u={func:e};for(o&&$n.extend(u,o),a=(i=t.toLowerCase().split(" ")).length;a--;)(r=this.bindings[t=i[a]])||(r=this.bindings[t]=[],this.toggleEvent(t,!0)),n?r.unshift(u):r.push(u)}return this},kx.prototype.off=function(t,e){var n,o,r,i,a;if(t)for(n=(i=t.toLowerCase().split(" ")).length;n--;){if(o=this.bindings[t=i[n]],!t){for(r in this.bindings)this.toggleEvent(r,!1),delete this.bindings[r];return this}if(o){if(e)for(a=o.length;a--;)o[a].func===e&&(o=o.slice(0,a).concat(o.slice(a+1)),this.bindings[t]=o);else o.length=0;o.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else{for(t in this.bindings)this.toggleEvent(t,!1);this.bindings={}}return this},kx.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},kx.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},kx);function kx(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||c}function Tx(t){return t._eventDispatcher||(t._eventDispatcher=new Sx({scope:t,toggleEvent:function(e,n){Sx.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher}function Ex(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(m){}}function Ox(t,e){t.dom().contentEditable=e?"true":"false"}function Nx(t){return t.readonly}function Ax(t){t.parser.addAttributeFilter("contenteditable",(function(e){Nx(t)&&G(e,(function(t){t.attr(Ix,t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter(Ix,(function(e){Nx(t)&&G(e,(function(t){t.attr("contenteditable",t.attr(Ix))}))})),t.serializer.addTempAttr(Ix)}function _x(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=Px.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()}function Dx(t,e,n){!function(t){return!t.hidden&&!Nx(t)}(t)?Nx(t)&&function(t,e){var n=e.target;!function(t){return"click"===t.type}(e)||Xf.metaKeyPressed(e)||!function(t,e){return null!==t.dom.getParent(e,"a")}(t,n)||e.preventDefault()}(t,n):t.fire(e,n)}function zx(t,e){var n,o;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=_x(t,e),t.settings.event_root){if(Bx||(Bx={},t.editorManager.on("removeEditor",(function(){var e;if(!t.editorManager.activeEditor&&Bx){for(e in Bx)t.dom.unbind(_x(t,e));Bx=null}}))),Bx[e])return;Bx[e]=o=function(n){for(var o=n.target,r=t.editorManager.get(),i=r.length;i--;){var a=r[i].getBody();a!==o&&!Px.isChildOf(o,a)||Dx(r[i],e,n)}},Px.bind(n,e,o)}else Px.bind(n,e,o=function(n){Dx(t,e,n)}),t.delegates[e]=o}function Mx(e,n,o,r){var i=o[n.get()],a=o[r];try{a.activate()}catch(Qw){return void t.console.error("problem while activating editor mode "+r+":",Qw)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&function(t,e){var n=ee.fromDom(t.getBody());(function(t,e,n){aa(t,e)&&!1===n?function(t,e){ra(t)?t.dom().classList.remove(e):function(t,e){!function(t,e,n){var o=Y(oa(t,e),(function(t){return"mce-content-readonly"!==t}));0<o.length?Ye(t,e,o.join(" ")):Xt(t,e)}(t,"class")}(t),function(t){0===(ra(t)?t.dom().classList:function(t){return oa(t,"class")}(t)).length&&Xt(t,"class")}(t)}(t,e):n&&ia(t,e)})(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){I.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))}(t),t.readonly=!0,Ox(n,!1),function(t){G(ua(t,'*[contenteditable="true"]'),(function(t){Ye(t,Ix,"true"),Ox(t,!1)}))}(n)):(t.readonly=!1,Ox(n,!0),function(t){G(ua(t,"*["+Ix+'="true"]'),(function(t){Xt(t,Ix),Ox(t,!0)}))}(n),Ex(t,"StyleWithCSS",!1),Ex(t,"enableInlineTableEditing",!1),Ex(t,"enableObjectResizing",!1),function(t){return Hl(t)||function(t){return kl().filter((function(e){return!function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))}(e.dom())&&hf(t,e.dom())})).isSome()}(t)}(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())}(e,a.editorReadOnly),n.set(r),function(t,e){t.fire("SwitchMode",{mode:e})}(e,r)}var Bx,Rx={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var o=Tx(this).fire(t,e);if(!1!==n&&this.parent)for(var r=this.parent();r&&!o.isPropagationStopped();)r.fire(t,o,!1),r=r.parent();return o},on:function(t,e,n){return Tx(this).on(t,e,n)},off:function(t,e){return Tx(this).off(t,e)},once:function(t,e){return Tx(this).once(t,e)},hasEventListeners:function(t){return Tx(this).has(t)}},Ix="data-mce-contenteditable",Px=$i.DOM,Hx=et(et({},Rx),{bindPendingEventDelegates:function(){var t=this;$n.each(t._pendingNativeEvents,(function(e){zx(t,e)}))},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?zx(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(_x(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),o=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(_x(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&o&&(n.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(n),o.unbind(e.getContainer()))}}),Lx=["design","readonly"],Fx=$n.each,Vx=$n.explode,jx={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},$x=$n.makeMap("alt,ctrl,shift,meta,access"),Ux=(Wx.prototype.add=function(t,e,n,o){var r,i=this;return"string"==typeof(r=n)?n=function(){i.editor.execCommand(r,!1,null)}:$n.isArray(r)&&(n=function(){i.editor.execCommand(r[0],r[1],r[2])}),Fx(Vx($n.trim(t)),(function(t){var r=i.createShortcut(t,e,n,o);i.shortcuts[r.id]=r})),!0},Wx.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},Wx.prototype.parseShortcut=function(t){var e,n,o={};for(n in Fx(Vx(t.toLowerCase(),"+"),(function(t){t in $x?o[t]=!0:/^[0-9]{2,}$/.test(t)?o.keyCode=parseInt(t,10):(o.charCode=t.charCodeAt(0),o.keyCode=jx[t]||t.toUpperCase().charCodeAt(0))})),e=[o.keyCode],$x)o[n]?e.push(n):o[n]=!1;return o.id=e.join(","),o.access&&(o.alt=!0,Hn.mac?o.ctrl=!0:o.shift=!0),o.meta&&(Hn.mac?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o},Wx.prototype.createShortcut=function(t,e,n,o){var r;return(r=$n.map(Vx(t,">"),this.parseShortcut))[r.length-1]=$n.extend(r[r.length-1],{func:n,scope:o||this.editor}),$n.extend(r[0],{desc:this.editor.translate(e),subpatterns:r.slice(1)})},Wx.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},Wx.prototype.isFunctionKey=function(t){return"keydown"===t.type&&112<=t.keyCode&&t.keyCode<=123},Wx.prototype.matchShortcut=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},Wx.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},Wx);function Wx(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",(function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(Fx(e.shortcuts,(function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0})),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))}))}function qx(){var t=function(){function t(t,e){return function(n,o){return t[n.toLowerCase()]=et(et({},o),{type:e})}}var e={},n={},o={},r={},i={},a={},u={};return{addButton:t(e,"button"),addGroupToolbarButton:t(e,"grouptoolbarbutton"),addToggleButton:t(e,"togglebutton"),addMenuButton:t(e,"menubutton"),addSplitButton:t(e,"splitbutton"),addMenuItem:t(n,"menuitem"),addNestedMenuItem:t(n,"nestedmenuitem"),addToggleMenuItem:t(n,"togglemenuitem"),addAutocompleter:t(o,"autocompleter"),addContextMenu:t(i,"contextmenu"),addContextToolbar:t(a,"contexttoolbar"),addContextForm:t(a,"contextform"),addSidebar:t(u,"sidebar"),addIcon:function(t,e){return r[t.toLowerCase()]=e},getAll:function(){return{buttons:e,menuItems:n,icons:r,popups:o,contextMenus:i,contextToolbars:a,sidebars:u}}}}();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}}var Xx=$n.each,Gx=$n.trim,Yx="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Kx={ftp:21,http:80,https:443,mailto:25},Jx=(Qx.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(e=o[1]),{type:e,data:n[1]}},Qx.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},Qx.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},Qx.prototype.toRelative=function(t){var e;if("./"===t)return t;var n=new Qx(t,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var o=this.getURI(),r=n.getURI();return o===r||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===r?o:(e=this.toRelPath(this.path,n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),e)},Qx.prototype.toAbsolute=function(t,e){var n=new Qx(t,{base_uri:this});return n.getURI(e&&this.isSameOrigin(n))},Qx.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=Kx[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},Qx.prototype.toRelPath=function(t,e){var n,o,r,i=0,a="",u=t.substring(0,t.lastIndexOf("/")).split("/");if(n=e.split("/"),u.length>=n.length)for(o=0,r=u.length;o<r;o++)if(o>=n.length||u[o]!==n[o]){i=o+1;break}if(u.length<n.length)for(o=0,r=n.length;o<r;o++)if(o>=u.length||u[o]!==n[o]){i=o+1;break}if(1===i)return e;for(o=0,r=u.length-(i-1);o<r;o++)a+="../";for(o=i-1,r=n.length;o<r;o++)a+=o!==i-1?"/"+n[o]:n[o];return a},Qx.prototype.toAbsPath=function(t,e){var n,o,r,i=0,a=[];o=/\/$/.test(e)?"/":"";var u=t.split("/"),s=e.split("/");for(Xx(u,(function(t){t&&a.push(t)})),u=a,n=s.length-1,a=[];0<=n;n--)0!==s[n].length&&"."!==s[n]&&(".."!==s[n]?0<i?i--:a.push(s[n]):i++);return 0!==(r=(n=u.length-i)<=0?T(a).join("/"):u.slice(0,n).join("/")+"/"+T(a).join("/")).indexOf("/")&&(r="/"+r),o&&r.lastIndexOf("/")!==r.length-1&&(r+=o),r},Qx.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(e+=this.protocol?this.protocol+"://":"//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},Qx);function Qx(e,n){e=Gx(e),this.settings=n||{};var o=this.settings.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))r.source=e;else{var i=0===e.indexOf("//");if(0!==e.indexOf("/")||i||(e=(o&&o.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var a=this.settings.base_uri?this.settings.base_uri.path:new Qx(t.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+r.toAbsPath(a,e);else{var u=/([^#?]*)([#?]?.*)/.exec(e);e=(o&&o.protocol||"http")+"://mce_host"+r.toAbsPath(a,u[1])+u[2]}}e=e.replace(/@@/g,"(mce_at)");var s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);Xx(Yx,(function(t,e){var n=s[e];n=n&&n.replace(/\(mce_at\)/g,"@@"),r[t]=n})),o&&(r.protocol||(r.protocol=o.protocol),r.userInfo||(r.userInfo=o.userInfo),r.port||"mce_host"!==r.host||(r.port=o.port),r.host&&"mce_host"!==r.host||(r.host=o.host),r.source=""),i&&(r.protocol="")}}var Zx=$i.DOM,tw=$n.extend,ew=$n.each,nw=$n.resolve,ow=Hn.ie,rw=(iw.prototype.render=function(){!function(n){var o=n.settings,r=n.id;Zi.setCode(js(n));var i=function(){dx.unbind(t.window,"ready",i),n.render()};if(jo.Event.domLoaded){if(n.getElement()&&Hn.contentEditable){o.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||dx.getParent(r,"form");a&&(n.formElement=a,o.hidden_input&&!Ge.isTextareaOrInput(n.getElement())&&(dx.insertAfter(dx.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(t){n.fire(t.type,t)},dx.bind(a,"submit reset",n.formEventDelegate),n.on("reset",(function(){n.resetContent()})),!o.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=If(n),n.notificationManager=Mf(n),"xml"===o.encoding&&n.on("GetContent",(function(t){t.save&&(t.content=dx.encode(t.content))})),o.add_form_submit_trigger&&n.on("submit",(function(){n.initialized&&n.save()})),o.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),function(t,n){var o=Xi.ScriptLoader;!function(t,e,n,o){var r=e.settings,i=r.theme;if(P(i)){if(!$y(i)&&!Rf.urls.hasOwnProperty(i)){var a=r.theme_url;Rf.load(i,a?e.documentBaseURI.toAbsolute(a):"themes/"+i+"/theme"+n+".js")}t.loadQueue((function(){Rf.waitFor(i,o)}))}else o()}(o,t,n,(function(){!function(t,n){var o=js(n),r=function(t){return t.getParam("language_url","","string")}(n);if(!1===Zi.hasCode(o)&&"en"!==o){var i=""!==r?r:n.editorManager.baseURL+"/langs/"+o+".js";t.add(i,e,void 0,(function(){jf.languageLoadError(n,i,o)}))}}(o,t),function(t,n){(function(t){return I.from(function(t){return t.getParam("icons_url","","string")}(t)).filter((function(t){return 0<t.length})).map((function(t){return{url:t,name:I.none()}}))})(n).orThunk((function(){return function(t){return I.from(function(t){return t.getParam("icons","","string")}(t)).filter((function(t){return 0<t.length&&!Of.has(t)})).map((function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons.js",name:I.some(e)}}))}(n)})).each((function(o){t.add(o.url,e,void 0,(function(){jf.iconsLoadError(n,o.url,o.name.getOrUndefined())}))}))}(o,t),function(t,n,o){L(n.plugins)&&(n.plugins=n.plugins.join(" ")),$n.each(n.external_plugins,(function(o,r){Bf.load(r,o,e,void 0,(function(){jf.pluginLoadError(t,o,r)})),n.plugins+=" "+r})),$n.each(n.plugins.split(/[ ,]/),(function(n){if((n=$n.trim(n))&&!Bf.urls[n])if($y(n)){n=n.substr(1,n.length);var r=Bf.dependencies(n);$n.each(r,(function(n){var r=Bf.createUrl({prefix:"plugins/",resource:n,suffix:"/plugin"+o+".js"},n);Bf.load(r.resource,r,e,void 0,(function(){jf.pluginLoadError(t,r.prefix+r.resource+r.suffix,r.resource)}))}))}else{var i={prefix:"plugins/",resource:n,suffix:"/plugin"+o+".js"};Bf.load(n,i,e,void 0,(function(){jf.pluginLoadError(t,i.prefix+i.resource+i.suffix,n)}))}}))}(t,t.settings,n),o.loadQueue((function(){t.removed||fx(t)}),t,(function(){t.removed||fx(t)}))}))}(n,n.suffix)}}else dx.bind(t.window,"ready",i)}(this)},iw.prototype.focus=function(t){!function(t,e){t.removed||(e?pf(t):function(t){var e=t.selection,n=t.getBody(),o=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Hl(t)&&lf(t).each((function(e){t.selection.setRng(e),o=e}));var r=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))}(t,e.getNode());if(t.$.contains(n,r))return Pl(r),Il(t,o),pf(t);t.inline||(Hn.opera||Pl(n),t.getWin().focus()),(Hn.gecko||t.inline)&&(Pl(n),Il(t,o)),pf(t)}(t))}(this,t)},iw.prototype.hasFocus=function(){return gf(this)},iw.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o,r=this.settings[t];if(r)return this.callbackLookup&&(o=this.callbackLookup[t])&&(r=o.func,o=o.scope),"string"==typeof r&&(o=(o=r.replace(/\.\w+$/,""))?nw(o):0,r=nw(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[t]={func:r,scope:o}),r.apply(o||this,Array.prototype.slice.call(arguments,1))},iw.prototype.translate=function(t){return Zi.translate(t)},iw.prototype.getParam=function(t,e,n){return function(t,e,n,o){var r=e in t.settings?t.settings[e]:n;return"hash"===o?function(t){var e={};return"string"==typeof t?G(0<t.indexOf("=")?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var n=t.split("=");e[$n.trim(n[0])]=$n.trim(1<n.length?n[1]:n[0])})):e=t,e}(r):"string"===o?ql(P,t,e).getOr(n):"number"===o?ql($,t,e).getOr(n):"boolean"===o?ql(V,t,e).getOr(n):"object"===o?ql(H,t,e).getOr(n):"array"===o?ql(L,t,e).getOr(n):"string[]"===o?ql(function(t){return function(e){return L(e)&&k(e,t)}}(P),t,e).getOr(n):"function"===o?ql(j,t,e).getOr(n):r}(this,t,e,n)},iw.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},iw.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},iw.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},iw.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},iw.prototype.addShortcut=function(t,e,n,o){this.shortcuts.add(t,e,n,o)},iw.prototype.execCommand=function(t,e,n,o){return this.editorCommands.execCommand(t,e,n,o)},iw.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},iw.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},iw.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},iw.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Zx.show(this.getContainer()),Zx.hide(this.id)),this.load(),this.fire("show"))},iw.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(ow&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Zx.hide(t.getContainer()),Zx.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},iw.prototype.isHidden=function(){return!!this.hidden},iw.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},iw.prototype.load=function(t){var e,n=this.getElement();if(this.removed)return"";if(n){(t=t||{}).load=!0;var o=Ge.isTextareaOrInput(n)?n.value:n.innerHTML;return e=this.setContent(o,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e}},iw.prototype.save=function(t){var e,n,o=this,r=o.getElement();if(r&&o.initialized&&!o.removed)return(t=t||{}).save=!0,t.element=r,t.content=o.getContent(t),t.no_events||o.fire("SaveContent",t),"raw"===t.format&&o.fire("RawSaveContent",t),e=t.content,Ge.isTextareaOrInput(r)?r.value=e:(!t.is_removing&&o.inline||(r.innerHTML=e),(n=Zx.getParent(o.id,"form"))&&ew(n.elements,(function(t){if(t.name===o.id)return t.value=e,!1}))),t.element=r=null,!1!==t.set_dirty&&o.setDirty(!1),e},iw.prototype.setContent=function(t,e){return Vl(this,t,e)},iw.prototype.getContent=function(t){return function(t,e){return void 0===e&&(e={}),I.from(t.getBody()).fold(o("tree"===e.format?new pl("body",11):""),(function(n){return function(t,e,n){var o;if(e.format=e.format?e.format:"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)o=$n.trim(Zl.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)o=Qa.trim(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);o=function(t,e){var n=zs(t),o=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(o,"")}(t,t.serializer.serialize(n,e))}return e.content="text"===e.format||io(ee.fromDom(n))?o:$n.trim(o),e.no_events||t.fire("GetContent",e),e.content}(t,e,n)}))}(this,t)},iw.prototype.insertContent=function(t,e){e&&(t=tw({content:t},e)),this.execCommand("mceInsertContent",!1,t)},iw.prototype.resetContent=function(t){void 0===t?Vl(this,this.startContent,{format:"raw"}):Vl(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},iw.prototype.isDirty=function(){return!this.isNotDirty},iw.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},iw.prototype.getContainer=function(){return this.container||(this.container=Zx.get(this.editorContainer||this.id+"_parent")),this.container},iw.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},iw.prototype.getElement=function(){return this.targetElm||(this.targetElm=Zx.get(this.id)),this.targetElm},iw.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},iw.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},iw.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},iw.prototype.convertURL=function(t,e,n){var o=this.settings;return o.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!o.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:o.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,o.remove_script_host)},iw.prototype.addVisual=function(t){var e,n=this,o=n.settings,r=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=o.visual),ew(r.select("table,a",t),(function(t){var i;switch(t.nodeName){case"TABLE":return e=o.visual_table_class||"mce-item-table",void((i=r.getAttrib(t,"border"))&&"0"!==i||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href")||(i=r.getAttrib(t,"name")||t.id,e=o.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}})),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},iw.prototype.remove=function(){!function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,o=t.getBody(),r=t.getElement();o&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&vf.remove(r.nextSibling),function(t){t.fire("remove")}(t),t.editorManager.remove(t),!t.inline&&o&&function(t){vf.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.fire("detach")}(t),vf.remove(t.getContainer()),jl(e),jl(n),t.destroy()}}(this)},iw.prototype.destroy=function(t){!function(t,e){var n=t.selection,o=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),jl(n),jl(o)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),vf.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())}(this,t)},iw.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},iw.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},iw.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},iw.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},iw.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},iw.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},iw);function iw(n,o,r){var a=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,tw(this,Hx),this.settings=function(t,e,n,o,r){var a=function(t,e,n,o,r){var i={id:e,theme:"silver",toolbar_mode:Wl(t,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:r.convertURL,url_converter_scope:r};return et(et({},i),o?Ef:{})}(r,e,n,Cf,t);return function(t,e,n,o,r){var a=t?{mobile:function(t,e){var n={resize:!1,toolbar_mode:Wl(t,"scrolling"),toolbar_sticky:!1};return et(et(et({},Ef),n),e?{menubar:!1}:{})}(r,e)}:{},u=function(t,e){var n=M(e,(function(e,n){return v(t,n)}));return xf(n.t,n.f)}(["mobile"],yf(a,r)),s=$n.extend(n,o,u.settings(),function(t,e){return t&&Ul(e,"mobile")}(t,u)?function(t,e,n){void 0===n&&(n={});var o=t.sections(),r=o.hasOwnProperty(e)?o[e]:{};return $n.extend({},n,r)}(u,"mobile"):{},{validate:!0,external_plugins:function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?$n.extend({},t.external_plugins,n):n}(o,u.settings())});return function(t,e,n,o){var r=$l(n.forced_plugins),a=$l(o.plugins),u=function(t,e){return Ul(t,e)?t.sections()[e]:{}}(e,"mobile"),s=u.plugins?$l(u.plugins):a,c=function(t,e){return[].concat($l(t)).concat($l(e))}(r,t&&function(t,e,n){var o=t.sections();return Ul(t,e)&&"mobile"===o[e].theme}(e,"mobile")?function(t){return Y(t,i(v,Tf))}(s):t&&Ul(e,"mobile")?s:a);return $n.extend(o,{plugins:c.join(" ")})}(t,u,o,s)}(Sf||kf,Sf,a,o,r)}(this,n,this.documentBaseUrl,r.defaultSettings,o),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(Xi.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),$i.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),sa.languageLoad=this.settings.language_load,sa.baseURL=r.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new Jx(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Ux(this),this.editorCommands=new xx(this),this.settings.cache_suffix&&(Hn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:qx()};var u=function(n){var o=ne("design"),r=ne({design:{activate:e,deactivate:e,editorReadOnly:!1},readonly:{activate:e,deactivate:e,editorReadOnly:!0}});return function(t){t.serializer?Ax(t):t.on("PreInit",(function(){Ax(t)}))}(n),function(t){t.on("ShowCaret",(function(e){Nx(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){Nx(t)&&e.preventDefault()}))}(n),{isReadOnly:function(){return Nx(n)},set:function(t){return function(t,e,n,o){if(o!==n.get()){if(!tt(e,o))throw new Error("Editor mode '"+o+"' is invalid");t.initialized?Mx(t,n,e,o):t.on("init",(function(){return Mx(t,n,e,o)}))}}(n,r.get(),o,t)},get:function(){return o.get()},register:function(e,n){r.set(function(e,n,o){var r;if(v(Lx,n))throw new Error("Cannot override default mode "+n);return et(et({},e),((r={})[n]=et(et({},o),{deactivate:function(){try{o.deactivate()}catch(Qw){t.console.error("problem while deactivating editor mode "+n+":",Qw)}}}),r))}(r.get(),e,n))}}}(this);this.mode=u,this.setMode=u.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Di.overrideDefaults((function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}}))}function aw(t){var e=t.type;mw(xw.get(),(function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}}))}function uw(t){t!==gw&&(t?Di(window).on("resize scroll",aw):Di(window).off("resize scroll",aw),gw=t)}function sw(t){var e=bw;delete vw[t.id];for(var n=0;n<vw.length;n++)if(vw[n]===t){vw.splice(n,1);break}return bw=Y(bw,(function(e){return t!==e})),xw.activeEditor===t&&(xw.activeEditor=0<bw.length?bw[0]:null),xw.focusedEditor===t&&(xw.focusedEditor=null),e.length!==bw.length}var cw,lw,fw=$i.DOM,dw=$n.explode,mw=$n.each,hw=$n.extend,pw=0,gw=!1,vw=[],bw=[],yw="CSS1Compat"!==t.document.compatMode,xw=et(et({},Rx),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Di,majorVersion:"5",minorVersion:"2.1",releaseDate:"2020-03-25",editors:vw,i18n:Zi,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,n,o="";n=Jx.getDocumentBaseUrl(t.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var r=window.tinymce||window.tinyMCEPreInit;if(r)e=r.base||r.baseURL,o=r.suffix;else{for(var a=t.document.getElementsByTagName("script"),u=0;u<a.length;u++){var s;if(""!==(s=a[u].src||"")){var c=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==c.indexOf(".min")&&(o=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}!e&&t.document.currentScript&&(-1!==(s=t.document.currentScript.src).indexOf(".min")&&(o=".min"),e=s.substring(0,s.lastIndexOf("/")))}this.baseURL=new Jx(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new Jx(this.baseURL),this.suffix=o,function(t){t.on("AddEditor",i(Bl,t)),t.on("RemoveEditor",i(Rl,t))}(this)},overrideDefaults:function(t){var e;(e=t.base_url)&&this._setBaseUrl(e),t.suffix&&(this.suffix=t.suffix);var n=(this.defaultSettings=t).plugin_base_urls;for(var o in n)sa.PluginManager.urls[o]=n[o]},init:function(e){var n,o,r=this;function i(t){var e=t.id;return e||(e=(e=t.name)&&!fw.get(e)?t.name:fw.uniqueId(),t.setAttribute("id",e)),e}function a(t,e){return e.constructor===RegExp?e.test(t.className):fw.hasClass(t,e)}o=$n.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var u=function(t){n=t},s=function(){function n(t,e,n){var o=new rw(t,e,r);f.push(o),o.on("init",(function(){++l===c.length&&u(f)})),o.targetElm=o.targetElm||n,o.render()}var c,l=0,f=[];fw.unbind(window,"ready",s),function(t){var n=e[t];n&&n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),c=Di.unique(function(e){var n,o=[];if(Hn.browser.isIE()&&Hn.browser.version.major<11)return jf.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(yw)return jf.initError("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return mw(e.types,(function(t){o=o.concat(fw.select(t.selector))})),o;if(e.selector)return fw.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":0<(n=e.elements||"").length&&mw(dw(n),(function(e){var n;(n=fw.get(e))?o.push(n):mw(t.document.forms,(function(t){mw(t.elements,(function(t){t.name===e&&(e="mce_editor_"+pw++,fw.setAttrib(t,"id",e),o.push(t))}))}))}));break;case"textareas":case"specific_textareas":mw(fw.select("textarea"),(function(t){e.editor_deselector&&a(t,e.editor_deselector)||e.editor_selector&&!a(t,e.editor_selector)||o.push(t)}))}return o}(e)),e.types?mw(e.types,(function(t){$n.each(c,(function(o){return!fw.is(o,t.selector)||(n(i(o),hw({},e,t),o),!1)}))})):($n.each(c,(function(t){!function(t){t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(sw(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}(r.get(t.id))})),0===(c=$n.grep(c,(function(t){return!r.get(t.id)}))).length?u([]):mw(c,(function(t){!function(t,e){return t.inline&&e.tagName.toLowerCase()in o}(e,t)?n(i(t),e,t):jf.initError("Could not initialize inline editor on invalid inline target element",t)})))};return r.settings=e,fw.bind(window,"ready",s),new mn((function(t){n?t(n):u=function(e){t(e)}}))},get:function(t){return 0===arguments.length?bw.slice(0):P(t)?w(bw,(function(e){return e.id===t})).getOr(null):$(t)&&bw[t]?bw[t]:null},add:function(t){var e=this;return vw[t.id]===t||(null===e.get(t.id)&&(function(t){return"length"!==t}(t.id)&&(vw[t.id]=t),vw.push(t),bw.push(t)),uw(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),cw||(cw=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",cw))),t},createEditor:function(t,e){return this.add(new rw(t,e,this))},remove:function(t){var e,n,o=this;if(t){if(!P(t))return F(o.get((n=t).id))?null:(sw(n)&&o.fire("RemoveEditor",{editor:n}),0===bw.length&&window.removeEventListener("beforeunload",cw),n.remove(),uw(0<bw.length),n);mw(fw.select(t),(function(t){(n=o.get(t.id))&&o.remove(n)}))}else for(e=bw.length-1;0<=e;e--)o.remove(bw[e])},execCommand:function(t,e,n){var o=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new rw(n,this.settings,this).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?o.isHidden()?o.show():o.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){mw(bw,(function(t){t.save()}))},addI18n:function(t,e){Zi.add(t,e)},translate:function(t){return Zi.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Jx(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Jx(this.baseURL)}});function ww(t){return{walk:function(e,n){return al(t,e,n)},split:Mm,normalize:function(e){return nm(t,e).fold(o(!1),(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}}function Cw(t,e,n){var o,r,i,a,u,s;return o=e.x,r=e.y,i=t.w,a=t.h,u=e.w,s=e.h,"b"===(n=(n||"").split(""))[0]&&(r+=s),"r"===n[1]&&(o+=u),"c"===n[0]&&(r+=zw(s/2)),"c"===n[1]&&(o+=zw(u/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(o-=i),"c"===n[3]&&(r-=zw(a/2)),"c"===n[4]&&(o-=zw(i/2)),Mw(o,r,i,a)}function Sw(){}xw.setup(),(lw=ww=ww||{}).compareRanges=em,lw.getCaretRangeFromPoint=Fd,lw.getSelectedNode=Ia,lw.getNode=Pa;var kw,Tw,Ew,Ow,Nw=ww,Aw=(kw={},Tw={},{load:function(e,n){var o='Script at URL "'+n+'" failed to load',r='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==kw[e])return kw[e];var i=new mn((function(i,a){var u=function(e,n,o){function r(e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];i||(i=!0,null!==a&&(t.clearTimeout(a),a=null),e.apply(null,n))}}void 0===o&&(o=1e3);var i=!1,a=null,u=r(e),s=r(n);return{start:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i||null!==a||(a=t.setTimeout((function(){return s.apply(null,e)}),o))},resolve:u,reject:s}}(i,a);Tw[e]=u.resolve,Xi.ScriptLoader.loadScript(n,(function(){return u.start(r)}),(function(){return u.reject(o)}))}));return kw[e]=i},add:function(t,e){void 0!==Tw[t]&&(Tw[t](e),delete Tw[t]),kw[t]=mn.resolve(e)}}),_w=Math.min,Dw=Math.max,zw=Math.round,Mw=function(t,e,n,o){return{x:t,y:e,w:n,h:o}},Bw={inflate:function(t,e,n){return Mw(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:Cw,findBestRelativePosition:function(t,e,n,o){var r,i;for(i=0;i<o.length;i++)if((r=Cw(t,e,o[i])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return o[i];return null},intersect:function(t,e){var n,o,r,i;return n=Dw(t.x,e.x),o=Dw(t.y,e.y),r=_w(t.x+t.w,e.x+e.w),i=_w(t.y+t.h,e.y+e.h),r-n<0||i-o<0?null:Mw(n,o,r-n,i-o)},clamp:function(t,e,n){var o,r,i,a,u,s,c,l,f,d;return s=t.y,c=t.x+t.w,l=t.y+t.h,f=e.x+e.w,d=e.y+e.h,o=Dw(0,e.x-(u=t.x)),r=Dw(0,e.y-s),i=Dw(0,c-f),a=Dw(0,l-d),u+=o,s+=r,n&&(c+=o,l+=r,u-=i,s-=a),Mw(u,s,(c-=i)-u,(l-=a)-s)},create:Mw,fromClientRect:function(t){return Mw(t.left,t.top,t.width,t.height)}},Rw=$n.each,Iw=$n.extend;Sw.extend=Ew=function(t){function e(){var t,e,n;if(!Ow&&(this.init&&this.init.apply(this,arguments),e=this.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(this,arguments)}function n(){return this}function o(t,e){return function(){var n,o=this._super;return this._super=u[t],n=e.apply(this,arguments),this._super=o,n}}var r,i,a,u=this.prototype;for(i in Ow=!0,r=new this,Ow=!1,t.Mixins&&(Rw(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),u.Mixins&&(t.Mixins=u.Mixins.concat(t.Mixins))),t.Methods&&Rw(t.Methods.split(","),(function(e){t[e]=n})),t.Properties&&Rw(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}})),t.Statics&&Rw(t.Statics,(function(t,n){e[n]=t})),t.Defaults&&u.Defaults&&(t.Defaults=Iw({},u.Defaults,t.Defaults)),t)r[i]="function"==typeof(a=t[i])&&u[i]?o(i,a):a;return e.prototype=r,(e.constructor=e).extend=Ew,e};var Pw,Hw,Lw,Fw,Vw=Math.min,jw=Math.max,$w=Math.round,Uw={serialize:function(t){var e=JSON.stringify(t);return P(e)?e.replace(/[\u0080-\uFFFF]/g,(function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e})):e},parse:function(t){try{return JSON.parse(t)}catch(s){}}},Ww={callbacks:{},count:0,send:function(t){var e=this,n=$i.DOM,o=void 0!==t.count?t.count:e.count,r="tinymce_jsonp_"+o;e.callbacks[o]=function(i){n.remove(r),delete e.callbacks[o],t.callback(i)},n.add(n.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),e.count++}},qw=et(et({},Rx),{send:function(e){var n,o=0,r=function(){!e.async||4===n.readyState||1e4<o++?(e.success&&o<1e4&&200===n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<o?"TIMED_OUT":"GENERAL",n,e),n=null):An.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",qw.fire("beforeInitialize",{settings:e}),n=new t.XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&$n.each(e.requestheaders,(function(t){n.setRequestHeader(t.key,t.value)})),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=qw.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return r();An.setTimeout(r,10)}}}),Xw=$n.extend,Gw=(Yw.sendRPC=function(t){return(new Yw).send(t)},Yw.prototype.send=function(t){var e=t.error,n=t.success,o=Xw(this.settings,t);o.success=function(t,r){void 0===(t=Uw.parse(t))&&(t={error:"JSON Parse error."}),t.error?e.call(o.error_scope||o.scope,t.error,r):n.call(o.success_scope||o.scope,t.result)},o.error=function(t,n){e&&e.call(o.error_scope||o.scope,t,n)},o.data=Uw.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),o.content_type="application/json",qw.send(o)},Yw);function Yw(t){this.settings=Xw({},t),this.count=0}try{Pw=t.window.localStorage}catch(Qw){Hw={},Lw=[],Fw={getItem:function(t){return Hw[t]||null},setItem:function(t,e){Lw.push(t),Hw[t]=String(e)},key:function(t){return Lw[t]},removeItem:function(t){Lw=Lw.filter((function(e){return e===t})),delete Hw[t]},clear:function(){Lw=[],Hw={}},length:0},Object.defineProperty(Fw,"length",{get:function(){return Lw.length},configurable:!1,enumerable:!1}),Pw=Fw}var Kw,Jw=$n.extend(xw,{geom:{Rect:Bw},util:{Promise:mn,Delay:An,Tools:$n,VK:Xf,URI:Jx,Class:Sw,EventDispatcher:Sx,Observable:Rx,I18n:Zi,XHR:qw,JSON:Uw,JSONRequest:Gw,JSONP:Ww,LocalStorage:Pw,Color:function(t){function e(t){var e;return"object"==typeof t?"r"in t?(o=t.r,r=t.g,i=t.b):"v"in t&&function(t,e,n){var a,u,s,c;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,n=parseInt(n,10)/100,e=jw(0,Vw(e,1)),n=jw(0,Vw(n,1)),0!==e){switch(a=t/60,s=(u=n*e)*(1-Math.abs(a%2-1)),c=n-u,Math.floor(a)){case 0:o=u,r=s,i=0;break;case 1:o=s,r=u,i=0;break;case 2:o=0,r=u,i=s;break;case 3:o=0,r=s,i=u;break;case 4:o=s,r=0,i=u;break;case 5:o=u,r=0,i=s;break;default:o=r=i=0}o=$w(255*(o+c)),r=$w(255*(r+c)),i=$w(255*(i+c))}else o=r=i=$w(255*n)}(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(o=parseInt(e[1],10),r=parseInt(e[2],10),i=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(o=parseInt(e[1],16),r=parseInt(e[2],16),i=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(o=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),i=parseInt(e[3]+e[3],16)),o=o<0?0:255<o?255:o,r=r<0?0:255<r?255:r,i=i<0?0:255<i?255:i,n}var n={},o=0,r=0,i=0;return t&&e(t),n.toRgb=function(){return{r:o,g:r,b:i}},n.toHsv=function(){return function(t,e,n){var o,r,i,a;return r=0,(i=Vw(t/=255,Vw(e/=255,n/=255)))===(a=jw(t,jw(e,n)))?{h:0,s:0,v:100*(r=i)}:(o=(a-i)/a,{h:$w(60*((t===i?3:n===i?1:5)-(t===i?e-n:n===i?t-e:n-t)/((r=a)-i))),s:$w(100*o),v:$w(100*r)})}(o,r,i)},n.toHex=function(){function t(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t}return"#"+t(o)+t(r)+t(i)},n.parse=e,n}},dom:{EventUtils:jo,Sizzle:$r,DomQuery:Di,TreeWalker:zi,TextSeeker:$u,DOMUtils:$i,ScriptLoader:Xi,RangeUtils:Nw,Serializer:lm,ControlSelection:Uf,BookmarkManager:Wf,Selection:im,Event:jo.Event},html:{Styles:Po,Entities:yo,Node:pl,Schema:Ao,SaxParser:Ql,DomParser:sm,Writer:wl,Serializer:Cl},Env:Hn,AddOnManager:sa,Annotator:cl,Formatter:Xh,UndoManager:tp,EditorCommands:xx,WindowManager:If,NotificationManager:Mf,EditorObservable:Hx,Shortcuts:Ux,Editor:rw,FocusManager:ff,EditorManager:xw,DOM:$i.DOM,ScriptLoader:Xi.ScriptLoader,PluginManager:sa.PluginManager,ThemeManager:sa.ThemeManager,IconManager:Of,Resource:Aw,trim:$n.trim,isArray:$n.isArray,is:$n.is,toArray:$n.toArray,makeMap:$n.makeMap,each:$n.each,map:$n.map,grep:$n.grep,inArray:$n.inArray,extend:$n.extend,create:$n.create,walk:$n.walk,createNS:$n.createNS,resolve:$n.resolve,explode:$n.explode,_addCacheSuffix:$n._addCacheSuffix,isOpera:Hn.opera,isWebKit:Hn.webkit,isIE:Hn.ie,isGecko:Hn.gecko,isMac:Hn.mac});Kw=Jw,window.tinymce=Kw,window.tinyMCE=Kw,function(t){if("object"==typeof module)try{module.exports=t}catch(s){}}(Jw)}(window),function(t){"use strict";var e=function(){},n=function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t(e.apply(null,n))}},o=function(t){return function(){return t}},r=function(t){return t};function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=e.concat(n);return t.apply(null,r)}}var a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},u=function(t){return function(){throw new Error(t)}},s=o(!1),c=o(!0),l=tinymce.util.Tools.resolve("tinymce.ThemeManager"),f=function(){return(f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function d(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,r++)o[r]=i[a];return o}var h,p=function(){return g},g=function(){var t=function(t){return t.isNone()},n=function(t){return t()},r=function(t){return t},i={fold:function(t,e){return t()},is:s,isSome:s,isNone:c,getOr:r,getOrThunk:n,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:n,map:p,each:e,bind:p,exists:s,forall:c,filter:p,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")};return Object.freeze&&Object.freeze(i),i}(),v=function(t){var e=o(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return v(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:g},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return i},b={some:v,none:p,from:function(t){return null==t?g:v(t)}},y=function(t){return{is:function(e){return t===e},isValue:c,isError:s,getOr:o(t),getOrThunk:o(t),getOrDie:o(t),or:function(e){return y(t)},orThunk:function(e){return y(t)},fold:function(e,n){return n(t)},map:function(e){return y(e(t))},mapError:function(e){return y(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return b.some(t)}}},x=function(t){return{is:s,isValue:s,isError:c,getOr:r,getOrThunk:function(t){return t()},getOrDie:function(){return u(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return x(t)},mapError:function(e){return x(e(t))},each:e,bind:function(e){return x(t)},exists:s,forall:c,toOption:b.none}},w={value:y,error:x,fromOption:function(t,e){return t.fold((function(){return x(e)}),y)}},C=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},S=C("string"),k=C("object"),T=C("array"),E=C("boolean"),O=C("function"),N=C("number"),A=function(t,e){if(T(t)){for(var n=0,o=t.length;n<o;++n)if(!0!==e(t[n]))return!1;return!0}return!1},_=Array.prototype.slice,D=Array.prototype.indexOf,z=Array.prototype.push,M=function(t,e){return D.call(t,e)},B=function(t,e){return M(t,e)>-1},R=function(t,e){for(var n=0,o=t.length;n<o;n++)if(e(t[n],n))return!0;return!1},I=function(t,e){for(var n=[],o=0;o<t.length;o+=e){var r=_.call(t,o,o+e);n.push(r)}return n},P=function(t,e){for(var n=t.length,o=new Array(n),r=0;r<n;r++)o[r]=e(t[r],r);return o},H=function(t,e){for(var n=0,o=t.length;n<o;n++)e(t[n],n)},L=function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o];e(i,o)&&n.push(i)}return n},F=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n])}(t,(function(t){n=e(n,t)})),n},V=function(t,e,n){return H(t,(function(t){n=e(n,t)})),n},j=function(t,e){for(var n=0,o=t.length;n<o;n++){var r=t[n];if(e(r,n))return b.some(r)}return b.none()},$=function(t,e){for(var n=0,o=t.length;n<o;n++)if(e(t[n],n))return b.some(n);return b.none()},U=function(t){for(var e=[],n=0,o=t.length;n<o;++n){if(!T(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);z.apply(e,t[n])}return e},W=function(t,e){return U(P(t,e))},q=function(t,e){for(var n=0,o=t.length;n<o;++n)if(!0!==e(t[n],n))return!1;return!0},X=function(t){var e=_.call(t,0);return e.reverse(),e},G=function(t,e){return L(t,(function(t){return!B(e,t)}))},Y=function(t){return[t]},K=function(t,e){var n=_.call(t,0);return n.sort(e),n},J=function(t){return 0===t.length?b.none():b.some(t[0])},Q=function(t){return 0===t.length?b.none():b.some(t[t.length-1])},Z=O(Array.from)?Array.from:function(t){return _.call(t)},tt=function(t,e){for(var n=0;n<t.length;n++){var o=e(t[n],n);if(o.isSome())return o}return b.none()},et=Object.keys,nt=Object.hasOwnProperty,ot=function(t,e){for(var n=et(t),o=0,r=n.length;o<r;o++){var i=n[o];e(t[i],i)}},rt=function(t,e){return it(t,(function(t,n){return{k:n,v:e(t,n)}}))},it=function(t,e){var n={};return ot(t,(function(t,o){var r=e(t,o);n[r.k]=r.v})),n},at=function(t,e){var n=[];return ot(t,(function(t,o){n.push(e(t,o))})),n},ut=function(t,e){for(var n=et(t),o=0,r=n.length;o<r;o++){var i=n[o],a=t[i];if(e(a,i,t))return b.some(a)}return b.none()},st=function(t){return at(t,(function(t){return t}))},ct=function(t,e){return lt(t,e)?b.from(t[e]):b.none()},lt=function(t,e){return nt.call(t,e)},ft=function(t,e){return lt(t,e)&&null!=t[e]},dt=function(e){if(!T(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],o={};return H(e,(function(r,i){var a=et(r);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=r[u];if(void 0!==o[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!T(s))throw new Error("case arguments must be an array");n.push(u),o[u]=function(){var o=arguments.length;if(o!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+o);for(var r=new Array(o),a=0;a<r.length;a++)r[a]=arguments[a];var c=function(t){var e=et(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!q(n,(function(t){return B(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[u].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,r)},match:c,log:function(e){t.console.log(e,{constructors:n,constructor:u,params:r})}}}})),o},mt=Object.prototype.hasOwnProperty,ht=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var o={},r=0;r<e.length;r++){var i=e[r];for(var a in i)mt.call(i,a)&&(o[a]=t(o[a],i[a]))}return o}},pt=ht((function(t,e){return k(t)&&k(e)?pt(t,e):e})),gt=ht((function(t,e){return e})),vt=function(t){var e,n=!1;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return n||(n=!0,e=t.apply(null,o)),e}};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(h||(h={}));var bt=function(t,e,n){return t.stype===h.Error?e(t.serror):n(t.svalue)},yt=function(t){return{stype:h.Value,svalue:t}},xt=function(t){return{stype:h.Error,serror:t}},wt=yt,Ct=function(t){var e=[],n=[];return H(t,(function(t){bt(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},St=xt,kt=function(t,e){return t.stype===h.Value?e(t.svalue):t},Tt=function(t,e){return t.stype===h.Value?{stype:h.Value,svalue:e(t.svalue)}:t},Et=dt([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Ot=function(t){return Et.defaultedThunk(o(t))},Nt=Et.strict,At=Et.asOption,_t=Et.defaultedThunk,Dt=Et.mergeWithThunk,zt=function(t,e){var n;return(n={})[t]=e,n},Mt=(dt([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t,e){return function(t,e){var n={};return ot(t,(function(t,o){B(e,o)||(n[o]=t)})),n}(t,e)}),Bt=function(t,e){return zt(t,e)},Rt=function(t){return function(t){var e={};return H(t,(function(t){e[t.key]=t.value})),e}(t)},It=function(t){return n(St,U)(t)},Pt=function(t){var e=Ct(t);return e.errors.length>0?It(e.errors):wt(e.values)},Ht=function(t){return k(t)&&et(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Lt=function(t,e){return St([{path:t,getErrorInfo:e}])},Ft=dt([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Vt=function(t,e,n){var o=ct(t,e).fold((function(){return n(t)}),r);return wt(o)},jt=function(t){return{extract:function(e,n,o){return(r=t(o,n)).stype===h.Error?function(t){return function(t,e){return Lt(t,(function(){return e}))}(e,t)}(r.serror):r;var r},toString:function(){return"val"}}},$t=function(t){var e=et(t);return L(e,(function(e){return ft(t,e)}))},Ut=function(t){var e=Wt(t),n=F(t,(function(t,e){return e.fold((function(e){return pt(t,Bt(e,!0))}),o(t))}),{});return{extract:function(t,o,r){var i=E(r)?[]:$t(r),a=L(i,(function(t){return!ft(n,t)}));return 0===a.length?e.extract(t,o,r):function(t,e){return Lt(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}(t,a)},toString:e.toString}},Wt=function(t){return{extract:function(e,n,r){return function(t,e,n,r){var i,a,u=P(n,(function(n){return function(t,e,n,r){return n.fold((function(n,i,a,u){var s=function(e){var o=u.extract(t.concat([n]),r,e);return Tt(o,(function(t){return zt(i,r(t))}))},c=function(e){return e.fold((function(){var t=zt(i,r(b.none()));return wt(t)}),(function(e){var o=u.extract(t.concat([n]),r,e);return Tt(o,(function(t){return zt(i,r(b.some(t)))}))}))};return a.fold((function(){return kt(function(t,e,n){return ct(e,n).fold((function(){return function(t,e,n){return Lt(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+Ht(n)}))}(t,n,e)}),wt)}(t,e,n),s)}),(function(t){return kt(Vt(e,n,t),s)}),(function(){return kt(function(t,e){return wt(ct(t,e))}(e,n),c)}),(function(t){return kt(function(t,e,n){var o=ct(t,e).map((function(e){return!0===e?n(t):e}));return wt(o)}(e,n,t),c)}),(function(t){var r=t(e),i=Tt(Vt(e,n,o({})),(function(t){return pt(r,t)}));return kt(i,s)}))}),(function(t,n){var o=n(e);return wt(zt(t,r(o)))}))}(t,e,n,r)}));return i={},(a=Ct(u)).errors.length>0?It(a.errors):function(t,e){return wt(t.length>0?pt(e,gt.apply(void 0,t)):e)}(a.values,i)}(e,r,t,n)},toString:function(){return"obj{\n"+P(t,(function(t){return t.fold((function(t,e,n,o){return t+" -> "+o.toString()}),(function(t,e){return"state("+t+")"}))})).join("\n")+"}"}}},qt=function(t){return{extract:function(e,n,o){var r=P(o,(function(o,r){return t.extract(e.concat(["["+r+"]"]),n,o)}));return Pt(r)},toString:function(){return"array("+t.toString()+")"}}},Xt=o(jt(wt)),Gt=n(qt,Wt),Yt=Ft.state,Kt=Ft.field,Jt=function(t,e){return{extract:function(n,o,r){return ct(r,t).fold((function(){return function(t,e){return Lt(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}(n,t)}),(function(t){return function(t,e,n,o,r){return ct(o,r).fold((function(){return function(t,e,n){return Lt(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Ht(e)}))}(t,o,r)}),(function(o){return o.extract(t.concat(["branch: "+r]),e,n)}))}(n,o,r,e,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+et(e)}}},Qt=jt(wt),Zt=function(t){return Gt(t)},te=function(t){return jt((function(e){return t(e).fold(St,wt)}))},ee=function(t,e){return function(t,e){return{extract:function(n,o,i){var a=et(i),u=function(e,n){return qt(jt(t)).extract(e,r,n)}(n,a);return kt(u,(function(t){var r=P(t,(function(t){return Ft.field(t,t,Nt(),e)}));return Wt(r).extract(n,o,i)}))},toString:function(){return"setOf("+e.toString()+")"}}}((function(e){return t(e).fold(xt,yt)}),e)},ne=function(t,e,n){return function(t){return bt(t,w.error,w.value)}(function(t,e,n,o){return(r=e.extract([t],n,o)).stype===h.Error?{stype:h.Error,serror:(i=r.serror,{input:o,errors:i})}:r;var r,i}(t,e,r,n))},oe=function(t){return t.fold((function(t){throw new Error(ie(t))}),r)},re=function(t,e,n){return oe(ne(t,e,n))},ie=function(t){return"Errors: \n"+(e=t.errors,n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e,P(n,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))).join("\n")+"\n\nInput object: "+Ht(t.input);var e,n},ae=function(t,e){return Jt(t,e)},ue=function(t,e){return Jt(t,rt(e,Wt))},se=o(Qt),ce=function(t,e){return jt((function(n){var o=typeof n;return t(n)?wt(n):St("Expected type: "+e+" but got: "+o)}))},le=ce(N,"number"),fe=ce(S,"string"),de=ce(E,"boolean"),me=ce(O,"function"),he=function(t){var e=function(t,e){for(var n=t.next();!n.done;){if(!e(n.value))return!1;n=t.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(e){return he(t[e])}));case"Map":return e(t.keys(),he)&&e(t.values(),he);case"Set":return e(t.keys(),he);default:return!1}},pe=jt((function(t){return he(t)?wt(t):St("Expected value to be acceptable for sending via postMessage")})),ge=function(t){return te((function(e){return B(t,e)?w.value(e):w.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))},ve=function(t){return Kt(t,t,Nt(),Xt())},be=function(t,e){return Kt(t,t,Nt(),e)},ye=function(t){return be(t,le)},xe=function(t){return be(t,fe)},we=function(t,e){return Kt(t,t,Nt(),ge(e))},Ce=function(t){return be(t,me)},Se=function(t,e){return Kt(t,t,Nt(),Wt(e))},ke=function(t,e){return Kt(t,t,Nt(),Gt(e))},Te=function(t,e){return Kt(t,t,Nt(),qt(e))},Ee=function(t){return Kt(t,t,At(),Xt())},Oe=function(t,e){return Kt(t,t,At(),e)},Ne=function(t){return Oe(t,le)},Ae=function(t){return Oe(t,fe)},_e=function(t){return Oe(t,me)},De=function(t,e){return Oe(t,Wt(e))},ze=function(t,e){return Kt(t,t,Ot(e),Xt())},Me=function(t,e,n){return Kt(t,t,Ot(e),n)},Be=function(t,e){return Me(t,e,le)},Re=function(t,e){return Me(t,e,fe)},Ie=function(t,e,n){return Me(t,e,ge(n))},Pe=function(t,e){return Me(t,e,de)},He=function(t,e){return Me(t,e,me)},Le=function(t,e,n){return Me(t,e,Wt(n))},Fe=function(t,e){return Yt(t,e)},Ve=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return Ve(n())}}},je=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:o(t)}},$e=function(e,n){var o=(n||t.document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return je(o.childNodes[0])},Ue=function(e,n){var o=(n||t.document).createElement(e);return je(o)},We=function(e,n){var o=(n||t.document).createTextNode(e);return je(o)},qe=je,Xe=function(){return Ge(0,0)},Ge=function(t,e){return{major:t,minor:e}},Ye=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Xe():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(o.test(e))return o}}(t,e);if(!n)return{major:0,minor:0};var o=function(t){return Number(e.replace(n,"$"+t))};return Ge(o(1),o(2))}(t,n)},Ke=Xe,Je=function(t,e){return function(){return e===t}},Qe=function(t){var e=t.current;return{current:e,version:t.version,isEdge:Je("Edge",e),isChrome:Je("Chrome",e),isIE:Je("IE",e),isOpera:Je("Opera",e),isFirefox:Je("Firefox",e),isSafari:Je("Safari",e)}},Ze=function(){return Qe({current:void 0,version:Ke()})},tn=Qe,en=(o("Edge"),o("Chrome"),o("IE"),o("Opera"),o("Firefox"),o("Safari"),function(t,e){return function(){return e===t}}),nn=function(t){var e=t.current;return{current:e,version:t.version,isWindows:en("Windows",e),isiOS:en("iOS",e),isAndroid:en("Android",e),isOSX:en("OSX",e),isLinux:en("Linux",e),isSolaris:en("Solaris",e),isFreeBSD:en("FreeBSD",e),isChromeOS:en("ChromeOS",e)}},on=function(){return nn({current:void 0,version:Ke()})},rn=nn,an=(o("Windows"),o("iOS"),o("Android"),o("Linux"),o("OSX"),o("Solaris"),o("FreeBSD"),o("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return j(t,(function(t){return t.search(n)}))}),un=function(t,e){return-1!==t.indexOf(e)},sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,cn=function(t){return function(e){return un(e,t)}},ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return un(t,"edge/")&&un(t,"chrome")&&un(t,"safari")&&un(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sn],search:function(t){return un(t,"chrome")&&!un(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return un(t,"msie")||un(t,"trident")}},{name:"Opera",versionRegexes:[sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:cn("firefox")},{name:"Safari",versionRegexes:[sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(un(t,"safari")||un(t,"mobile/"))&&un(t,"applewebkit")}}],fn=[{name:"Windows",search:cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return un(t,"iphone")||un(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:cn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:cn("linux"),versionRegexes:[]},{name:"Solaris",search:cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:cn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:cn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],dn={browsers:o(ln),oses:o(fn)},mn=Ve(function(e,n){var r=dn.browsers(),i=dn.oses(),a=function(t,e){return an(t,e).map((function(t){var n=Ye(t.versionRegexes,e);return{current:t.name,version:n}}))}(r,e).fold(Ze,tn),u=function(t,e){return an(t,e).map((function(t){var n=Ye(t.versionRegexes,e);return{current:t.name,version:n}}))}(i,e).fold(on,rn),s=function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),s=u||r("(pointer:coarse)"),c=i||!a&&u&&r("(min-device-width:768px)"),l=a||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(c),isPhone:o(l),isTouch:o(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:o(f),isDesktop:o(d)}}(u,a,e,(function(e){return t.window.matchMedia(e).matches}));return{browser:a,os:u,deviceType:s}}(t.navigator.userAgent)),hn=function(){return mn.get()},pn=t.Node.ELEMENT_NODE,gn=t.Node.TEXT_NODE,vn=pn,bn=t.Node.DOCUMENT_NODE,yn=function(t,e){var n=t.dom();if(n.nodeType!==vn)return!1;var o=n;if(void 0!==o.matches)return o.matches(e);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(e);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},xn=function(t){return t.nodeType!==vn&&t.nodeType!==bn||0===t.childElementCount},wn=function(e,n){var o=void 0===n?t.document:n.dom();return xn(o)?[]:P(o.querySelectorAll(e),qe)},Cn=function(t,e){return t.dom()===e.dom()},Sn=hn().browser.isIE()?function(e,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(e.dom(),n.dom(),t.Node.DOCUMENT_POSITION_CONTAINED_BY)}:function(t,e){var n=t.dom(),o=e.dom();return n!==o&&n.contains(o)},kn=function(t,e,n){for(var r=t.dom(),i=O(n)?n:o(!1);r.parentNode;){var a=qe(r=r.parentNode),u=e(a);if(u.isSome())return u;if(i(a))break}return b.none()},Tn=function(t,e,n){return e(t).orThunk((function(){return n(t)?b.none():kn(t,e,n)}))},En=function(t,e){return Cn(t.element(),e.event().target())},On=function(t){if(!ft(t,"can")&&!ft(t,"abort")&&!ft(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return re("Extracting event.handler",Ut([ze("can",o(!0)),ze("abort",o(!1)),ze("run",e)]),t)},Nn=o("touchstart"),An=o("touchmove"),_n=o("touchend"),Dn=o("touchcancel"),zn=o("mousedown"),Mn=o("mousemove"),Bn=o("mouseout"),Rn=o("mouseup"),In=o("mouseover"),Pn=o("focusin"),Hn=o("focusout"),Ln=o("keydown"),Fn=o("keyup"),Vn=o("input"),jn=o("change"),$n=o("click"),Un=o("transitionend"),Wn=o("selectstart"),qn={tap:o("alloy.tap")},Xn=o("alloy.focus"),Gn=o("alloy.blur.post"),Yn=o("alloy.paste.post"),Kn=o("alloy.receive"),Jn=o("alloy.execute"),Qn=o("alloy.focus.item"),Zn=qn.tap,to=o("alloy.longpress"),eo=o("alloy.sandbox.close"),no=o("alloy.typeahead.cancel"),oo=o("alloy.system.init"),ro=o("alloy.system.touchmove"),io=o("alloy.system.touchend"),ao=o("alloy.system.scroll"),uo=o("alloy.system.resize"),so=o("alloy.system.attached"),co=o("alloy.system.detached"),lo=o("alloy.system.dismissRequested"),fo=o("alloy.system.repositionRequested"),mo=o("alloy.focusmanager.shifted"),ho=o("alloy.slotcontainer.visibility"),po=o("alloy.change.tab"),go=o("alloy.dismiss.tab"),vo=o("alloy.highlight"),bo=o("alloy.dehighlight"),yo=function(t,e){So(t,t.element(),e,{})},xo=function(t,e,n){So(t,t.element(),e,n)},wo=function(t){yo(t,Jn())},Co=function(t,e,n){So(t,e,n,{})},So=function(t,e,n,r){var i=f({target:e},r);t.getSystem().triggerEvent(n,e,rt(i,o))},ko=function(t,e,n,o){t.getSystem().triggerEvent(n,e,o.event())},To=function(t){return Rt(t)},Eo=function(t,e){return{key:t,value:On({abort:e})}},Oo=function(t){return{key:t,value:On({run:function(t,e){e.event().prevent()}})}},No=function(t,e){return{key:t,value:On({run:e})}},Ao=function(t,e,n){return{key:t,value:On({run:function(t,o){e.apply(void 0,[t,o].concat(n))}})}},_o=function(t){return function(e){return{key:t,value:On({run:function(t,n){En(t,n)&&e(t,n)}})}}},Do=function(t,e,n){return function(t,e){return No(t,(function(n,o){n.getSystem().getByUid(e).each((function(e){ko(e,e.element(),t,o)}))}))}(t,e.partUids[n])},zo=function(t,e){return No(t,(function(t,n){var r=n.event(),i=t.getSystem().getByDom(r.target()).fold((function(){return Tn(r.target(),(function(e){return t.getSystem().getByDom(e).toOption()}),o(!1)).getOr(t)}),(function(t){return t}));e(t,i,n)}))},Mo=function(t){return No(t,(function(t,e){e.cut()}))},Bo=function(t){return No(t,(function(t,e){e.stop()}))},Ro=function(t,e){return _o(t)(e)},Io=_o(so()),Po=_o(co()),Ho=_o(oo()),Lo=function(t){return function(e){return No(t,e)}}(Jn()),Fo=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return H(t,(function(t,n){r[t]=o(e[n])})),r}},Vo=function(t){return t.slice(0).sort()},jo=function(t,e){if(!T(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");H(e,(function(e){if(!S(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},$o=function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return jo("required",t),jo("optional",e),function(t){var e=Vo(t);j(e,(function(t,n){return n<e.length-1&&t===e[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))}(n),function(r){var i=et(r);q(t,(function(t){return B(i,t)}))||function(t,e){throw new Error("All required keys ("+Vo(t).join(", ")+") were not specified. Specified keys were: "+Vo(e).join(", ")+".")}(t,i);var a=L(i,(function(t){return!B(n,t)}));a.length>0&&function(t){throw new Error("Unsupported keys for object: "+Vo(t).join(", "))}(a);var u={};return H(t,(function(t){u[t]=o(r[t])})),H(e,(function(t){u[t]=o(Object.prototype.hasOwnProperty.call(r,t)?b.some(r[t]):b.none())})),u}},Uo=function(t){return qe(t.dom().ownerDocument)},Wo=function(t){return qe(t.dom().ownerDocument.documentElement)},qo=function(t){return qe(t.dom().ownerDocument.defaultView)},Xo=function(t){return b.from(t.dom().parentNode).map(qe)},Go=function(t){return b.from(t.dom().offsetParent).map(qe)},Yo=function(t){return P(t.dom().childNodes,qe)},Ko=function(t,e){var n=t.dom().childNodes;return b.from(n[e]).map(qe)},Jo=(Fo("element","offset"),function(t,e){Xo(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),Qo=function(t,e){(function(t){return b.from(t.dom().nextSibling).map(qe)})(t).fold((function(){Xo(t).each((function(t){tr(t,e)}))}),(function(t){Jo(t,e)}))},Zo=function(t,e){(function(t){return Ko(t,0)})(t).fold((function(){tr(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},tr=function(t,e){t.dom().appendChild(e.dom())},er=function(t,e){H(e,(function(e){tr(t,e)}))},nr=function(t){t.dom().textContent="",H(Yo(t),(function(t){or(t)}))},or=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},rr=function(t){var e,n=Yo(t);n.length>0&&(e=t,H(n,(function(t){Jo(e,t)}))),or(t)},ir=function(t){return t.dom().innerHTML},ar=function(e,n){var o,r,i=Uo(e).dom(),a=qe(i.createDocumentFragment()),u=(o=n,(r=(i||t.document).createElement("div")).innerHTML=o,Yo(qe(r)));er(a,u),nr(e),tr(e,a)},ur=(void 0!==t.window||Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),sr=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},cr=sr(pn),lr=sr(gn),fr=function(e,n,o){if(!(S(o)||E(o)||N(o)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,o+"")},dr=function(t,e,n){fr(t.dom(),e,n)},mr=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},hr=function(t,e){return b.from(mr(t,e))},pr=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},gr=function(t,e){t.dom().removeAttribute(e)},vr=function(t){return function(t){return function(t){var e=Ue("div"),n=qe(t.dom().cloneNode(!0));return tr(e,n),ir(e)}(function(t){return function(t,e){return qe(t.dom().cloneNode(!1))}(t)}(t))}(t)},br=To([function(e,n){return{key:e,value:On({can:function(e,n){var o=n.event().originator(),r=n.event().target();return!function(t,e,n){return Cn(e,t.element())&&!Cn(e,n)}(e,o,r)||(t.console.warn(Xn()+" did not get interpreted by the desired target. \nOriginator: "+vr(o)+"\nTarget: "+vr(r)+"\nCheck the "+Xn()+" event handlers"),!1)}})}}(Xn())]),yr=Object.freeze({__proto__:null,events:br}),xr=0,wr=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++xr+String(e)},Cr=o("alloy-id-"),Sr=o("data-alloy-id"),kr=Cr(),Tr=Sr(),Er=function(t,e){Object.defineProperty(t.dom(),Tr,{value:e,writable:!0})},Or=function(t){var e=cr(t)?t.dom()[Tr]:null;return b.from(e)},Nr=function(t){return wr(t)},Ar=r,_r=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+vr(t().element())+" is not in context.":""))}};return{debugInfo:o("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:o(!1)}},Dr=_r(),zr=function(t){return P(t,(function(t){return function(t,e,n){return!(t.length<"/*".length)&&"/*"===t.substr(n,n+"/*".length)}(e=t,0,e.length-"/*".length)?t.substring(0,t.length-"/*".length):t;var e}))},Mr=function(t,e){var n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:zr(i)}},t},Br=wr("alloy-premade"),Rr=function(t){return Bt(Br,t)},Ir=function(t){return function(t,e){var n=e.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:zr(i.slice(1))}},t}((function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return t.apply(void 0,[e.getApis()].concat([e].concat(n)))}),t)},Pr={init:function(){return Hr({readState:function(){return"No State required"}})}},Hr=function(t){return t},Lr=function(t,e){var n={};return ot(t,(function(t,o){ot(t,(function(t,r){var i=ct(n,r).getOr([]);n[r]=i.concat([e(o,t)])}))})),n},Fr=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},Vr=function(t){return t.cHandler},jr=function(t,e){return{name:o(t),handler:o(e)}},$r=function(t,e){var n,r;return n={},(r=function(t){var e=[],n=[];return H(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}(at(t,(function(t,n){return(1===t.length?w.value(t[0].handler()):function(t,e,n){var o=e[n];return o?function(t,e,n,o){try{var r=K(n,(function(e,n){var r=e.name(),i=n.name(),a=o.indexOf(r),u=o.indexOf(i);if(-1===a)throw new Error("The ordering for "+t+" does not have an entry for "+r+".\nOrder specified: "+JSON.stringify(o,null,2));if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(o,null,2));return a<u?-1:u<a?1:0}));return w.value(r)}catch(i){return w.error([i])}}("Event: "+n,0,t,o).map((function(t){return function(t){var e=function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return V(t,(function(t,o){return t&&e(o).apply(void 0,n)}),!0)}}(t,(function(t){return t.can})),n=function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return V(t,(function(t,o){return t||e(o).apply(void 0,n)}),!1)}}(t,(function(t){return t.abort}));return On({can:e,abort:n,run:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];H(t,(function(t){t.run.apply(void 0,e)}))}})}(P(t,(function(t){return t.handler()})))})):function(t,e){return w.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(P(e,(function(t){return t.name()})),null,2)])}(n,t)}(t,e,n)).map((function(r){var i=function(t){var e=function(t){return O(t)?{can:o(!0),abort:o(!1),run:t}:t}(t);return function(t,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];var i=[t,n].concat(o);e.abort.apply(void 0,i)?n.stop():e.can.apply(void 0,i)&&e.run.apply(void 0,i)}}(r),a=t.length>1?L(e[n],(function(e){return R(t,(function(t){return t.name()===e}))})).join(" > "):t[0].name();return Bt(n,function(t,e){return{handler:t,purpose:o(e)}}(i,a))}))})))).errors.length>0?w.error(U(r.errors)):function(t,e){return w.value(0===t.length?e:pt(e,gt.apply(void 0,t)))}(r.values,n)},Ur=function(t){return t.events},Wr=function(t,e){var n=mr(t,e);return void 0===n||""===n?[]:n.split(" ")},qr=function(t){return void 0!==t.dom().classList},Xr=function(t,e){qr(t)?t.dom().classList.add(e):function(t,e){!function(t,e,n){var o=Wr(t,"class").concat([n]);dr(t,"class",o.join(" "))}(t,0,e)}(t,e)},Gr=function(t,e){qr(t)?t.dom().classList.remove(e):function(t,e){!function(t,e,n){var o=L(Wr(t,"class"),(function(t){return t!==n}));o.length>0?dr(t,"class",o.join(" ")):gr(t,"class")}(t,0,e)}(t,e),function(t){0===(qr(t)?t.dom().classList:function(t){return Wr(t,"class")}(t)).length&&gr(t,"class")}(t)},Yr=function(t,e){return qr(t)&&t.dom().classList.contains(e)},Kr=function(t,e){H(e,(function(e){Xr(t,e)}))},Jr=function(t,e){H(e,(function(e){Gr(t,e)}))},Qr=function(t){return void 0!==t.style&&O(t.style.getPropertyValue)},Zr=function(t){var e=lr(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},ti=vt((function(){return ei(qe(t.document))})),ei=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return qe(e)},ni=function(e,n,o){if(!S(o))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Qr(e)&&e.style.setProperty(n,o)},oi=function(t,e){Qr(t)&&t.style.removeProperty(e)},ri=function(t,e,n){var o=t.dom();ni(o,e,n)},ii=function(t,e){var n=t.dom();ot(e,(function(t,e){ni(n,e,t)}))},ai=function(t,e){var n=t.dom();ot(e,(function(t,e){t.fold((function(){oi(n,e)}),(function(t){ni(n,e,t)}))}))},ui=function(e,n){var o=e.dom(),r=t.window.getComputedStyle(o).getPropertyValue(n),i=""!==r||Zr(e)?r:si(o,n);return null===i?void 0:i},si=function(t,e){return Qr(t)?t.style.getPropertyValue(e):""},ci=function(t,e){var n=t.dom(),o=si(n,e);return b.from(o).filter((function(t){return t.length>0}))},li=function(t){var e={},n=t.dom();if(Qr(n))for(var o=0;o<n.style.length;o++){var r=n.style.item(o);e[r]=n.style[r]}return e},fi=function(t,e,n){var o=Ue(t);return ri(o,e,n),ci(o,e).isSome()},di=function(t,e){var n=t.dom();oi(n,e),pr(t,"style")&&""===mr(t,"style").replace(/^\s+|\s+$/g,"")&&gr(t,"style")},mi=function(t){return t.dom().offsetWidth},hi=function(t){return t.dom().value},pi=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom().value=e},gi=function(t){var e,n,r=function(){return p},i=Ve(Dr),a=oe(function(t){return ne("custom.definition",Wt([Kt("dom","dom",Nt(),Wt([ve("tag"),ze("styles",{}),ze("classes",[]),ze("attributes",{}),Ee("value"),Ee("innerHtml")])),ve("components"),ve("uid"),ze("events",{}),ze("apis",{}),Kt("eventOrder","eventOrder",(e={"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"]},Et.mergeWithThunk(o(e))),se()),Ee("domModification")]),t);var e}(t)),u=function(t){return function(t,e){return function(t,e){var n=P(e,(function(t){return De(t.name(),[ve("config"),ze("state",Pr)])})),o=ne("component.behaviours",Wt(n),t.behaviours).fold((function(e){throw new Error(ie(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:e,data:rt(o,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return e}}))}}(t,e)}(t,function(t){var e=ct(t,"behaviours").getOr({}),n=L(et(e),(function(t){return void 0!==e[t]}));return P(n,(function(t){return e[t].me}))}(t))}(t),s=function(t){return t.list}(u),c=function(t){return t.data}(u),l=function(t,e,n){var o,r,i,a=f(f({},(o=t).dom),{uid:o.uid,domChildren:P(o.components,(function(t){return t.element()}))}),u=function(t){return t.domModification.fold((function(){return Fr({})}),Fr)}(t);return i=e.length>0?function(t,e,n,o){var r=f({},e);H(n,(function(e){r[e.name()]=e.exhibit(t,o)}));var i=Lr(r,(function(t,e){return{name:t,modification:e}})),a=function(t){return F(t,(function(t,e){return f(f({},e.modification),t)}),{})},u=F(i.classes,(function(t,e){return e.modification.concat(t)}),[]),s=a(i.attributes),c=a(i.styles);return Fr({classes:u,attributes:s,styles:c})}(n,{"alloy.base.modification":u},e,a):u,f(f({},r=a),{attributes:f(f({},r.attributes),i.attributes),styles:f(f({},r.styles),i.styles),classes:r.classes.concat(i.classes)})}(a,s,c),d=(function(t,e){var n=t.dom();ot(e,(function(t,e){fr(n,e,t)}))}(n=Ue((e=l).tag),e.attributes),Kr(n,e.classes),ii(n,e.styles),e.innerHtml.each((function(t){return ar(n,t)})),er(n,e.domChildren),e.value.each((function(t){pi(n,t)})),Er(n,e.uid),n),m=function(t,e,n){var o={"alloy.base.behaviour":Ur(t)};return function(t,e,n,o){var r=function(t,e,n){var o=f(f({},n),function(t,e){var n={};return H(t,(function(t){n[t.name()]=t.handlers(e)})),n}(e,t));return Lr(o,jr)}(t,n,o);return $r(r,e)}(n,t.eventOrder,e,o).getOrDie()}(a,s,c),h=Ve(a.components),p={getSystem:i.get,config:function(e){var n=c;return(O(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))})()},hasConfigured:function(t){return O(c[t.name()])},spec:o(t),readState:function(t){return c[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},getApis:function(){return a.apis},connect:function(t){i.set(t)},disconnect:function(){i.set(_r(r))},element:o(d),syncComponents:function(){var t=Yo(d),e=W(t,(function(t){return i.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));h.set(e)},components:h.get,events:o(m)};return p},vi=function(t){var e=We(t);return bi({element:e})},bi=function(t){var n=re("external.component",Ut([ve("element"),Ee("uid")]),t),r=Ve(_r());n.uid.each((function(t){Er(n.element,t)}));var i={getSystem:r.get,config:b.none,hasConfigured:o(!1),connect:function(t){r.set(t)},disconnect:function(){r.set(_r((function(){return i})))},getApis:function(){return{}},element:o(n.element),spec:o(t),readState:o("No state"),syncComponents:e,components:o([]),events:o({})};return Rr(i)},yi=Nr,xi=function(t){return function(t){return ct(t,Br)}(t).fold((function(){return function(t){var e=Ar(t),n=e.events,o=d(e,["events"]),r=function(t){var e=ct(t,"components").getOr([]);return P(e,xi)}(o),i=f(f({},o),{events:f(f({},yr),n),components:r});return w.value(gi(i))}(t.hasOwnProperty("uid")?t:f({uid:yi("")},t)).getOrDie()}),(function(t){return t}))},wi=Rr;function Ci(t,e){var n=function(n){var o=e(n);if(o<=0||null===o){var r=ui(n,t);return parseFloat(r)||0}return o},o=function(t,e){return V(e,(function(e,n){var o=ui(t,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?e:e+r}),0)};return{set:function(e,n){if(!N(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var o=e.dom();Qr(o)&&(o.style[t]=n+"px")},get:n,getOuter:n,aggregate:o,max:function(t,e,n){var r=o(t,n);return e>r?e-r:0}}}var Si=Ci("height",(function(t){var e=t.dom();return Zr(t)?e.getBoundingClientRect().height:e.offsetHeight})),ki=function(t){return Si.get(t)},Ti=function(t){return Si.getOuter(t)},Ei=function(t,e){return{left:o(t),top:o(e),translate:function(n,o){return Ei(t+n,e+o)}}},Oi=Ei,Ni=function(t,e){return void 0!==t?t:void 0!==e?e:0},Ai=function(t){var e=t.dom().ownerDocument,n=e.body,o=e.defaultView,r=e.documentElement;if(n===t.dom())return Oi(n.offsetLeft,n.offsetTop);var i=Ni(o.pageYOffset,r.scrollTop),a=Ni(o.pageXOffset,r.scrollLeft),u=Ni(r.clientTop,n.clientTop),s=Ni(r.clientLeft,n.clientLeft);return _i(t).translate(a-s,i-u)},_i=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?Oi(n.offsetLeft,n.offsetTop):Zr(t)?function(t){var e=t.getBoundingClientRect();return Oi(e.left,e.top)}(e):Oi(0,0)},Di=Ci("width",(function(t){return t.dom().offsetWidth})),zi=function(t){return Di.get(t)},Mi=function(t){return Di.getOuter(t)},Bi=function(t){var e=qe(t.target),r=function(){t.stopPropagation()},i=function(){t.preventDefault()},a=n(i,r);return function(t,e,n,r,i,a,u){return{target:o(t),x:o(e),y:o(n),stop:r,prevent:i,kill:a,raw:o(u)}}(e,t.clientX,t.clientY,r,i,a,t)},Ri=function(t,e,n,o,r){var a=function(t,e){return function(n){t(n)&&e(Bi(n))}}(n,o);return t.dom().addEventListener(e,a,r),{unbind:i(Ii,t,e,a,r)}},Ii=function(t,e,n,o){t.dom().removeEventListener(e,n,o)},Pi=(hn().browser.isSafari(),function(e){var n=void 0!==e?e.dom():t.document;return Oi(n.body.scrollLeft||n.documentElement.scrollLeft,n.body.scrollTop||n.documentElement.scrollTop)}),Hi=function(e,n,o){(void 0!==o?o.dom():t.document).defaultView.scrollTo(e,n)},Li=function(t,e,n,r){return{x:o(t),y:o(e),width:o(n),height:o(r),right:o(t+n),bottom:o(e+r)}},Fi=function(e){var n=void 0===e?t.window:e,o=Pi(qe(n.document));return function(e){return b.from((void 0===e?t.window:e).visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,r=t.clientHeight;return Li(o.left(),o.top(),e,r)}),(function(t){return Li(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},Vi=function(t,e){return t.view(e).fold(o([]),(function(e){var n=t.owner(e),o=Vi(t,n);return[e].concat(o)}))},ji=Object.freeze({__proto__:null,view:function(e){return(e.dom()===t.document?b.none():b.from(e.dom().defaultView.frameElement)).map(qe)},owner:function(t){return Uo(t)}}),$i=function(e){var n=qe(t.document),o=Pi(n);return function(t,e){var n=e.owner(t),o=Vi(e,n);return b.some(o)}(e,ji).fold(i(Ai,e),(function(t){var n=_i(e),r=F(t,(function(t,e){var n=_i(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return Oi(r.left+n.left()+o.left(),r.top+n.top()+o.top())}))},Ui=Fo("point","width","height"),Wi=Fo("x","y","width","height"),qi=function(t,e,n,r){return{x:o(t),y:o(e),width:o(n),height:o(r),right:o(t+n),bottom:o(e+r)}},Xi=function(t){var e=Ai(t),n=Mi(t),o=Ti(t);return qi(e.left(),e.top(),n,o)},Gi=function(t){var e=$i(t),n=Mi(t),o=Ti(t);return qi(e.left(),e.top(),n,o)},Yi=function(){return Fi(t.window)};function Ki(t,e,n,o,r){return t(n,o)?b.some(n):O(r)&&r(n)?b.none():e(n,o,r)}var Ji,Qi=function(t,e,n){for(var r=t.dom(),i=O(n)?n:o(!1);r.parentNode;){var a=qe(r=r.parentNode);if(e(a))return b.some(a);if(i(a))break}return b.none()},Zi=function(t,e,n){return Ki((function(t,e){return e(t)}),Qi,t,e,n)},ta=function(t,e,n){return Zi(t,e,n).isSome()},ea=function(t,e,n){return Qi(t,(function(t){return yn(t,e)}),n)},na=function(e,n){return function(e,n){var o=void 0===n?t.document:n.dom();return xn(o)?b.none():b.from(o.querySelector(e)).map(qe)}(n,e)},oa=function(t,e,n){return Ki(yn,ea,t,e,n)},ra=function(){var t=wr("aria-owns");return{id:o(t),link:function(e){dr(e,"aria-owns",t)},unlink:function(t){gr(t,"aria-owns")}}},ia=function(t,e){return ta(e,(function(e){return Cn(e,t.element())}),o(!1))||function(t,e){return function(t){return Zi(t,(function(t){if(!cr(t))return!1;var e=mr(t,"id");return void 0!==e&&e.indexOf("aria-owns")>-1})).bind((function(t){var e=mr(t,"id"),n=Uo(t);return na(n,'[aria-owns="'+e+'"]')}))}(e).exists((function(e){return ia(t,e)}))}(t,e)};!function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"}(Ji||(Ji={}));var aa,ua=Ve({}),sa=["alloy/data/Fields","alloy/debugging/Debugging"],ca=function(e,n,o){return function(e,n,o){switch(ct(ua.get(),e).orThunk((function(){var t=et(ua.get());return tt(t,(function(t){return e.indexOf(t)>-1?b.some(ua.get()[t]):b.none()}))})).getOr(Ji.NORMAL)){case Ji.NORMAL:return o(la());case Ji.LOGGING:var r=function(e,n){var o=[],r=(new Date).getTime();return{logEventCut:function(t,e,n){o.push({outcome:"cut",target:e,purpose:n})},logEventStopped:function(t,e,n){o.push({outcome:"stopped",target:e,purpose:n})},logNoParent:function(t,e,n){o.push({outcome:"no-parent",target:e,purpose:n})},logEventNoHandlers:function(t,e){o.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,n){o.push({outcome:"response",purpose:n,target:e})},write:function(){var i=(new Date).getTime();B(["mousemove","mouseover","mouseout",oo()],e)||t.console.log(e,{event:e,time:i-r,target:n.dom(),sequence:P(o,(function(t){return B(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+vr(t.target)+")":t.outcome}))})}}}(e,n),i=o(r);return r.write(),i;case Ji.STOP:return!0}}(e,n,o)},la=o({logEventCut:e,logEventStopped:e,logNoParent:e,logEventNoHandlers:e,logEventResponse:e,write:e}),fa=o([ve("menu"),ve("selectedMenu")]),da=o([ve("item"),ve("selectedItem")]),ma=(o(Wt(da().concat(fa()))),o(Wt(da()))),ha=Se("initSize",[ve("numColumns"),ve("numRows")]),pa=function(){return Se("markers",[ve("backgroundMenu")].concat(fa()).concat(da()))},ga=function(t){return Se("markers",P(t,ve))},va=function(t,e,n){return function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");j(e,(function(t){return t.indexOf("alloy")>0&&!R(sa,(function(e){return t.indexOf(e)>-1}))})).getOr("unknown")}}(),Kt(e,e,n,te((function(t){return w.value((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)}))})))},ba=function(t){return va(0,t,Ot(e))},ya=function(t){return va(0,t,Ot(b.none))},xa=function(t){return va(0,t,Nt())},wa=function(t){return va(0,t,Nt())},Ca=function(t,e){return Fe(t,o(e))},Sa=function(t){return Fe(t,r)},ka=o(ha),Ta=Fo("x","y","bubble","direction","boundsRestriction","label"),Ea=dt([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Oa=Ea.southeast,Na=Ea.southwest,Aa=Ea.northeast,_a=Ea.northwest,Da=Ea.south,za=Ea.north,Ma=Ea.east,Ba=Ea.west,Ra=function(t,e){return function(n,o){for(var r={},i=0,a=n.length;i<a;i++){var u=n[i];r[String(u)]=ct(e,u).map((function(e){return function(t,e){switch(e){case 1:return t.x();case 0:return t.x()+t.width();case 2:return t.y();case 3:return t.y()+t.height()}}(t,e)}))}return r}(["left","right","top","bottom"])},Ia=function(t){return t.x()},Pa=function(t,e){return t.x()+t.width()/2-e.width()/2},Ha=function(t,e){return t.x()+t.width()-e.width()},La=function(t,e){return t.y()-e.height()},Fa=function(t){return t.y()+t.height()},Va=function(t,e){return t.y()+t.height()/2-e.height()/2},ja=function(t,e,n){return Ta(Ia(t),Fa(t),n.southeast(),Oa(),Ra(t,{left:1,top:3}),"layout-se")},$a=function(t,e,n){return Ta(Ha(t,e),Fa(t),n.southwest(),Na(),Ra(t,{right:0,top:3}),"layout-sw")},Ua=function(t,e,n){return Ta(Ia(t),La(t,e),n.northeast(),Aa(),Ra(t,{left:1,bottom:2}),"layout-ne")},Wa=function(t,e,n){return Ta(Ha(t,e),La(t,e),n.northwest(),_a(),Ra(t,{right:0,bottom:2}),"layout-nw")},qa=function(t,e,n){return Ta(Pa(t,e),La(t,e),n.north(),za(),Ra(t,{bottom:2}),"layout-n")},Xa=function(t,e,n){return Ta(Pa(t,e),Fa(t),n.south(),Da(),Ra(t,{top:3}),"layout-s")},Ga=function(t,e,n){return Ta(function(t){return t.x()+t.width()}(t),Va(t,e),n.east(),Ma(),Ra(t,{left:0}),"layout-e")},Ya=function(t,e,n){return Ta(function(t,e){return t.x()-e.width()}(t,e),Va(t,e),n.west(),Ba(),Ra(t,{right:1}),"layout-w")},Ka=function(){return[ja,$a,Ua,Wa,Xa,qa,Ga,Ya]},Ja=function(){return[$a,ja,Wa,Ua,Xa,qa,Ga,Ya]},Qa=function(){return[Ua,Wa,ja,$a,qa,Xa]},Za=function(){return[ja,$a,Ua,Wa,Xa,qa]},tu=function(){return[$a,ja,Wa,Ua,Xa,qa]},eu=function(t,e,n){return Ho((function(o,r){n(o,t,e)}))},nu=function(t){return{key:t,value:void 0}},ou=function(t,e,n,r,a,u,s){var c=function(t){return ft(t,n)?t[n]():b.none()},l=rt(a,(function(t,e){return function(t,e,n){return function(t,e,n){var o=n.toString(),r=o.indexOf(")")+1,i=o.indexOf("("),a=o.substring(i+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:zr(a.slice(0,1).concat(a.slice(3)))}},t}((function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var u=[r].concat(i);return r.config({name:o(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(u,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))}),n,e)}(n,t,e)})),d=rt(u,(function(t,e){return Mr(t,e)})),m=f(f(f({},d),l),{revoke:i(nu,n),config:function(e){var o=re(n+"-config",t,e);return{key:n,value:{config:o,me:m,configAsRaw:vt((function(){return re(n+"-config",t,e)})),initialConfig:e,state:s}}},schema:function(){return e},exhibit:function(t,e){return c(t).bind((function(t){return ct(r,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(Fr({}))},name:function(){return n},handlers:function(t){return c(t).map((function(t){return ct(r,"events").getOr((function(){return{}}))(t.config,t.state)})).getOr({})}});return m},ru=function(t){return Rt(t)},iu=Ut([ve("fields"),ve("name"),ze("active",{}),ze("apis",{}),ze("state",Pr),ze("extra",{})]),au=function(t){var e=re("Creating behaviour: "+t.name,iu,t);return function(t,e,n,o,r,i){var a,u=Ut(t),s=De(e,[(a=t,Oe("config",Ut(a)))]);return ou(u,s,e,n,o,r,i)}(e.fields,e.name,e.active,e.apis,e.extra,e.state)},uu=Ut([ve("branchKey"),ve("branches"),ve("name"),ze("active",{}),ze("apis",{}),ze("state",Pr),ze("extra",{})]),su=function(t){var e=re("Creating behaviour: "+t.name,uu,t);return function(t,e,n,o,r,i){var a=t,u=De(e,[Oe("config",t)]);return ou(a,u,e,n,o,r,i)}(ue(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},cu=o(void 0),lu=Object.freeze({__proto__:null,events:function(t){return To([No(Kn(),(function(e,n){var o=t.channels,r=et(o),i=n,a=function(t,e){return e.universal()?t:L(t,(function(t){return B(e.channels(),t)}))}(r,i);H(a,(function(t){var n=o[t],r=n.schema,a=re("channel["+t+"] data\nReceiver: "+vr(e.element()),r,i.data());n.onReceive(e,a)}))}))])}}),fu=[be("channels",ee(w.value,Ut([xa("onReceive"),ze("schema",se())])))],du=au({fields:fu,name:"receiving",active:lu}),mu=Object.freeze({__proto__:null,exhibit:function(t,e){return Fr({classes:[],styles:e.useFixed()?{}:{position:"relative"}})}}),hu=function(t){t.dom().focus()},pu=function(e){var n=void 0!==e?e.dom():t.document;return b.from(n.activeElement).map(qe)},gu=function(t){return pu(Uo(t)).filter((function(e){return t.dom().contains(e.dom())}))},vu=function(t,n){var o=Uo(n),r=pu(o).bind((function(t){var e,o,r=function(e){return Cn(t,e)};return r(n)?b.some(n):(e=r,(o=function(t){for(var n=0;n<t.childNodes.length;n++){var r=qe(t.childNodes[n]);if(e(r))return b.some(r);var i=o(t.childNodes[n]);if(i.isSome())return i}return b.none()})(n.dom()))})),i=t(n);return r.each((function(t){pu(o).filter((function(e){return Cn(e,t)})).fold((function(){hu(t)}),e)})),i},bu=Fo("position","left","top","right","bottom"),yu=function(t,e){var n=function(t){return t+"px"};ai(t,{position:b.some(e.position()),left:e.left().map(n),top:e.top().map(n),right:e.right().map(n),bottom:e.bottom().map(n)})},xu=dt([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),wu=function(t,e,n,o,r,i){var a=e.x()-n,u=e.y()-o,s=r-(a+e.width()),c=i-(u+e.height()),l=b.some(a),f=b.some(u),d=b.some(s),m=b.some(c),h=b.none();return e.direction().fold((function(){return bu(t,l,f,h,h)}),(function(){return bu(t,h,f,d,h)}),(function(){return bu(t,l,h,h,m)}),(function(){return bu(t,h,h,d,m)}),(function(){return bu(t,l,f,h,h)}),(function(){return bu(t,l,h,h,m)}),(function(){return bu(t,l,f,h,h)}),(function(){return bu(t,h,f,d,h)}))},Cu=function(t,e){var n=i($i,e),o=t.fold(n,n,(function(){var t=Pi();return $i(e).translate(-t.left(),-t.top())})),r=Mi(e),a=Ti(e);return qi(o.left(),o.top(),r,a)},Su=function(t,e){return e.fold((function(){return t.fold(Yi,Yi,qi)}),(function(e){return t.fold(e,e,(function(){var n=e(),o=ku(t,n.x(),n.y());return qi(o.left(),o.top(),n.width(),n.height())}))}))},ku=function(t,e,n){var r=Oi(e,n);return t.fold(o(r),o(r),(function(){var t=Pi();return r.translate(-t.left(),-t.top())}))},Tu=xu.relative,Eu=xu.fixed,Ou=Fo("anchorBox","origin"),Nu=function(t,e,n,o){var r=t+e;return r>o?n:r<n?o:r},Au=function(t,e,n){return Math.min(Math.max(t,e),n)},_u=$o(["x","y","width","height","maxHeight","maxWidth","direction","classes","label","candidateYforTest"],[]),Du=dt([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),zu=function(t,e,n,a){di(e,"max-height"),di(e,"max-width");var u,s={width:o(Mi(u=e)),height:o(Ti(u))};return function(t,e,n,a,u){var s=n.width(),c=n.height(),l=function(t,i,l,f){return function(t,e,n,i){var a=t.x(),u=t.y(),s=t.bubble().offset(),c=s.left(),l=s.top(),f=function(t,e,n){var o=function(t,o){var i="top"===t||"bottom"===t?n.top():n.left();return ct(e,t).bind(r).bind((function(e){return"left"===t||"top"===t?e>=o?b.some(e):b.none():e<=o?b.some(e):b.none()})).map((function(t){return t+i})).getOr(o)},i=o("left",t.x()),a=o("top",t.y()),u=o("right",t.right()),s=o("bottom",t.bottom());return qi(i,a,u-i,s-a)}(i,t.boundsRestriction(),s),d=f.y(),m=f.bottom(),h=f.x(),p=f.right(),g=u+l,v=function(t,e,n,o,r){var i=r.x(),a=r.y(),u=r.width(),s=r.height(),c=t>=i,l=e>=a,f=c&&l,d=t+n<=i+u&&e+o<=a+s,m=Math.abs(Math.min(n,c?i+u-t:i-(t+n))),h=Math.abs(Math.min(o,l?a+s-e:a-(e+o))),p=Math.max(r.x(),r.right()-n),g=Math.max(r.y(),r.bottom()-o);return{originInBounds:f,sizeInBounds:d,limitX:Au(t,r.x(),p),limitY:Au(e,r.y(),g),deltaW:m,deltaH:h}}(a+c,g,e,n,f),y=v.originInBounds,x=v.sizeInBounds,w=v.limitX,C=v.limitY,S=v.deltaW,k=v.deltaH,T=o(C+k-d),E=o(m-C),O=function(t,e,n,o){return t.fold(e,e,o,o,e,o,n,n)}(t.direction(),E,E,T),N=o(w+S-h),A=o(p-w),_=function(t,e,n,o){return t.fold(e,o,e,o,n,n,e,o)}(t.direction(),A,A,N),D=_u({x:w,y:C,width:S,height:k,maxHeight:O,maxWidth:_,direction:t.direction(),classes:{on:t.bubble().classesOn(),off:t.bubble().classesOff()},label:t.label(),candidateYforTest:g});return y&&x?Du.fit(D):Du.nofit(D,S,k)}(t(e,n,a),s,c,u).fold(Du.fit,(function(t,e,n){return n>f||e>l?Du.nofit(t,e,n):Du.nofit(i,l,f)}))};return V(t,(function(t,e){var n=i(l,e);return t.fold(Du.fit,n)}),Du.nofit(_u({x:e.x(),y:e.y(),width:n.width(),height:n.height(),maxHeight:n.height(),maxWidth:n.width(),direction:Oa(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y()}),-1,-1)).fold(r,r)}(a.preference(),t,s,n,a.bounds())},Mu=function(t,e){!function(t,e){var n=Si.max(t,e,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);ri(t,"max-height",n+"px")}(t,Math.floor(e))},Bu=o((function(t,e){Mu(t,e),ii(t,{"overflow-x":"hidden","overflow-y":"auto"})})),Ru=o((function(t,e){Mu(t,e)})),Iu=$o(["bounds","origin","preference","maxHeightFunction","maxWidthFunction"],[]),Pu=function(t,e,n){return void 0===t[e]?n:t[e]},Hu=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Lu=function(t,e,n){var o=function(t){return ct(n,t).getOr([])},r=function(t,e,n){var r=G(Hu,n);return{offset:function(){return Oi(t,e)},classesOn:function(){return W(n,o)},classesOff:function(){return W(r,o)}}};return{southeast:function(){return r(-t,e,["top","alignLeft"])},southwest:function(){return r(t,e,["top","alignRight"])},south:function(){return r(-t/2,e,["top","alignCentre"])},northeast:function(){return r(-t,-e,["bottom","alignLeft"])},northwest:function(){return r(t,-e,["bottom","alignRight"])},north:function(){return r(-t/2,-e,["bottom","alignCentre"])},east:function(){return r(t,-e/2,["valignCentre","left"])},west:function(){return r(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return r(-t,e,["top","alignRight"])},innerNortheast:function(){return r(t,e,["top","alignLeft"])},innerNorth:function(){return r(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return r(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return r(t,-e,["bottom","alignLeft"])},innerSouth:function(){return r(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return r(t,-e/2,["valignCentre","right"])},innerEast:function(){return r(-t,-e/2,["valignCentre","left"])}}},Fu=function(){return Lu(0,0,{})},Vu=function(t,e){return function(n){return"rtl"===ju(n)?e:t}},ju=function(t){return"rtl"===ui(t,"direction")?"rtl":"ltr"};!function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"}(aa||(aa={}));var $u,Uu="data-alloy-vertical-dir",Wu=function(t){return ta(t,(function(t){return cr(t)&&mr(t,Uu)===aa.BottomToTop}))},qu=function(){return De("layouts",[ve("onLtr"),ve("onRtl"),Ee("onBottomLtr"),Ee("onBottomRtl")])},Xu=function(t,e,n,o,r,i,a){var u=a.map(Wu).getOr(!1),s=e.layouts.map((function(e){return e.onLtr(t)})),c=e.layouts.map((function(e){return e.onRtl(t)})),l=u?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(s).getOr(r):s.getOr(n),f=u?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(c).getOr(i):c.getOr(o);return Vu(l,f)(t)},Gu=[ve("hotspot"),Ee("bubble"),ze("overrides",{}),qu(),Ca("placement",(function(t,e,n){var o=Cu(n,e.hotspot.element()),r=Xu(t.element(),e,Za(),tu(),Qa(),[Wa,Ua,$a,ja,qa,Xa],b.some(e.hotspot.element()));return b.some({anchorBox:o,bubble:e.bubble.getOr(Fu()),overrides:e.overrides,layouts:r,placer:b.none()})}))],Yu=[ve("x"),ve("y"),ze("height",0),ze("width",0),ze("bubble",Fu()),ze("overrides",{}),qu(),Ca("placement",(function(t,e,n){var o=ku(n,e.x,e.y),r=qi(o.left(),o.top(),e.width,e.height),i=Xu(t.element(),e,Ka(),Ja(),Ka(),Ja(),b.none());return b.some({anchorBox:r,bubble:e.bubble,overrides:e.overrides,layouts:i,placer:b.none()})}))],Ku={create:Fo("start","soffset","finish","foffset")},Ju=(dt([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),function(t){return t.fold(r,r,r)}),Qu=dt([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Zu={domRange:Qu.domRange,relative:Qu.relative,exact:Qu.exact,exactFromRange:function(t){return Qu.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return qe(t.startContainer)},relative:function(t,e){return Ju(t)},exact:function(t,e,n,o){return t}})}(t);return qo(e)},range:Ku.create},ts=function(t,e,n){var o,r=t.document.createRange();return o=r,e.fold((function(t){o.setStartBefore(t.dom())}),(function(t,e){o.setStart(t.dom(),e)}),(function(t){o.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(r,n),r},es=function(t,e,n,o,r){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(o.dom(),r),i},ns=function(t){return{left:o(t.left),top:o(t.top),right:o(t.right),bottom:o(t.bottom),width:o(t.width),height:o(t.height)}},os=dt([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),rs=function(t,e,n){return e(qe(n.startContainer),n.startOffset,qe(n.endContainer),n.endOffset)},is=function(t,e){var n=function(e){return t(e)?b.from(e.dom().nodeValue):b.none()};return{get:function(e){if(!t(e))throw new Error("Can only get text value of a text node");return n(e).getOr("")},getOption:n,set:function(e,n){if(!t(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=n}}}(lr),as=function(t){return is.getOption(t)},us=["img","br"],ss=function(t){return as(t).filter((function(t){return 0!==t.trim().length||t.indexOf("\xa0")>-1})).isSome()||B(us,ur(t))},cs=function(t,e){return wn(e,t)},ls=function(t){var e=qe(t.anchorNode),n=qe(t.focusNode);return function(t,e,n,o){var r=function(t,e,n,o){var r=Uo(t).dom().createRange();return r.setStart(t.dom(),e),r.setEnd(n.dom(),o),r}(t,e,n,o),i=Cn(t,n)&&e===o;return r.collapsed&&!i}(e,t.anchorOffset,n,t.focusOffset)?b.some(Ku.create(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return b.some(Ku.create(qe(e.startContainer),e.startOffset,qe(n.endContainer),n.endOffset))}return b.none()}(t)},fs=function(t,e){return function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?b.some(n).map(ns):b.none()}(function(t,e){return function(t,e){return n=function(t,e){return e.match({domRange:function(t){return{ltr:o(t),rtl:b.none}},relative:function(e,n){return{ltr:vt((function(){return ts(t,e,n)})),rtl:vt((function(){return b.some(ts(t,n,e))}))}},exact:function(e,n,o,r){return{ltr:vt((function(){return es(t,e,n,o,r)})),rtl:vt((function(){return b.some(es(t,o,r,e,n))}))}}})}(t,e),(r=n.ltr()).collapsed?n.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return os.rtl(qe(t.endContainer),t.endOffset,qe(t.startContainer),t.startOffset)})).getOrThunk((function(){return rs(0,os.ltr,r)})):rs(0,os.ltr,r);var n,r}(t,e).match({ltr:function(e,n,o,r){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(o.dom(),r),i},rtl:function(e,n,o,r){var i=t.document.createRange();return i.setStart(o.dom(),r),i.setEnd(e.dom(),n),i}})}(t,e))},ds=Fo("element","offset"),ms=dt([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),hs=function(t){return t.fold(r,(function(t,e,n){return t.translate(-e,-n)}))},ps=function(t){return t.fold(r,r)},gs=function(t){return V(t,(function(t,e){return t.translate(e.left(),e.top())}),Oi(0,0))},vs=function(t){var e=P(t,ps);return gs(e)},bs=ms.screen,ys=ms.absolute,xs=function(t,e,n){var o=Uo(t.element()),r=Pi(o),i=function(t,e,n){var o=qo(n.root).dom();return b.from(o.frameElement).map(qe).filter((function(e){var n=Uo(e),o=Uo(t.element());return Cn(n,o)})).map(Ai)}(t,0,n).getOr(r);return ys(i,r.left(),r.top())},ws=function(t,e,n,o){var r=t,i=e,a=n,u=o;t<0&&(r=0,a=n+t),e<0&&(i=0,u=o+e);var s=bs(Oi(r,i));return b.some(Ui(s,a,u))},Cs=function(t,e,n,o,r){return t.map((function(t){var i=[e,t.point()],a=o.fold((function(){return vs(i)}),(function(){return vs(i)}),(function(){return function(t){var e=P(t,hs);return gs(e)}(i)})),u=Wi(a.left(),a.top(),t.width(),t.height()),s=n.showAbove?Qa():Za(),c=tu(),l=Xu(r,n,s,c,s,c,b.none());return{anchorBox:u,bubble:n.bubble.getOr(Fu()),overrides:n.overrides,layouts:l,placer:b.none()}}))},Ss=Fo("element","offset"),ks=function(t,e){return lr(t)?Ss(t,e):function(t,e){var n=Yo(t);if(0===n.length)return ds(t,e);if(e<n.length)return ds(n[e],0);var o=n[n.length-1],r=lr(o)?function(t){return is.get(t)}(o).length:Yo(o).length;return ds(o,r)}(t,e)},Ts=function(t,e){return e.getSelection.getOrThunk((function(){return function(){return function(t){return b.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(ls)}(t)}}))().map((function(t){var e=ks(t.start(),t.soffset()),n=ks(t.finish(),t.foffset());return Zu.range(e.element(),e.offset(),n.element(),n.offset())}))},Es=[Ee("getSelection"),ve("root"),Ee("bubble"),qu(),ze("overrides",{}),ze("showAbove",!1),Ca("placement",(function(t,e,n){var o=qo(e.root).dom(),r=xs(t,0,e),i=Ts(o,e).bind((function(t){return fs(o,Zu.exactFromRange(t)).orThunk((function(){var e=We("\ufeff");return Jo(t.start(),e),fs(o,Zu.exact(e,0,e,1)).map((function(t){return or(e),t}))})).bind((function(t){return ws(t.left(),t.top(),t.width(),t.height())}))})),a=Ts(o,e).bind((function(t){return cr(t.start())?b.some(t.start()):Xo(t.start())})).getOr(t.element());return Cs(i,r,e,n,a)}))],Os=[ve("node"),ve("root"),Ee("bubble"),qu(),ze("overrides",{}),ze("showAbove",!1),Ca("placement",(function(t,e,n){var o=xs(t,0,e);return e.node.bind((function(r){var i=r.dom().getBoundingClientRect(),a=ws(i.left,i.top,i.width,i.height),u=e.node.getOr(t.element());return Cs(a,o,e,n,u)}))}))],Ns=function(t){return t.x()+t.width()},As=function(t,e){return t.x()-e.width()},_s=function(t,e){return t.y()-e.height()+t.height()},Ds=function(t){return t.y()},zs=function(t,e,n){return Ta(Ns(t),Ds(t),n.southeast(),Oa(),Ra(t,{left:0,top:2}),"link-layout-se")},Ms=function(t,e,n){return Ta(As(t,e),Ds(t),n.southwest(),Na(),Ra(t,{right:1,top:2}),"link-layout-sw")},Bs=function(t,e,n){return Ta(Ns(t),_s(t,e),n.northeast(),Aa(),Ra(t,{left:0,bottom:3}),"link-layout-ne")},Rs=function(t,e,n){return Ta(As(t,e),_s(t,e),n.northwest(),_a(),Ra(t,{right:1,bottom:3}),"link-layout-nw")},Is=function(){return[zs,Ms,Bs,Rs]},Ps=function(){return[Ms,zs,Rs,Bs]},Hs=[ve("item"),qu(),ze("overrides",{}),Ca("placement",(function(t,e,n){var o=Cu(n,e.item.element()),r=Xu(t.element(),e,Is(),Ps(),Is(),Ps(),b.none());return b.some({anchorBox:o,bubble:Fu(),overrides:e.overrides,layouts:r,placer:b.none()})}))],Ls=ue("anchor",{selection:Es,node:Os,hotspot:Gu,submenu:Hs,makeshift:Yu}),Fs=function(t,n,o,r,i){!function(t,n,o,r,i,a){var u=Pu(a,"maxHeightFunction",Bu()),s=Pu(a,"maxWidthFunction",e),c=t.anchorBox(),l=t.origin();!function(t,e,n,o){var r=zu(t,e,n,o);(function(t,e,n){yu(t,function(t,e){return t.fold((function(){return bu("absolute",b.some(e.x()),b.some(e.y()),b.none(),b.none())}),(function(t,n,o,r){return wu("absolute",e,t,n,o,r)}),(function(t,n,o,r){return wu("fixed",e,t,n,o,r)}))}(n.origin(),e))})(e,r,o),function(t,e){var n=e.classes();Jr(t,n.off),Kr(t,n.on)}(e,r),function(t,e,n){n.maxHeightFunction()(t,e.maxHeight())}(e,r,o),function(t,e,n){n.maxWidthFunction()(t,e.maxWidth())}(e,r,o)}(c,n,o,Iu({bounds:Su(l,i),origin:l,preference:r,maxHeightFunction:u,maxWidthFunction:s}))}(function(t,e){return Ou(t,e)}(o.anchorBox,n),i.element(),o.bubble,o.layouts,r,o.overrides)},Vs=function(t,e,n,o,r,i){var a=i.map(Xi);return js(t,e,n,o,r,a)},js=function(e,n,r,i,a,u){var s=re("positioning anchor.info",Ls,i);vu((function(){ri(a.element(),"position","fixed");var r=ci(a.element(),"visibility");ri(a.element(),"visibility","hidden");var i,c=n.useFixed()?Eu(0,0,(i=t.document.documentElement).clientWidth,i.clientHeight):function(t){var e=Ai(t.element()),n=t.element().dom().getBoundingClientRect();return Tu(e.left(),e.top(),n.width,n.height)}(e),l=s.placement,f=u.map(o).or(n.getBounds);l(e,s,c).each((function(t){t.placer.getOr(Fs)(e,c,t,f,a)})),r.fold((function(){di(a.element(),"visibility")}),(function(t){ri(a.element(),"visibility",t)})),ci(a.element(),"left").isNone()&&ci(a.element(),"top").isNone()&&ci(a.element(),"right").isNone()&&ci(a.element(),"bottom").isNone()&&ci(a.element(),"position").is("fixed")&&di(a.element(),"position")}),a.element())},$s=Object.freeze({__proto__:null,position:function(t,e,n,o,r){Vs(t,e,n,o,r,b.none())},positionWithin:Vs,positionWithinBounds:js,getMode:function(t,e,n){return e.useFixed()?"fixed":"absolute"}}),Us=[ze("useFixed",s),Ee("getBounds")],Ws=au({fields:Us,name:"positioning",active:mu,apis:$s}),qs=function(t){yo(t,co());var e=t.components();H(e,qs)},Xs=function(t){var e=t.components();H(e,Xs),yo(t,so())},Gs=function(t,e){tr(t.element(),e.element())},Ys=function(t,e){var n=t.components();!function(t){H(t.components(),(function(t){return or(t.element())})),nr(t.element()),t.syncComponents()}(t);var o=G(n,e);H(o,(function(e){qs(e),t.getSystem().removeFromWorld(e)})),H(e,(function(e){e.getSystem().isConnected()?Gs(t,e):(t.getSystem().addToWorld(e),Gs(t,e),Zr(t.element())&&Xs(e)),t.syncComponents()}))},Ks=function(t,e){Js(t,e,tr)},Js=function(t,e,n){t.getSystem().addToWorld(e),n(t.element(),e.element()),Zr(t.element())&&Xs(e),t.syncComponents()},Qs=function(t){qs(t),or(t.element()),t.getSystem().removeFromWorld(t)},Zs=function(t){var e=Xo(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}));Qs(t),e.each((function(t){t.syncComponents()}))},tc=function(t){var e=t.components();H(e,Qs),nr(t.element()),t.syncComponents()},ec=function(t,e){nc(t,e,tr)},nc=function(t,e,n){n(t,e.element());var o=Yo(e.element());H(o,(function(t){e.getByDom(t).each(Xs)}))},oc=function(t){var e=Yo(t.element());H(e,(function(e){t.getByDom(e).each(qs)})),or(t.element())},rc=function(t,e,n,o){n.get().each((function(e){tc(t)}));var r=e.getAttachPoint(t);Ks(r,t);var i=t.getSystem().build(o);return Ks(t,i),n.set(i),i},ic=function(t,e,n,o){var r=rc(t,e,n,o);return e.onOpen(t,r),r},ac=function(t,e,n){n.get().each((function(o){tc(t),Zs(t),e.onClose(t,o),n.clear()}))},uc=function(t,e,n){return n.isOpen()},sc=function(t,e,n){var o=e.getAttachPoint(t);ri(t.element(),"position",Ws.getMode(o)),function(t,e,n,o){ci(t.element(),"visibility").fold((function(){gr(t.element(),n)}),(function(e){dr(t.element(),n,e)})),ri(t.element(),"visibility","hidden")}(t,0,e.cloakVisibilityAttr)},cc=function(t,e,n){(function(t){return R(["top","left","right","bottom"],(function(e){return ci(t,e).isSome()}))})(t.element())||di(t.element(),"position"),function(t,e,n){if(pr(t.element(),n)){var o=mr(t.element(),n);ri(t.element(),"visibility",o)}else di(t.element(),"visibility")}(t,0,e.cloakVisibilityAttr)},lc=Object.freeze({__proto__:null,cloak:sc,decloak:cc,open:ic,openWhileCloaked:function(t,e,n,o,r){sc(t,e),ic(t,e,n,o),r(),cc(t,e)},close:ac,isOpen:uc,isPartOf:function(t,e,n,o){return uc(0,0,n)&&n.get().exists((function(n){return e.isPartOf(t,n,o)}))},getState:function(t,e,n){return n.get()},setContent:function(t,e,n,o){return n.get().map((function(){return rc(t,e,n,o)}))}}),fc=Object.freeze({__proto__:null,events:function(t,e){return To([No(eo(),(function(n,o){ac(n,t,e)}))])}}),dc=[ba("onOpen"),ba("onClose"),ve("isPartOf"),ve("getAttachPoint"),ze("cloakVisibilityAttr","data-precloak-visibility")],mc=au({fields:dc,name:"sandboxing",active:fc,apis:lc,state:Object.freeze({__proto__:null,init:function(){var t=Ve(b.none()),e=o("not-implemented");return Hr({readState:e,isOpen:function(){return t.get().isSome()},clear:function(){t.set(b.none())},set:function(e){t.set(b.some(e))},get:function(){return t.get()}})}})}),hc=o("dismiss.popups"),pc=o("reposition.popups"),gc=o("mouse.released"),vc=Ut([ze("isExtraPart",o(!1)),De("fireEventInstead",[ze("event",lo())])]),bc=function(t){var e,n=re("Dismissal",vc,t);return(e={})[hc()]={schema:Ut([ve("target")]),onReceive:function(t,e){mc.isOpen(t)&&(mc.isPartOf(t,e.target)||n.isExtraPart(t,e.target)||n.fireEventInstead.fold((function(){return mc.close(t)}),(function(e){return yo(t,e.event)})))}},e},yc=Ut([De("fireEventInstead",[ze("event",fo())]),Ce("doReposition")]),xc=function(t){var e,n=re("Reposition",yc,t);return(e={})[pc()]={onReceive:function(t){mc.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return yo(t,e.event)}))}},e},wc=function(t,e,n){e.store.manager.onLoad(t,e,n)},Cc=function(t,e,n){e.store.manager.onUnload(t,e,n)},Sc=Object.freeze({__proto__:null,onLoad:wc,onUnload:Cc,setValue:function(t,e,n,o){e.store.manager.setValue(t,e,n,o)},getValue:function(t,e,n){return e.store.manager.getValue(t,e,n)},getState:function(t,e,n){return n}}),kc=Object.freeze({__proto__:null,events:function(t,e){var n=t.resetOnDom?[Io((function(n,o){wc(n,t,e)})),Po((function(n,o){Cc(n,t,e)}))]:[eu(t,e,wc)];return To(n)}}),Tc=function(){var t=Ve(null);return Hr({set:t.set,get:t.get,isNotSet:function(){return null===t.get()},clear:function(){t.set(null)},readState:function(){return{mode:"memory",value:t.get()}}})},Ec=function(){var t=Ve({}),e=Ve({});return Hr({readState:function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},lookup:function(n){return ct(t.get(),n).orThunk((function(){return ct(e.get(),n)}))},update:function(n){var o=t.get(),r=e.get(),i={},a={};H(n,(function(t){i[t.value]=t,ct(t,"meta").each((function(e){ct(e,"text").each((function(e){a[e]=t}))}))})),t.set(f(f({},o),i)),e.set(f(f({},r),a))},clear:function(){t.set({}),e.set({})}})},Oc=Object.freeze({__proto__:null,memory:Tc,dataset:Ec,manual:function(){return Hr({readState:function(){}})},init:function(t){return t.store.manager.state(t)}}),Nc=function(t,e,n,o){var r=e.store;n.update([o]),r.setValue(t,o),e.onSetValue(t,o)},Ac=[Ee("initialValue"),ve("getFallbackEntry"),ve("getDataKey"),ve("setValue"),Ca("manager",{setValue:Nc,getValue:function(t,e,n){var o=e.store,r=o.getDataKey(t);return n.lookup(r).fold((function(){return o.getFallbackEntry(r)}),(function(t){return t}))},onLoad:function(t,e,n){e.store.initialValue.each((function(o){Nc(t,e,n,o)}))},onUnload:function(t,e,n){n.clear()},state:Ec})],_c=[ve("getValue"),ze("setValue",e),Ee("initialValue"),Ca("manager",{setValue:function(t,e,n,o){e.store.setValue(t,o),e.onSetValue(t,o)},getValue:function(t,e,n){return e.store.getValue(t)},onLoad:function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},onUnload:e,state:Pr.init})],Dc=[Ee("initialValue"),Ca("manager",{setValue:function(t,e,n,o){n.set(o),e.onSetValue(t,o)},getValue:function(t,e,n){return n.get()},onLoad:function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},onUnload:function(t,e,n){n.clear()},state:Tc})],zc=[Me("store",{mode:"memory"},ue("mode",{memory:Dc,manual:_c,dataset:Ac})),ba("onSetValue"),ze("resetOnDom",!1)],Mc=au({fields:zc,name:"representing",active:kc,apis:Sc,extra:{setValueFrom:function(t,e){var n=Mc.getValue(e);Mc.setValue(t,n)}},state:Oc}),Bc=function(t,e){return Le(t,{},P(e,(function(e){return n=e.name(),o="Cannot configure "+e.name()+" for "+t,Kt(n,n,At(),jt((function(t){return St("The field: "+n+" is forbidden. "+o)})));var n,o})).concat([Fe("dump",r)]))},Rc=function(t){return t.dump},Ic=function(t,e){return f(f({},t.dump),ru(e))},Pc=Bc,Hc=Ic,Lc=dt([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Fc=function(t){return lt(t,"uiType")},Vc=function(t,e,n,i){return function(t,e,n,r){return Fc(n)&&"placeholder"===n.uiType?function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?Lc.single(!0,o(n)):ct(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+et(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}(t,0,n,r):Lc.single(!1,o(n))}(t,0,n,i).fold((function(o,r){var a=Fc(n)?r(e,n.config,n.validated):r(e),u=ct(a,"components").getOr([]),s=W(u,(function(n){return Vc(t,e,n,i)}));return[f(f({},a),{components:s})]}),(function(t,o){if(Fc(n)){var i=o(e,n.config,n.validated);return n.validated.preprocess.getOr(r)(i)}return o(e)}))},jc=Lc.single,$c=Lc.multiple,Uc=o("placeholder"),Wc=dt([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),qc=ze("factory",{sketch:r}),Xc=ze("schema",[]),Gc=ve("name"),Yc=Kt("pname","pname",_t((function(t){return"<alloy."+wr(t.name)+">"})),se()),Kc=Fe("schema",(function(){return[Ee("preprocess")]})),Jc=ze("defaults",o({})),Qc=ze("overrides",o({})),Zc=Wt([qc,Xc,Gc,Yc,Jc,Qc]),tl=Wt([qc,Xc,Gc,Jc,Qc]),el=Wt([qc,Xc,Gc,Yc,Jc,Qc]),nl=Wt([qc,Kc,Gc,ve("unit"),Yc,Jc,Qc]),ol=function(t){return t.fold(b.some,b.none,b.some,b.some)},rl=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},il=function(t,e){return function(n){var o=re("Converting part type",e,n);return t(o)}},al=il(Wc.required,Zc),ul=il(Wc.external,tl),sl=il(Wc.optional,el),cl=il(Wc.group,nl),ll=o("entirety"),fl=Object.freeze({__proto__:null,required:al,external:ul,optional:sl,group:cl,asNamedPart:ol,name:rl,asCommon:function(t){return t.fold(r,r,r,r)},original:ll}),dl=function(t,e,n,o){return pt(e.defaults(t,n,o),n,{uid:t.partUids[e.name]},e.overrides(t,n,o))},ml=function(t,e){var n={};return H(e,(function(e){ol(e).each((function(e){var o=hl(t,e.pname);n[e.name]=function(n){var r=re("Part: "+e.name+" in "+t,Wt(e.schema),n);return f(f({},o),{config:n,validated:r})}}))})),n},hl=function(t,e){return{uiType:Uc(),owner:t,name:e}},pl=function(t,e,n){return{uiType:Uc(),owner:t,name:e,config:n,validated:{}}},gl=function(t){return W(t,(function(t){return t.fold(b.none,b.some,b.none,b.none).map((function(t){return Se(t.name,t.schema.concat([Sa(ll())]))})).toArray()}))},vl=function(t){return P(t,rl)},bl=function(t,e,n){return function(t,e,n){var r={},i={};return H(n,(function(t){t.fold((function(t){r[t.pname]=jc(!0,(function(e,n,o){return t.factory.sketch(dl(e,t,n,o))}))}),(function(t){var n=e.parts[t.name];i[t.name]=o(t.factory.sketch(dl(e,t,n[ll()]),n))}),(function(t){r[t.pname]=jc(!1,(function(e,n,o){return t.factory.sketch(dl(e,t,n,o))}))}),(function(t){r[t.pname]=$c(!0,(function(e,n,o){return P(e[t.name],(function(n){return t.factory.sketch(pt(t.defaults(e,n,o),n,t.overrides(e,n)))}))}))}))})),{internals:o(r),externals:o(i)}}(0,e,n)},yl=function(t,e,n){return function(t,e,n,r){var i=rt(r,(function(t,e){return r=t,i=!1,{name:o(n=e),required:function(){return r.fold((function(t,e){return t}),(function(t,e){return t}))},used:function(){return i},replace:function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,r}};var n,r,i})),a=function(t,e,n,o){return W(n,(function(n){return Vc(t,e,n,o)}))}(t,e,n,i);return ot(i,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),a}(b.some(t),e,e.components,n)},xl=function(t,e,n){var o=e.partUids[n];return t.getSystem().getByUid(o).toOption()},wl=function(t,e,n){return xl(t,e,n).getOrDie("Could not find part: "+n)},Cl=function(t,e,n){var r={},i=e.partUids,a=t.getSystem();return H(n,(function(t){r[t]=o(a.getByUid(i[t]))})),r},Sl=function(t,e){var n=t.getSystem();return rt(e.partUids,(function(t,e){return o(n.getByUid(t))}))},kl=function(t){return et(t.partUids)},Tl=function(t,e,n){var r={},i=e.partUids,a=t.getSystem();return H(n,(function(t){r[t]=o(a.getByUid(i[t]).getOrDie())})),r},El=function(t,e){var n=vl(e);return Rt(P(n,(function(e){return{key:e,value:t+"-"+e}})))},Ol=function(t){return Kt("partUids","partUids",Dt((function(e){return El(e.uid,t)})),se())},Nl=Object.freeze({__proto__:null,generate:ml,generateOne:pl,schemas:gl,names:vl,substitutes:bl,components:yl,defaultUids:El,defaultUidsSchema:Ol,getAllParts:Sl,getAllPartNames:kl,getPart:xl,getPartOrDie:wl,getParts:Cl,getPartsOrDie:Tl}),Al=function(t,e,n,o,r){var i=function(t,e){return(t.length>0?[Se("parts",t)]:[]).concat([ve("uid"),ze("dom",{}),ze("components",[]),Sa("originalSpec"),ze("debug.sketcher",{})]).concat(e)}(o,r);return re(t+" [SpecSchema]",Ut(i.concat(e)),n)},_l=function(t,e,n,o,r){var i=Dl(r),a=gl(n),u=Ol(n),s=Al(t,e,i,a,[u]),c=bl(0,s,n);return o(s,yl(t,s,c.internals()),i,c.externals())},Dl=function(t){return function(t){return lt(t,"uid")}(t)?t:f(f({},t),{uid:Nr("uid")})},zl=Ut([ve("name"),ve("factory"),ve("configFields"),ze("apis",{}),ze("extraApis",{})]),Ml=Ut([ve("name"),ve("factory"),ve("configFields"),ve("partFields"),ze("apis",{}),ze("extraApis",{})]),Bl=function(t){var e=re("Sketcher for "+t.name,zl,t),n=rt(e.apis,Ir),r=rt(e.extraApis,(function(t,e){return Mr(t,e)}));return f(f({name:o(e.name),configFields:o(e.configFields),sketch:function(t){return function(t,e,n,o){var r=Dl(o);return n(Al(t,e,r,[],[]),r)}(e.name,e.configFields,e.factory,t)}},n),r)},Rl=function(t){var e=re("Sketcher for "+t.name,Ml,t),n=ml(e.name,e.partFields),r=rt(e.apis,Ir),i=rt(e.extraApis,(function(t,e){return Mr(t,e)}));return f(f({name:o(e.name),partFields:o(e.partFields),configFields:o(e.configFields),sketch:function(t){return _l(e.name,e.configFields,e.partFields,e.factory,t)},parts:o(n)},r),i)},Il=function(t){for(var e=[],n=function(t){e.push(t)},o=0;o<t.length;o++)t[o].each(n);return e},Pl=function(t){return"input"===ur(t)&&"radio"!==mr(t,"type")||"textarea"===ur(t)},Hl=Object.freeze({__proto__:null,getCurrent:function(t,e,n){return e.find(t)}}),Ll=[ve("find")],Fl=au({fields:Ll,name:"composing",apis:Hl}),Vl=function(t,e,n,o){var r=cs(t.element(),"."+e.highlightClass);H(r,(function(n){R(o,(function(t){return t.element()===n}))||(Gr(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),yo(n,bo())})))}))},jl=function(t,e,n,o){Vl(t,e,0,[o]),$l(t,e,n,o)||(Xr(o.element(),e.highlightClass),e.onHighlight(t,o),yo(o,vo()))},$l=function(t,e,n,o){return Yr(o.element(),e.highlightClass)},Ul=function(t,e,n){return na(t.element(),"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},Wl=function(t,e,n){var o=cs(t.element(),"."+e.itemClass);return(o.length>0?b.some(o[o.length-1]):b.none()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},ql=function(t,e,n,o){var r=cs(t.element(),"."+e.itemClass);return $(r,(function(t){return Yr(t,e.highlightClass)})).bind((function(e){var n=Nu(e,o,0,r.length-1);return t.getSystem().getByDom(r[n]).toOption()}))},Xl=function(t,e,n){var o=cs(t.element(),"."+e.itemClass);return Il(P(o,(function(e){return t.getSystem().getByDom(e).toOption()})))},Gl=Object.freeze({__proto__:null,dehighlightAll:function(t,e,n){return Vl(t,e,0,[])},dehighlight:function(t,e,n,o){$l(t,e,n,o)&&(Gr(o.element(),e.highlightClass),e.onDehighlight(t,o),yo(o,bo()))},highlight:jl,highlightFirst:function(t,e,n){Ul(t,e).each((function(o){jl(t,e,n,o)}))},highlightLast:function(t,e,n){Wl(t,e).each((function(o){jl(t,e,n,o)}))},highlightAt:function(t,e,n,o){(function(t,e,n,o){var r=cs(t.element(),"."+e.itemClass);return b.from(r[o]).fold((function(){return w.error("No element found with index "+o)}),t.getSystem().getByDom)})(t,e,0,o).fold((function(t){throw new Error(t)}),(function(o){jl(t,e,n,o)}))},highlightBy:function(t,e,n,o){var r=Xl(t,e);j(r,o).each((function(o){jl(t,e,n,o)}))},isHighlighted:$l,getHighlighted:function(t,e,n){return na(t.element(),"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},getFirst:Ul,getLast:Wl,getPrevious:function(t,e,n){return ql(t,e,0,-1)},getNext:function(t,e,n){return ql(t,e,0,1)},getCandidates:Xl}),Yl=[ve("highlightClass"),ve("itemClass"),ba("onHighlight"),ba("onDehighlight")],Kl=au({fields:Yl,name:"highlighting",apis:Gl}),Jl=function(t,e,n){var o=X(t.slice(0,e)),r=X(t.slice(e+1));return j(o.concat(r),n)},Ql=function(t,e,n){var o=X(t.slice(0,e));return j(o,n)},Zl=function(t,e,n){var o=t.slice(0,e),r=t.slice(e+1);return j(r.concat(o),n)},tf=function(t,e,n){var o=t.slice(e+1);return j(o,n)},ef=function(t){return function(e){var n=e.raw();return B(t,n.which)}},nf=function(t){return function(e){return q(t,(function(t){return t(e)}))}},of=function(t){return!0===t.raw().shiftKey},rf=function(t){return!0===t.raw().ctrlKey},af=a(of),uf=function(t,e){return{matches:t,classification:e}},sf=function(t,e,n){e.exists((function(t){return n.exists((function(e){return Cn(e,t)}))}))||xo(t,mo(),{prevFocus:e,newFocus:n})},cf=function(){var t=function(t){return gu(t.element())};return{get:t,set:function(e,n){var o=t(e);e.getSystem().triggerFocus(n,e.element());var r=t(e);sf(e,o,r)}}},lf=function(){var t=function(t){return Kl.getHighlighted(t).map((function(t){return t.element()}))};return{get:t,set:function(n,o){var r=t(n);n.getSystem().getByDom(o).fold(e,(function(t){Kl.highlight(n,t)}));var i=t(n);sf(n,r,i)}}};!function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"}($u||($u={}));var ff,df=function(t,e,n,o,r){var i=function(t,e,n,o,r){return function(t,e){return j(t,(function(t){return t.matches(e)})).map((function(t){return t.classification}))}(n(t,e,o,r),e.event()).bind((function(n){return n(t,e,o,r)}))},a={schema:function(){return t.concat([ze("focusManager",cf()),Me("focusInside","onFocus",te((function(t){return B(["onFocus","onEnterOrSpace","onApi"],t)?w.value(t):w.error("Invalid value for focusInside")}))),Ca("handler",a),Ca("state",e),Ca("sendFocusIn",r)])},processKey:i,toEvents:function(t,e){var a=t.focusInside!==$u.OnFocusMode?b.none():r(t).map((function(n){return No(Xn(),(function(o,r){n(o,t,e),r.stop()}))}));return To(a.toArray().concat([No(Ln(),(function(o,a){i(o,a,n,t,e).fold((function(){!function(n,o){var i=ef([32].concat([13]))(o.event());t.focusInside===$u.OnEnterOrSpaceMode&&i&&En(n,o)&&r(t).each((function(r){r(n,t,e),o.stop()}))}(o,a)}),(function(t){a.stop()}))})),No(Fn(),(function(n,r){i(n,r,o,t,e).each((function(t){r.stop()}))}))]))}};return a},mf=function(t){var e=[Ee("onEscape"),Ee("onEnter"),ze("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ze("firstTabstop",0),ze("useTabstopAt",o(!0)),Ee("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return oa(e,t)})).getOr(e);return ki(n)>0},r=function(t,e,o){(function(t,e){var o=cs(t.element(),e.selector),r=L(o,(function(t){return n(e,t)}));return b.from(r[e.firstTabstop])})(t,e).each((function(n){e.focusManager.set(t,n)}))},a=function(t,e,o,r){var a=cs(t.element(),o.selector);return function(t,e){return e.focusManager.get(t).bind((function(t){return oa(t,e.selector)}))}(t,o).bind((function(e){return $(a,i(Cn,e)).bind((function(e){return function(t,e,o,r,i){return i(e,o,(function(t){return function(t,e){return n(t,e)&&t.useTabstopAt(e)}(r,t)})).fold((function(){return r.cyclic?b.some(!0):b.none()}),(function(e){return r.focusManager.set(t,e),b.some(!0)}))}(t,a,e,o,r)}))}))},u=o([uf(nf([of,ef([9])]),(function(t,e,n){return a(t,0,n,n.cyclic?Jl:Ql)})),uf(ef([9]),(function(t,e,n){return a(t,0,n,n.cyclic?Zl:tf)})),uf(ef([27]),(function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))})),uf(nf([af,ef([13])]),(function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}))]),s=o([]);return df(e,Pr.init,u,s,(function(){return b.some(r)}))},hf=mf(Fe("cyclic",o(!1))),pf=mf(Fe("cyclic",o(!0))),gf=function(t,e,n){return Pl(n)&&ef([32])(e.event())?b.none():function(t,e,n){return Co(t,n,Jn()),b.some(!0)}(t,0,n)},vf=function(t,e){return b.some(!0)},bf=[ze("execute",gf),ze("useSpace",!1),ze("useEnter",!0),ze("useControlEnter",!1),ze("useDown",!1)],yf=function(t,e,n){return n.execute(t,e,t.element())},xf=df(bf,Pr.init,(function(t,e,n,o){var r=n.useSpace&&!Pl(t.element())?[32]:[],i=n.useDown?[40]:[],a=r.concat(n.useEnter?[13]:[]).concat(i);return[uf(ef(a),yf)].concat(n.useControlEnter?[uf(nf([rf,ef([13])]),yf)]:[])}),(function(t,e,n,o){return n.useSpace&&!Pl(t.element())?[uf(ef([32]),vf)]:[]}),(function(){return b.none()})),wf=function(){var t=Ve(b.none());return Hr({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows()),numColumns:String(t.numColumns())}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(e,n){t.set(b.some({numRows:o(e),numColumns:o(n)}))},getNumRows:function(){return t.get().map((function(t){return t.numRows()}))},getNumColumns:function(){return t.get().map((function(t){return t.numColumns()}))}})},Cf=Object.freeze({__proto__:null,flatgrid:wf,init:function(t){return t.state(t)}}),Sf=function(t){return function(e,n,o,r){var i=t(e.element());return Of(i,e,n,o,r)}},kf=function(t,e){var n=Vu(t,e);return Sf(n)},Tf=function(t,e){var n=Vu(e,t);return Sf(n)},Ef=function(t){return function(e,n,o,r){return Of(t,e,n,o,r)}},Of=function(t,e,n,o,r){return o.focusManager.get(e).bind((function(n){return t(e.element(),n,o,r)})).map((function(t){return o.focusManager.set(e,t),!0}))},Nf=Ef,Af=Ef,_f=Ef,Df=function(t){return!function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}(t.dom())},zf=function(t,e,n){var r=cs(t,n);return function(t,n){return $(t,(function(t){return Cn(t,e)})).map((function(e){return{index:o(e),candidates:o(t)}}))}(L(r,Df))},Mf=function(t,e){return $(t,(function(t){return Cn(e,t)}))},Bf=function(t,e,n,o){return o(Math.floor(e/n),e%n).bind((function(e){var o=e.row()*n+e.column();return o>=0&&o<t.length?b.some(t[o]):b.none()}))},Rf=function(t,e,n,r,i){return Bf(t,e,r,(function(e,a){var u=Nu(a,i,0,(e===n-1?t.length-e*r:r)-1);return b.some({row:o(e),column:o(u)})}))},If=function(t,e,n,r,i){return Bf(t,e,r,(function(e,a){var u=Nu(e,i,0,n-1),s=Au(a,0,(u===n-1?t.length-u*r:r)-1);return b.some({row:o(u),column:o(s)})}))},Pf=[ve("selector"),ze("execute",gf),ya("onEscape"),ze("captureTab",!1),ka()],Hf=function(t,e,n){na(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Lf=function(t){return function(e,n,o,r){return zf(e,n,o.selector).bind((function(e){return t(e.candidates(),e.index(),r.getNumRows().getOr(o.initSize.numRows),r.getNumColumns().getOr(o.initSize.numColumns))}))}},Ff=function(t,e,n){return n.captureTab?b.some(!0):b.none()},Vf=Lf((function(t,e,n,o){return Rf(t,e,n,o,-1)})),jf=Lf((function(t,e,n,o){return Rf(t,e,n,o,1)})),$f=Lf((function(t,e,n,o){return If(t,e,n,o,-1)})),Uf=Lf((function(t,e,n,o){return If(t,e,n,o,1)})),Wf=o([uf(ef([37]),kf(Vf,jf)),uf(ef([39]),Tf(Vf,jf)),uf(ef([38]),Nf($f)),uf(ef([40]),Af(Uf)),uf(nf([of,ef([9])]),Ff),uf(nf([af,ef([9])]),Ff),uf(ef([27]),(function(t,e,n){return n.onEscape(t,e)})),uf(ef([32].concat([13])),(function(t,e,n,o){return function(t,e){return e.focusManager.get(t).bind((function(t){return oa(t,e.selector)}))}(t,n).bind((function(o){return n.execute(t,e,o)}))}))]),qf=o([uf(ef([32]),vf)]),Xf=df(Pf,wf,Wf,qf,(function(){return b.some(Hf)})),Gf=function(t,e,n,o){var r=function(t,e,n){var i,a=Nu(e,o,0,n.length-1);return a===t?b.none():"button"===ur(i=n[a])&&"disabled"===mr(i,"disabled")?r(t,a,n):b.from(n[a])};return zf(t,n,e).bind((function(t){var e=t.index(),n=t.candidates();return r(e,e,n)}))},Yf=[ve("selector"),ze("getInitial",b.none),ze("execute",gf),ya("onEscape"),ze("executeOnMove",!1),ze("allowVertical",!0)],Kf=function(t,e,n){return function(t,e){return e.focusManager.get(t).bind((function(t){return oa(t,e.selector)}))}(t,n).bind((function(o){return n.execute(t,e,o)}))},Jf=function(t,e,n){e.getInitial(t).orThunk((function(){return na(t.element(),e.selector)})).each((function(n){e.focusManager.set(t,n)}))},Qf=function(t,e,n){return Gf(t,n.selector,e,-1)},Zf=function(t,e,n){return Gf(t,n.selector,e,1)},td=function(t){return function(e,n,o,r){return t(e,n,o,r).bind((function(){return o.executeOnMove?Kf(e,n,o):b.some(!0)}))}},ed=function(t,e,n){return n.onEscape(t,e)},nd=o([uf(ef([32]),vf)]),od=df(Yf,Pr.init,(function(t,e,n,o){var r=[37].concat(n.allowVertical?[38]:[]),i=[39].concat(n.allowVertical?[40]:[]);return[uf(ef(r),td(kf(Qf,Zf))),uf(ef(i),td(Tf(Qf,Zf))),uf(ef([13]),Kf),uf(ef([32]),Kf),uf(ef([27]),ed)]}),nd,(function(){return b.some(Jf)})),rd=$o(["rowIndex","columnIndex","cell"],[]),id=function(t,e,n){return b.from(t[e]).bind((function(t){return b.from(t[n]).map((function(t){return rd({rowIndex:e,columnIndex:n,cell:t})}))}))},ad=function(t,e,n,o){var r=Nu(n,o,0,t[e].length-1);return id(t,e,r)},ud=function(t,e,n,o){var r=Nu(n,o,0,t.length-1),i=Au(e,0,t[r].length-1);return id(t,r,i)},sd=function(t,e,n,o){var r=Au(n+o,0,t[e].length-1);return id(t,e,r)},cd=function(t,e,n,o){var r=Au(n+o,0,t.length-1),i=Au(e,0,t[r].length-1);return id(t,r,i)},ld=[Se("selectors",[ve("row"),ve("cell")]),ze("cycles",!0),ze("previousSelector",b.none),ze("execute",gf)],fd=function(t,e,n){e.previousSelector(t).orThunk((function(){var n=e.selectors;return na(t.element(),n.cell)})).each((function(n){e.focusManager.set(t,n)}))},dd=function(t,e){return function(n,o,r){var i=r.cycles?t:e;return oa(o,r.selectors.row).bind((function(t){var e=cs(t,r.selectors.cell);return Mf(e,o).bind((function(e){var o=cs(n,r.selectors.row);return Mf(o,t).bind((function(t){var n=function(t,e){return P(t,(function(t){return cs(t,e.selectors.cell)}))}(o,r);return i(n,t,e).map((function(t){return t.cell()}))}))}))}))}},md=dd((function(t,e,n){return ad(t,e,n,-1)}),(function(t,e,n){return sd(t,e,n,-1)})),hd=dd((function(t,e,n){return ad(t,e,n,1)}),(function(t,e,n){return sd(t,e,n,1)})),pd=dd((function(t,e,n){return ud(t,n,e,-1)}),(function(t,e,n){return cd(t,n,e,-1)})),gd=dd((function(t,e,n){return ud(t,n,e,1)}),(function(t,e,n){return cd(t,n,e,1)})),vd=o([uf(ef([37]),kf(md,hd)),uf(ef([39]),Tf(md,hd)),uf(ef([38]),Nf(pd)),uf(ef([40]),Af(gd)),uf(ef([32].concat([13])),(function(t,e,n){return gu(t.element()).bind((function(o){return n.execute(t,e,o)}))}))]),bd=o([uf(ef([32]),vf)]),yd=df(ld,Pr.init,vd,bd,(function(){return b.some(fd)})),xd=[ve("selector"),ze("execute",gf),ze("moveOnTab",!1)],wd=function(t,e,n){return n.focusManager.get(t).bind((function(o){return n.execute(t,e,o)}))},Cd=function(t,e,n){na(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Sd=function(t,e,n){return Gf(t,n.selector,e,-1)},kd=function(t,e,n){return Gf(t,n.selector,e,1)},Td=o([uf(ef([38]),_f(Sd)),uf(ef([40]),_f(kd)),uf(nf([of,ef([9])]),(function(t,e,n,o){return n.moveOnTab?_f(Sd)(t,e,n,o):b.none()})),uf(nf([af,ef([9])]),(function(t,e,n,o){return n.moveOnTab?_f(kd)(t,e,n,o):b.none()})),uf(ef([13]),wd),uf(ef([32]),wd)]),Ed=o([uf(ef([32]),vf)]),Od=df(xd,Pr.init,Td,Ed,(function(){return b.some(Cd)})),Nd=[ya("onSpace"),ya("onEnter"),ya("onShiftEnter"),ya("onLeft"),ya("onRight"),ya("onTab"),ya("onShiftTab"),ya("onUp"),ya("onDown"),ya("onEscape"),ze("stopSpaceKeyup",!1),Ee("focusIn")],Ad=df(Nd,Pr.init,(function(t,e,n){return[uf(ef([32]),n.onSpace),uf(nf([af,ef([13])]),n.onEnter),uf(nf([of,ef([13])]),n.onShiftEnter),uf(nf([of,ef([9])]),n.onShiftTab),uf(nf([af,ef([9])]),n.onTab),uf(ef([38]),n.onUp),uf(ef([40]),n.onDown),uf(ef([37]),n.onLeft),uf(ef([39]),n.onRight),uf(ef([32]),n.onSpace),uf(ef([27]),n.onEscape)]}),(function(t,e,n){return n.stopSpaceKeyup?[uf(ef([32]),vf)]:[]}),(function(t){return t.focusIn})),_d=hf.schema(),Dd=pf.schema(),zd=od.schema(),Md=Xf.schema(),Bd=yd.schema(),Rd=xf.schema(),Id=Od.schema(),Pd=Ad.schema(),Hd=su({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:_d,cyclic:Dd,flow:zd,flatgrid:Md,matrix:Bd,execution:Rd,menu:Id,special:Pd}),name:"keying",active:{events:function(t,e){return t.handler.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element(),t.element())}),(function(o){o(t,e,n)}))},setGridSize:function(e,n,o,r,i){!function(t){return ft(t,"setGridSize")}(o)?t.console.error("Layout does not support setGridSize"):o.setGridSize(r,i)}},state:Cf}),Ld=function(t,e,n,o){var r=t.getSystem().build(o);Js(t,r,n)},Fd=function(t,e,n,o){var r=Vd(t);j(r,(function(t){return Cn(o.element(),t.element())})).each(Zs)},Vd=function(t,e){return t.components()},jd=function(t,e,n,o,r){var i=Vd(t);return b.from(i[o]).map((function(e){return Fd(t,0,0,e),r.each((function(e){Ld(t,0,(function(t,e){!function(t,e,n){Ko(t,n).fold((function(){tr(t,e)}),(function(t){Jo(t,e)}))}(t,e,o)}),e)})),e}))},$d=au({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(t,e,n,o){Ld(t,0,tr,o)},prepend:function(t,e,n,o){Ld(t,0,Zo,o)},remove:Fd,replaceAt:jd,replaceBy:function(t,e,n,o,r){var i=Vd(t);return $(i,o).bind((function(e){return jd(t,0,0,e,r)}))},set:function(t,e,n,o){vu((function(){var e=P(o,t.getSystem().build);Ys(t,e)}),t.element())},contents:Vd})}),Ud=function(t,e){return{key:t,value:{config:{},me:function(t,e){var n=To(e);return au({fields:[ve("enabled")],name:t,active:{events:o(n)}})}(t,e),configAsRaw:o({}),initialConfig:{},state:Pr}}},Wd=function(t,e){e.ignore||(hu(t.element()),e.onFocus(t))},qd=Object.freeze({__proto__:null,focus:Wd,blur:function(t,e){e.ignore||function(t){t.dom().blur()}(t.element())},isFocused:function(t){return function(t){var e=Uo(t).dom();return t.dom()===e.activeElement}(t.element())}}),Xd=Object.freeze({__proto__:null,exhibit:function(t,e){return Fr(e.ignore?{}:{attributes:{tabindex:"-1"}})},events:function(t){return To([No(Xn(),(function(e,n){Wd(e,t),n.stop()}))].concat(t.stopMousedown?[No(zn(),(function(t,e){e.event().prevent()}))]:[]))}}),Gd=[ba("onFocus"),ze("stopMousedown",!1),ze("ignore",!1)],Yd=au({fields:Gd,name:"focusing",active:Xd,apis:qd}),Kd=function(t,e,n){var o=e.aria;o.update(t,o,n.get())},Jd=function(t,e,n){e.toggleClass.each((function(e){n.get()?Xr(t.element(),e):Gr(t.element(),e)}))},Qd=function(t,e,n){em(t,e,n,!n.get())},Zd=function(t,e,n){n.set(!0),Jd(t,e,n),Kd(t,e,n)},tm=function(t,e,n){n.set(!1),Jd(t,e,n),Kd(t,e,n)},em=function(t,e,n,o){(o?Zd:tm)(t,e,n)},nm=function(t,e,n){em(t,e,n,e.selected)},om=Object.freeze({__proto__:null,onLoad:nm,toggle:Qd,isOn:function(t,e,n){return n.get()},on:Zd,off:tm,set:em}),rm=Object.freeze({__proto__:null,exhibit:function(){return Fr({})},events:function(t,e){var n,o,r,i=(n=t,o=e,r=Qd,Lo((function(t){r(t,n,o)}))),a=eu(t,e,nm);return To(U([t.toggleOnExecute?[i]:[],[a]]))}}),im=function(t,e,n){dr(t.element(),"aria-expanded",n)},am=[ze("selected",!1),Ee("toggleClass"),ze("toggleOnExecute",!0),Me("aria",{mode:"none"},ue("mode",{pressed:[ze("syncWithExpanded",!1),Ca("update",(function(t,e,n){dr(t.element(),"aria-pressed",n),e.syncWithExpanded&&im(t,0,n)}))],checked:[Ca("update",(function(t,e,n){dr(t.element(),"aria-checked",n)}))],expanded:[Ca("update",im)],selected:[Ca("update",(function(t,e,n){dr(t.element(),"aria-selected",n)}))],none:[Ca("update",e)]}))],um=au({fields:am,name:"toggling",active:rm,apis:om,state:{init:function(){var t=Ve(!1);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(!1)},readState:function(){return t.get()}}}}}),sm=function(){var t=function(t,e){e.stop(),wo(t)};return[No($n(),t),No(Zn(),t),Mo(Nn()),Mo(zn())]},cm=function(t){return To(U([t.map((function(t){return Lo((function(e,n){t(e),n.stop()}))})).toArray(),sm()]))},lm=function(t){(gu(t.element()).isNone()||Yd.isFocused(t))&&(Yd.isFocused(t)||Yd.focus(t),xo(t,"alloy.item-hover",{item:t}))},fm=function(t){xo(t,"alloy.item-focus",{item:t})},dm=o("alloy.item-hover"),mm=o("alloy.item-focus"),hm=[ve("data"),ve("components"),ve("dom"),ze("hasSubmenu",!1),Ee("toggling"),Pc("itemBehaviours",[um,Yd,Hd,Mc]),ze("ignoreFocus",!1),ze("domModification",{}),Ca("builder",(function(t){return{dom:t.dom,domModification:f(f({},t.domModification),{attributes:f(f(f({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Hc(t.itemBehaviours,[t.toggling.fold(um.revoke,(function(t){return um.config(f({aria:{mode:"checked"}},t))})),Yd.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){fm(t)}}),Hd.config({mode:"execution"}),Mc.config({store:{mode:"memory",initialValue:t.data}}),Ud("item-type-events",m(sm(),[No(In(),lm),No(Qn(),Yd.focus)]))]),components:t.components,eventOrder:t.eventOrder}})),ze("eventOrder",{})],pm=[ve("dom"),ve("components"),Ca("builder",(function(t){return{dom:t.dom,components:t.components,events:To([Bo(Qn())])}}))],gm=o([al({name:"widget",overrides:function(t){return{behaviours:ru([Mc.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})]),vm=[ve("uid"),ve("data"),ve("components"),ve("dom"),ze("autofocus",!1),ze("ignoreFocus",!1),Pc("widgetBehaviours",[Mc,Yd,Hd]),ze("domModification",{}),Ol(gm()),Ca("builder",(function(t){var e=bl(0,t,gm()),n=yl("item-widget",t,e.internals()),o=function(e){return xl(e,t,"widget").map((function(t){return Hd.focusIn(t),t}))},r=function(e,n){return Pl(n.event().target())?b.none():t.autofocus?(n.setSource(e.element()),b.none()):b.none()};return{dom:t.dom,components:n,domModification:t.domModification,events:To([Lo((function(t,e){o(t).each((function(t){e.stop()}))})),No(In(),lm),No(Qn(),(function(e,n){t.autofocus?o(e):Yd.focus(e)}))]),behaviours:Hc(t.widgetBehaviours,[Mc.config({store:{mode:"memory",initialValue:t.data}}),Yd.config({ignore:t.ignoreFocus,onFocus:function(t){fm(t)}}),Hd.config({mode:"special",focusIn:t.autofocus?function(t){o(t)}:cu(),onLeft:r,onRight:r,onEscape:function(e,n){return Yd.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element()),b.none()):b.none():(Yd.focus(e),b.some(!0))}})])}}))],bm=ue("type",{widget:vm,item:hm,separator:pm}),ym=o([cl({factory:{sketch:function(t){var e=re("menu.spec item",bm,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:f(f({},e),{uid:Nr("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),xm=o([ve("value"),ve("items"),ve("dom"),ve("components"),ze("eventOrder",{}),Bc("menuBehaviours",[Kl,Mc,Fl,Hd]),Me("movement",{mode:"menu",moveOnTab:!0},ue("mode",{grid:[ka(),Ca("config",(function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}))],matrix:[Ca("config",(function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}})),ve("rowSelector")],menu:[ze("moveOnTab",!0),Ca("config",(function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}))]})),be("markers",ma()),ze("fakeFocus",!1),ze("focusManager",cf()),ba("onHighlight")]),wm=o("alloy.menu-focus"),Cm=Rl({name:"Menu",configFields:xm(),partFields:ym(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ic(t.menuBehaviours,[Kl.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Mc.config({store:{mode:"memory",initialValue:t.value}}),Fl.config({find:b.some}),Hd.config(t.movement.config(t,t.movement))]),events:To([No(mm(),(function(t,e){var n=e.event();t.getSystem().getByDom(n.target()).each((function(n){Kl.highlight(t,n),e.stop(),xo(t,wm(),{menu:t,item:n})}))})),No(dm(),(function(t,e){var n=e.event().item();Kl.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}}),Sm=function(t,e,n,o){return ct(n,o).bind((function(o){return ct(t,o).bind((function(o){var r=Sm(t,e,n,o);return b.some([o].concat(r))}))})).getOr([])},km=function(t){return"prepared"===t.type?b.some(t.menu):b.none()},Tm=km,Em=o("collapse-item"),Om=Bl({name:"TieredMenu",configFields:[wa("onExecute"),wa("onEscape"),xa("onOpenMenu"),xa("onOpenSubmenu"),ba("onRepositionMenu"),ba("onCollapseMenu"),ze("highlightImmediately",!0),Se("data",[ve("primary"),ve("menus"),ve("expansions")]),ze("fakeFocus",!1),ba("onHighlight"),ba("onHover"),pa(),ve("dom"),ze("navigateOnHover",!0),ze("stayInDom",!1),Bc("tmenuBehaviours",[Hd,Kl,Fl,$d]),ze("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:function(t,e){var n,o,r,i,a,u,s,c,l,d=Ve(b.none()),m=(o=Ve({}),r=Ve({}),i=Ve({}),a=Ve(b.none()),u=Ve({}),s=function(t){return c(t).bind(km)},{setMenuBuilt:function(t,e){var n;r.set(f(f({},r.get()),((n={})[t]={type:"prepared",menu:e},n)))},setContents:function(t,e,n,s){a.set(b.some(t)),o.set(n),r.set(e),u.set(s);var c=function(t,e){var n={};ot(t,(function(t,e){H(t,(function(t){n[t]=e}))}));var o=e,r=it(e,(function(t,e){return{k:t,v:e}})),i=rt(r,(function(t,e){return[e].concat(Sm(n,o,r,e))}));return rt(n,(function(t){return ct(i,t).getOr([t])}))}(s,n);i.set(c)},expand:function(t){return ct(o.get(),t).map((function(e){var n=ct(i.get(),t).getOr([]);return[e].concat(n)}))},refresh:function(t){return ct(i.get(),t)},collapse:function(t){return ct(i.get(),t).bind((function(t){return t.length>1?b.some(t.slice(1)):b.none()}))},lookupMenu:c=function(t){return ct(r.get(),t)},lookupItem:l=function(t){return ct(o.get(),t)},otherMenus:function(t){var e=u.get();return G(et(e),t)},getPrimary:function(){return a.get().bind(s)},getMenus:function(){return r.get()},clear:function(){o.set({}),r.set({}),i.set({}),a.set(b.none())},isClear:function(){return a.get().isNone()},getTriggeringPath:function(t,e){var n=L(l(t).toArray(),(function(t){return s(t).isSome()}));return ct(i.get(),t).bind((function(t){var r=X(n.concat(t));return function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];if(!o.isSome())return b.none();e.push(o.getOrDie())}return b.some(e)}(W(r,(function(t,n){return function(t,e,n){return s(t).bind((function(r){return function(t){return ut(o.get(),(function(e,n){return e===t}))}(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))}(t,e,r.slice(0,n+1)).fold((function(){return a.get().is(t)?[]:[b.none()]}),(function(t){return[b.some(t)]}))})))}))}}),h=function(t){return Mc.getValue(t).value},p=function(t,e){Kl.highlight(t,e),Kl.getHighlighted(e).orThunk((function(){return Kl.getFirst(e)})).each((function(e){Co(t,e.element(),Qn())}))},g=function(t,e){return Il(P(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?b.some(t.menu):b.none()}))})))},v=function(e,n,o){var r=g(n,n.otherMenus(o));H(r,(function(n){Jr(n.element(),[t.markers.backgroundMenu]),t.stayInDom||$d.remove(e,n)}))},y=function(e,n){var o=function(e){return d.get().getOrThunk((function(){var n={},o=cs(e.element(),"."+t.markers.item),r=L(o,(function(t){return"true"===mr(t,"aria-haspopup")}));return H(r,(function(t){e.getSystem().getByDom(t).each((function(t){var e=h(t);n[e]=t}))})),d.set(b.some(n)),n}))}(e);ot(o,(function(t,e){var o=B(n,e);dr(t.element(),"aria-expanded",o)}))},x=function(e,n,o){return b.from(o[0]).bind((function(r){return n.lookupMenu(r).bind((function(r){if("notbuilt"===r.type)return b.none();var i=r.menu,a=g(n,o.slice(1));return H(a,(function(e){Xr(e.element(),t.markers.backgroundMenu)})),Zr(i.element())||$d.append(e,wi(i)),Jr(i.element(),[t.markers.backgroundMenu]),p(e,i),v(e,n,o),b.some(i)}))}))};!function(t){t[t.HighlightSubmenu=0]="HighlightSubmenu",t[t.HighlightParent=1]="HighlightParent"}(n||(n={}));var w=function(e,o,r){void 0===r&&(r=n.HighlightSubmenu);var i=h(o);return m.expand(i).bind((function(i){return y(e,i),b.from(i[0]).bind((function(a){return m.lookupMenu(a).bind((function(u){var s=function(t,e,n){if("notbuilt"===n.type){var o=t.getSystem().build(n.nbMenu());return m.setMenuBuilt(e,o),o}return n.menu}(e,a,u);return Zr(s.element())||$d.append(e,wi(s)),t.onOpenSubmenu(e,o,s,X(i)),r===n.HighlightSubmenu?(Kl.highlightFirst(s),x(e,m,i)):(Kl.dehighlightAll(s),b.some(o))}))}))}))},C=function(e,n){var o=h(n);return m.collapse(o).bind((function(o){return y(e,o),x(e,m,o).map((function(o){return t.onCollapseMenu(e,n,o),o}))}))},S=function(e){return function(n,o){return oa(o.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOption().bind((function(t){return e(n,t).map((function(){return!0}))}))}))}},k=To([No(wm(),(function(t,e){var n=e.event().item();m.lookupItem(h(n)).each((function(){var n=e.event().menu();Kl.highlight(t,n);var o=h(e.event().item());m.refresh(o).each((function(e){return v(t,m,e)}))}))})),Lo((function(e,o){var r=o.event().target();e.getSystem().getByDom(r).each((function(o){0===h(o).indexOf("collapse-item")&&C(e,o),w(e,o,n.HighlightSubmenu).fold((function(){t.onExecute(e,o)}),(function(){}))}))})),Io((function(e,n){(function(e){var n=function(e,n,o){return rt(o,(function(o,r){var i=function(){return Cm.sketch(f(f({dom:o.dom},o),{value:r,items:o.items,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?lf():cf()}))};return r===n?{type:"prepared",menu:e.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(e,t.data.primary,t.data.menus),o=rt(t.data.menus,(function(t,e){return W(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}));return m.setContents(t.data.primary,n,t.data.expansions,o),m.getPrimary()})(e).each((function(n){$d.append(e,wi(n)),t.onOpenMenu(e,n),t.highlightImmediately&&p(e,n)}))}))].concat(t.navigateOnHover?[No(dm(),(function(e,o){var r=o.event().item();!function(t,e){var n=h(e);m.refresh(n).bind((function(e){return y(t,e),x(t,m,e)}))}(e,r),w(e,r,n.HighlightParent),t.onHover(e,r)}))]:[])),T=function(t){return Kl.getHighlighted(t).bind(Kl.getHighlighted)},E={collapseMenu:function(t){T(t).each((function(e){C(t,e)}))},highlightPrimary:function(t){m.getPrimary().each((function(e){p(t,e)}))},repositionMenus:function(e){m.getPrimary().bind((function(t){return T(e).bind((function(t){var e=h(t),n=st(m.getMenus()),o=Il(P(n,Tm));return m.getTriggeringPath(e,(function(t){return function(t,e,n){return tt(e,(function(t){if(!t.getSystem().isConnected())return b.none();var e=Kl.getCandidates(t);return j(e,(function(t){return h(t)===n}))}))}(0,o,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))})).fold((function(){(function(t){return b.from(t.components()[0]).filter((function(t){return"menu"===mr(t.element(),"role")}))})(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){t.onRepositionMenu(e,n.primary,n.triggeringPath)}))}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ic(t.tmenuBehaviours,[Hd.config({mode:"special",onRight:S((function(t,e){return Pl(e.element())?b.none():w(t,e,n.HighlightSubmenu)})),onLeft:S((function(t,e){return Pl(e.element())?b.none():C(t,e)})),onEscape:S((function(e,n){return C(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))})),focusIn:function(t,e){m.getPrimary().each((function(e){Co(t,e.element(),Qn())}))}}),Kl.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Fl.config({find:function(t){return Kl.getHighlighted(t)}}),$d.config({})]),eventOrder:t.eventOrder,apis:E,events:k}},extraApis:{tieredData:function(t,e,n){return{primary:t,menus:e,expansions:n}},singleData:function(t,e){return{primary:t,menus:Bt(t,e),expansions:{}}},collapseItem:function(t){return{value:wr(Em()),meta:{text:t}}}}}),Nm=Bl({name:"InlineView",configFields:[ve("lazySink"),ba("onShow"),ba("onHide"),_e("onEscape"),Bc("inlineBehaviours",[mc,Mc,du]),De("fireDismissalEventInstead",[ze("event",lo())]),De("fireRepositionEventInstead",[ze("event",fo())]),ze("getRelated",b.none),ze("isExtraPart",s),ze("eventOrder",b.none)],factory:function(t,e){var n=function(t,e,n,r){o(t,e,n,(function(){return r.map((function(t){return Xi(t)}))}))},o=function(e,n,o,r){var i=t.lazySink(e).getOrDie();mc.openWhileCloaked(e,o,(function(){return Ws.positionWithinBounds(i,n,e,r())})),Mc.setValue(e,b.some({mode:"position",anchor:n,getBounds:r}))},r=function(e,n,o,r){var i=function(t,e,n,o,r){var i=function(){return t.lazySink(e)},a="horizontal"===o.type?{layouts:{onLtr:function(){return Za()},onRtl:function(){return tu()}}}:{},u=function(t){return function(t){return 2===t.length}(t)?a:{}};return Om.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightImmediately:o.menu.highlightImmediately,onEscape:function(){return mc.close(e),t.onEscape.map((function(t){return t(e)})),b.some(!0)},onExecute:function(){return b.some(!0)},onOpenMenu:function(t,e){Ws.positionWithinBounds(i().getOrDie(),n,e,r())},onOpenSubmenu:function(t,e,n,o){var r=i().getOrDie();Ws.position(r,f({anchor:"submenu",item:e},u(o)),n)},onRepositionMenu:function(t,e,o){var a=i().getOrDie();Ws.positionWithinBounds(a,n,e,r()),H(o,(function(t){var e=u(t.triggeringPath);Ws.position(a,f({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})}(t,e,n,o,r);mc.open(e,i),Mc.setValue(e,b.some({mode:"menu",menu:i}))},i=function(e){mc.isOpen(e)&&Mc.getValue(e).each((function(n){switch(n.mode){case"menu":mc.getState(e).each((function(t){Om.repositionMenus(t)}));break;case"position":var o=t.lazySink(e).getOrDie();Ws.positionWithinBounds(o,n.anchor,e,n.getBounds())}}))},a={setContent:function(t,e){mc.setContent(t,e)},showAt:function(t,e,o){n(t,e,o,b.none())},showWithin:n,showWithinBounds:o,showMenuAt:function(t,e,n){r(t,e,n,(function(){return b.none()}))},showMenuWithinBounds:r,hide:function(t){mc.isOpen(t)&&(Mc.setValue(t,b.none()),mc.close(t))},getContent:function(t){return mc.getState(t)},reposition:i,isOpen:mc.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Ic(t.inlineBehaviours,[mc.config({isPartOf:function(e,n,o){return ia(n,o)||function(e,n){return t.getRelated(e).exists((function(t){return ia(t,n)}))}(e,o)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Mc.config({store:{mode:"memory",initialValue:b.none()}}),du.config({channels:f(f({},bc(f({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),xc(f(f({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:i})))})]),eventOrder:t.eventOrder,apis:a}},apis:{showAt:function(t,e,n,o){t.showAt(e,n,o)},showWithin:function(t,e,n,o,r){t.showWithin(e,n,o,r)},showWithinBounds:function(t,e,n,o,r){t.showWithinBounds(e,n,o,r)},showMenuAt:function(t,e,n,o){t.showMenuAt(e,n,o)},showMenuWithinBounds:function(t,e,n,o,r){t.showMenuWithinBounds(e,n,o,r)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),Am=function(t){return t.x()},_m=function(t,e){return t.x()+t.width()/2-e.width()/2},Dm=function(t,e){return t.x()+t.width()-e.width()},zm=function(t){return t.y()},Mm=function(t,e){return t.y()+t.height()-e.height()},Bm=function(t,e,n){return Ta(Dm(t,e),Mm(t,e),n.innerSoutheast(),_a(),Ra(t,{right:0,bottom:3}),"layout-inner-se")},Rm=function(t,e,n){return Ta(Am(t),Mm(t,e),n.innerSouthwest(),Aa(),Ra(t,{left:1,bottom:3}),"layout-inner-sw")},Im=function(t,e,n){return Ta(Dm(t,e),zm(t),n.innerNortheast(),Na(),Ra(t,{right:0,top:2}),"layout-inner-ne")},Pm=function(t,e,n){return Ta(Am(t),zm(t),n.innerNorthwest(),Oa(),Ra(t,{left:1,top:2}),"layout-inner-nw")},Hm=function(t,e,n){return Ta(_m(t,e),zm(t),n.innerNorth(),Da(),Ra(t,{top:2}),"layout-inner-n")},Lm=function(t,e,n){return Ta(_m(t,e),Mm(t,e),n.innerSouth(),za(),Ra(t,{bottom:3}),"layout-inner-s")},Fm=tinymce.util.Tools.resolve("tinymce.util.Delay"),Vm=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jm=tinymce.util.Tools.resolve("tinymce.EditorManager"),$m=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},Um=function(t){return t.getParam("width",Vm.DOM.getStyle(t.getElement(),"width"))},Wm=function(t){return b.from(t.settings.min_width).filter(N)},qm=function(t){return b.from(t.settings.min_height).filter(N)},Xm=function(t){return b.from(t.getParam("max_width")).filter(N)},Gm=function(t){return b.from(t.getParam("max_height")).filter(N)},Ym=function(t){return!1!==t.getParam("menubar",!0,"boolean")},Km=function(t){var e=t.getParam("toolbar",!0),n=!0===e,o=S(e),r=T(e)&&e.length>0;return!Qm(t)&&(r||o||n)},Jm=function(t){var e=et(t.settings),n=L(e,(function(t){return/^toolbar([1-9])$/.test(t)})),o=P(n,(function(e){return t.getParam(e,!1,"string")})),r=L(o,(function(t){return"string"==typeof t}));return r.length>0?b.some(r):b.none()},Qm=function(t){return Jm(t).fold((function(){return t.getParam("toolbar",[],"string[]").length>0}),(function(){return!0}))};!function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"}(ff||(ff={}));var Zm,th=function(t){return t.getParam("toolbar_mode","","string")};!function(t){t.top="top",t.bottom="bottom"}(Zm||(Zm={}));var eh,nh=function(t){return t.getParam("toolbar_location",Zm.top,"string")!==Zm.bottom},oh=function(t){var e=function(t){return t.getParam("fixed_toolbar_container","","string")}(t);return e.length>0&&t.inline?na(ti(),e):b.none()},rh=function(t){return t.inline&&oh(t).isSome()},ih=function(t){return t.inline&&!Ym(t)&&!Km(t)&&!Qm(t)},ah=function(t){return(t.getParam("toolbar_sticky",!1,"boolean")||t.inline)&&!rh(t)&&!ih(t)},uh=Bl({name:"Button",factory:function(t){var e=cm(t.action),n=t.dom.tag,o=function(e){return ct(t.dom,"attributes").bind((function(t){return ct(t,e)}))};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Hc(t.buttonBehaviours,[Yd.config({}),Hd.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var t=o("type").getOr("button"),e=o("role").map((function(t){return{role:t}})).getOr({});return f({type:t},e)}return{role:o("role").getOr("button")}}()},eventOrder:t.eventOrder}},configFields:[ze("uid",void 0),ve("dom"),ze("components",[]),Pc("buttonBehaviours",[Yd,Hd]),Ee("action"),Ee("role"),ze("eventOrder",{})]}),sh=function(t){var e=function(t){return void 0!==t.uid}(t)&&ft(t,"uid")?t.uid:Nr("memento");return{get:function(t){return t.getSystem().getByUid(e).getOrDie()},getOpt:function(t){return t.getSystem().getByUid(e).toOption()},asSpec:function(){return f(f({},t),{uid:e})}}},ch=function(t){return b.from(t()["temporary-placeholder"]).getOr("!not found!")},lh=function(t,e){return b.from(e()[t]).getOrThunk((function(){return ch(e)}))},fh=function(t,e){return tt(t,(function(t){return b.from(e()[t])})).getOrThunk((function(){return ch(e)}))},dh={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},mh=Bl({name:"Notification",factory:function(t){var e=sh({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:ru([$d.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},o=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},r=sh({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},o(0)],behaviours:ru([$d.config({})])}),i={updateProgress:function(t,e){t.getSystem().isConnected()&&r.getOpt(t).each((function(t){$d.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},o(e)])}))},updateText:function(t,n){if(t.getSystem().isConnected()){var o=e.get(t);$d.set(o,[vi(n)])}}},a=U([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return b.from(dh[t])})).toArray()]);return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:fh(a,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:ru([$d.config({})])}].concat(t.progress?[r.asSpec()]:[]).concat(t.closeButton?[uh.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:lh("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}})]:[]),apis:i}},configFields:[Ee("level"),ve("progress"),ve("icon"),ve("onAction"),ve("text"),ve("iconProvider"),ve("translationProvider"),Pe("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}}),hh=function(e,n){var o=null;return{cancel:function(){null!==o&&(t.clearTimeout(o),o=null)},throttle:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];null!==o&&t.clearTimeout(o),o=t.setTimeout((function(){e.apply(null,r),o=null}),n)}}},ph=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),gh=function(t,e,n,o,r){var i=ph(t,(function(e){return function(t,e){return t.isBlock(e)||B(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}(t,e)}));return b.from(i.backwards(e,n,o,r))},vh=function(t){return oa(t,"[data-mce-autocompleter]")},bh=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},yh=function(t){return""!==t&&-1!==" \xa0\f\n\r\t\v".indexOf(t)},xh=function(t,e){return t.substring(e.length)},wh=function(t,e,n,o){return void 0===o&&(o=0),vh(qe(e.startContainer)).fold((function(){return function(t,e,n,o){if(void 0===o&&(o=0),!(r=e).collapsed||3!==r.startContainer.nodeType)return b.none();var r,i=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return gh(t,e.startContainer,e.startOffset,(function(t,e,o){return function(t,e,n){var o;for(o=e-1;o>=0;o--){var r=t.charAt(o);if(yh(r))return b.none();if(r===n)break}return b.some(o)}(o,e,n).getOr(e)}),i).bind((function(t){var r=e.cloneRange();if(r.setStart(t.container,t.offset),r.setEnd(e.endContainer,e.endOffset),r.collapsed)return b.none();var i=bh(r);return 0!==i.lastIndexOf(n)||xh(i,n).length<o?b.none():b.some({text:xh(i,n),range:r,triggerChar:n})}))}(t,e,n,o)}),(function(e){var o=t.createRng();o.selectNode(e.dom());var r=bh(o);return b.some({range:o,text:xh(r,n),triggerChar:n})}))},Ch=tinymce.util.Tools.resolve("tinymce.util.Promise"),Sh=function(t,e){return{container:t,offset:e}},kh=function(e){if(function(e){return e.nodeType===t.Node.TEXT_NODE}(e))return Sh(e,e.data.length);var n=e.childNodes;return n.length>0?kh(n[n.length-1]):Sh(e,n.length)},Th=function(e,n){var o=e.childNodes;return o.length>0&&n<o.length?Th(o[n],0):o.length>0&&function(e){return e.nodeType===t.Node.ELEMENT_NODE}(e)&&o.length===n?kh(o[o.length-1]):Sh(e,n)},Eh=function(t,e,n,o){void 0===o&&(o={});var r=e(),i=t.selection.getRng().startContainer.nodeValue,a=L(r.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return function(t){return function(e){var n=Th(e.startContainer,e.startOffset);return!function(t,e){return gh(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1);return!yh(e)})).isSome()}(t,n)}}(t.dom)}))(n.range,i,n.text)}));if(0===a.length)return b.none();var u=Ch.all(P(a,(function(t){return t.fetch(n.text,t.maxResults,o).then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction}}))})));return b.some({lookupData:u,context:n})},Oh=Wt([xe("type"),Ae("text")]),Nh=Wt([Fe("type",(function(){return"autocompleteitem"})),Fe("active",(function(){return!1})),Fe("disabled",(function(){return!1})),ze("meta",{}),xe("value"),Ae("text"),Ae("icon")]),Ah=Wt([xe("type"),xe("ch"),Be("minChars",1),ze("columns",1),Be("maxResults",10),_e("matches"),Ce("fetch"),Ce("onAction")]),_h=[Pe("disabled",!1),Ae("text"),Ae("shortcut"),Kt("value","value",_t((function(){return wr("menuitem-value")})),se()),ze("meta",{})],Dh=Wt([xe("type"),He("onSetup",(function(){return e})),He("onAction",e),Ae("icon")].concat(_h)),zh=Wt([xe("type"),Ce("getSubmenuItems"),He("onSetup",(function(){return e})),Ae("icon")].concat(_h)),Mh=Wt([xe("type"),Pe("active",!1),He("onSetup",(function(){return e})),Ce("onAction")].concat(_h)),Bh=Wt([xe("type"),Pe("active",!1),Ae("icon")].concat(_h)),Rh=Wt([xe("type"),we("fancytype",["inserttable","colorswatch"]),He("onAction",e)]),Ih=function(t,e,n){var o=cs(t.element(),"."+n);if(o.length>0){var r=$(o,(function(t){var n=t.dom().getBoundingClientRect().top,r=o[0].dom().getBoundingClientRect().top;return Math.abs(n-r)>e})).getOr(o.length);return b.some({numColumns:r,numRows:Math.ceil(o.length/r)})}return b.none()},Ph=function(t){return function(t,e){return ru([Ud(t,e)])}(wr("unnamed-events"),t)},Hh=[ve("lazySink"),ve("tooltipDom"),ze("exclusive",!0),ze("tooltipComponents",[]),ze("delay",300),Ie("mode","normal",["normal","follow-highlight"]),ze("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:o([Xa,qa,ja,Ua,$a,Wa]),onRtl:o([Xa,qa,ja,Ua,$a,Wa])}}})),ba("onHide"),ba("onShow")],Lh=Object.freeze({__proto__:null,init:function(){var e=Ve(b.none()),n=Ve(b.none()),r=function(){e.get().each((function(e){t.clearTimeout(e)}))},i=o("not-implemented");return Hr({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(t){n.set(b.some(t))},clearTooltip:function(){n.set(b.none())},clearTimer:r,resetTimer:function(n,o){r(),e.set(b.some(t.setTimeout((function(){n()}),o)))},readState:i})}}),Fh=wr("tooltip.exclusive"),Vh=wr("tooltip.show"),jh=wr("tooltip.hide"),$h=function(t,e,n){t.getSystem().broadcastOn([Fh],{})},Uh=Object.freeze({__proto__:null,hideAllExclusive:$h,setComponents:function(t,e,n,o){n.getTooltip().each((function(t){t.getSystem().isConnected()&&$d.set(t,o)}))}}),Wh=au({fields:Hh,name:"tooltipping",active:Object.freeze({__proto__:null,events:function(t,e){var n=function(n){e.getTooltip().each((function(o){Zs(o),t.onHide(n,o),e.clearTooltip()})),e.clearTimer()};return To(U([[No(Vh,(function(n){e.resetTimer((function(){!function(n){if(!e.isShowing()){$h(n);var o=t.lazySink(n).getOrDie(),r=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:To("normal"===t.mode?[No(In(),(function(t){yo(n,Vh)})),No(Bn(),(function(t){yo(n,jh)}))]:[]),behaviours:ru([$d.config({})])});e.setTooltip(r),Ks(o,r),t.onShow(n,r),Ws.position(o,t.anchor(n),r)}}(n)}),t.delay)})),No(jh,(function(o){e.resetTimer((function(){n(o)}),t.delay)})),No(Kn(),(function(t,e){B(e.channels(),Fh)&&n(t)})),Po((function(t){n(t)}))],"normal"===t.mode?[No(Pn(),(function(t){yo(t,Vh)})),No(Gn(),(function(t){yo(t,jh)})),No(In(),(function(t){yo(t,Vh)})),No(Bn(),(function(t){yo(t,jh)}))]:[No(vo(),(function(t,e){yo(t,Vh)})),No(bo(),(function(t){yo(t,jh)}))]]))}}),state:Lh,apis:Uh}),qh=tinymce.util.Tools.resolve("tinymce.util.I18n"),Xh="tox-menu-nav__js",Gh="tox-collection__item",Yh={normal:Xh,color:"tox-swatch"},Kh="tox-collection__item-label",Jh="tox-collection__item--active",Qh=function(t){return ct(Yh,t).getOr(Xh)},Zh=tinymce.util.Tools.resolve("tinymce.Env"),tp=function(t){var e=Zh.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=t.split("+");return P(n,(function(t){var n=t.toLowerCase().trim();return lt(e,n)?e[n]:t})).join(Zh.mac?"":"+")},ep=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:t}}},np=function(t){return{dom:{tag:"div",classes:[Kh]},components:[vi(qh.translate(t))]}},op=function(t,e){return{dom:{tag:"div",classes:[Kh]},components:[{dom:{tag:t.tag,styles:t.styles},components:[vi(qh.translate(e))]}]}},rp=function(t){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:tp(t)}}},ip=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon","tox-collection__item-checkmark"],innerHtml:lh("checkmark",t)}}},ap=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],up=["list-bull-circle","list-bull-default","list-bull-square"],sp=function(t,e,n,o){void 0===o&&(o=b.none());var r,a=qh.isRtl()&&t.iconContent.exists((function(t){return B(up,t)})),u=(r=t.iconContent,r.map((function(t){return qh.isRtl()&&B(ap,t)?t+"-rtl":t}))).map((function(t){return function(t,e,n){return b.from(e()[t]).or(n).getOrThunk((function(){return ch(e)}))}(t,e.icons,o)})),s=b.from(t.meta).fold((function(){return np}),(function(t){return lt(t,"style")?i(op,t.style):np}));return"color"===t.presets?function(t,e,n,o){var r,i;return{dom:(r=n.getOr(""),i={tag:"div",attributes:t.map((function(t){return{title:o.translate(t)}})).getOr({}),classes:["tox-swatch"]},f(f({},i),"custom"===e?{tag:"button",classes:m(i.classes,["tox-swatches__picker-btn"]),innerHtml:r}:"remove"===e?{classes:m(i.classes,["tox-swatch--remove"]),innerHtml:r}:{attributes:f(f({},i.attributes),{"data-mce-color":e}),styles:{"background-color":e}})),optComponents:[]}}(t.ariaLabel,t.value,u,e):function(t,e,n,o,r){var i=n?t.checkMark.orThunk((function(){return e.or(b.some("")).map(ep)})):b.none(),a=t.ariaLabel.map((function(t){return{attributes:{title:qh.translate(t)}}})).getOr({});return{dom:f({tag:"div",classes:[Xh,Gh].concat(r?["tox-collection__item-icon-rtl"]:[])},a),optComponents:[i,t.htmlContent.fold((function(){return t.textContent.map(o)}),(function(t){return b.some(function(t){return{dom:{tag:"div",classes:[Kh],innerHtml:t}}}(t))})),t.shortcutContent.map(rp),t.caret]}}(t,u,n,s,a)},cp=["input","button","textarea","select"],lp=function(t,e,n){e.disabled&&gp(t,e)},fp=function(t,e){return!0===e.useNative&&B(cp,ur(t.element()))},dp=function(t){dr(t.element(),"disabled","disabled")},mp=function(t){gr(t.element(),"disabled")},hp=function(t){dr(t.element(),"aria-disabled","true")},pp=function(t){dr(t.element(),"aria-disabled","false")},gp=function(t,e,n){e.disableClass.each((function(e){Xr(t.element(),e)})),(fp(t,e)?dp:hp)(t),e.onDisabled(t)},vp=function(t,e,n){e.disableClass.each((function(e){Gr(t.element(),e)})),(fp(t,e)?mp:pp)(t),e.onEnabled(t)},bp=function(t,e){return fp(t,e)?function(t){return pr(t.element(),"disabled")}(t):function(t){return"true"===mr(t.element(),"aria-disabled")}(t)},yp=Object.freeze({__proto__:null,enable:vp,disable:gp,isDisabled:bp,onLoad:lp,set:function(t,e,n,o){(o?gp:vp)(t,e,n)}}),xp=Object.freeze({__proto__:null,exhibit:function(t,e){return Fr({classes:e.disabled?e.disableClass.map(Y).getOr([]):[]})},events:function(t,e){return To([Eo(Jn(),(function(e,n){return bp(e,t)})),eu(t,e,lp)])}}),wp=[ze("disabled",!1),ze("useNative",!0),Ee("disableClass"),ba("onDisabled"),ba("onEnabled")],Cp=au({fields:wp,name:"disabling",active:xp,apis:yp}),Sp=function(t){return Cp.config({disabled:t})},kp=function(t,e){var n=t.getApi(e);return function(t){t(n)}},Tp=function(t,e){return Io((function(n){kp(t,n)((function(n){var o=t.onSetup(n);null!=o&&e.set(o)}))}))},Ep=function(t,e){return Po((function(n){return kp(t,n)(e.get())}))};!function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(eh||(eh={}));var Op,Np=eh,Ap=function(t,e){return Lo((function(n,o){kp(t,n)(t.onAction),t.triggersSubmenu||e!==Np.CLOSE_ON_EXECUTE||(yo(n,eo()),o.stop())}))},_p={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},Dp=function(t){return W(t,(function(t){return t.toArray()}))},zp=function(t,n,o){var r,i=Ve(e);return{type:"item",dom:n.dom,components:Dp(n.optComponents),data:t.data,eventOrder:_p,hasSubmenu:t.triggersSubmenu,itemBehaviours:ru([Ud("item-events",[Ap(t,o),Tp(t,i),Ep(t,i)]),(r=t.disabled,Cp.config({disabled:r,disableClass:"tox-collection__item--state-disabled"})),$d.config({})].concat(t.itemBehaviours))}},Mp=function(t){return{value:t.value,meta:f({text:t.text.getOr("")},t.meta)}},Bp=function(t,e){return ct(t,"tooltipWorker").map((function(t){return[Wh.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:Ru}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){Wh.setComponents(e,[bi({element:qe(t)})])}))}})]})).getOr([])},Rp=o(ml("item-widget",gm())),Ip=wr("cell-over"),Pp=wr("cell-execute"),Hp=function(t,e,n){var o,r=function(n){return xo(n,Pp,{row:t,col:e})},i=function(t,e){e.stop(),r(t)};return xi({dom:{tag:"div",attributes:(o={role:"button"},o["aria-labelledby"]=n,o)},behaviours:ru([Ud("insert-table-picker-cell",[No(In(),Yd.focus),No(Jn(),r),No($n(),i),No(Zn(),i)]),um.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Yd.config({onFocus:function(n){return xo(n,Ip,{row:t,col:e})}})])})},Lp=function(t){return W(t,(function(t){return P(t,wi)}))},Fp=function(t,e){return vi(e+1+"x"+(t+1))},Vp=function(t){return{value:o(t)}},jp=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,$p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Up=function(t){return jp.test(t)||$p.test(t)},Wp=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},qp=function(t){var e=Wp(t.red())+Wp(t.green())+Wp(t.blue());return Vp(e)},Xp=Math.min,Gp=Math.max,Yp=Math.round,Kp=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Jp=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,Qp=function(t,e,n,r){return{red:o(t),green:o(e),blue:o(n),alpha:o(r)}},Zp=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},tg=function(t){var e,n,o,r=(t.hue()||0)%360,i=t.saturation()/100,a=t.value()/100;if(i=Gp(0,Xp(i,1)),a=Gp(0,Xp(a,1)),0===i)return e=n=o=Yp(255*a),Qp(e,n,o,1);var u=r/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:e=s,n=c,o=0;break;case 1:e=c,n=s,o=0;break;case 2:e=0,n=s,o=c;break;case 3:e=0,n=c,o=s;break;case 4:e=c,n=0,o=s;break;case 5:e=s,n=0,o=c;break;default:e=n=o=0}return e=Yp(255*(e+l)),n=Yp(255*(n+l)),o=Yp(255*(o+l)),Qp(e,n,o,1)},eg=function(t){var e,n,r=(e=function(t){var e=t.value().replace(jp,(function(t,e,n,o){return e+e+n+n+o+o}));return{value:o(e)}}(t),null===(n=$p.exec(e.value()))?["FFFFFF","FF","FF","FF"]:n),i=parseInt(r[1],16),a=parseInt(r[2],16),u=parseInt(r[3],16);return Qp(i,a,u,1)},ng=function(t,e,n,o){var r=parseInt(t,10),i=parseInt(e,10),a=parseInt(n,10),u=parseFloat(o);return Qp(r,i,a,u)},og=function(t){return"rgba("+t.red()+","+t.green()+","+t.blue()+","+t.alpha()+")"},rg=o(Qp(255,0,0,1)),ig=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),ag="choiceitem",ug=[{type:ag,text:"Light Green",value:"#BFEDD2"},{type:ag,text:"Light Yellow",value:"#FBEEB8"},{type:ag,text:"Light Red",value:"#F8CAC6"},{type:ag,text:"Light Purple",value:"#ECCAFA"},{type:ag,text:"Light Blue",value:"#C2E0F4"},{type:ag,text:"Green",value:"#2DC26B"},{type:ag,text:"Yellow",value:"#F1C40F"},{type:ag,text:"Red",value:"#E03E2D"},{type:ag,text:"Purple",value:"#B96AD9"},{type:ag,text:"Blue",value:"#3598DB"},{type:ag,text:"Dark Turquoise",value:"#169179"},{type:ag,text:"Orange",value:"#E67E23"},{type:ag,text:"Dark Red",value:"#BA372A"},{type:ag,text:"Dark Purple",value:"#843FA1"},{type:ag,text:"Dark Blue",value:"#236FA1"},{type:ag,text:"Light Gray",value:"#ECF0F1"},{type:ag,text:"Medium Gray",value:"#CED4D9"},{type:ag,text:"Gray",value:"#95A5A6"},{type:ag,text:"Dark Gray",value:"#7E8C8D"},{type:ag,text:"Navy Blue",value:"#34495E"},{type:ag,text:"Black",value:"#000000"},{type:ag,text:"White",value:"#ffffff"}],sg=function(t){void 0===t&&(t=10);var e,n=ig.getItem("tinymce-custom-colors"),o=S(n)?JSON.parse(n):[],r=t-(e=o).length<0?e.slice(0,t):e,i=function(t){r.splice(t,1)};return{add:function(e){(function(t,e){var n=M(t,e);return-1===n?b.none():b.some(n)})(r,e).each(i),r.unshift(e),r.length>t&&r.pop(),ig.setItem("tinymce-custom-colors",JSON.stringify(r))},state:function(){return r.slice(0)}}}(10),cg=function(t){return!1!==t.getParam("custom_colors")},lg=function(e){var n=function(t){return t.getParam("color_map")}(e);return void 0!==n?function(e){var n=[],o=t.document.createElement("canvas");o.height=1,o.width=1;for(var r=o.getContext("2d"),i=function(t,e){var n=e/255;return("0"+Math.round(t*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();r.clearRect(0,0,o.width,o.height),r.fillStyle="#FFFFFF",r.fillStyle=t,r.fillRect(0,0,1,1);var e=r.getImageData(0,0,1,1).data,n=e[1],a=e[2],u=e[3];return"#"+i(e[0],u)+i(n,u)+i(a,u)},u=0;u<e.length;u+=2)n.push({text:e[u+1],value:a(e[u]),type:"choiceitem"});return n}(n):ug},fg=function(t){sg.add(t)},dg=function(t,e){return t.fire("ResizeContent",e)},mg=function(t,e){var n;return t.dom.getParents(t.selection.getStart(),(function(t){var o;(o=t.style["forecolor"===e?"color":"background-color"])&&(n=n||o)})),n},hg=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},pg=function(t){var e=lg(t);return function(t,e){return t.getParam("color_cols",e,"number")}(t,hg(e.length))},gg=function(t,e,n,o){"custom"===n?Cg(t)((function(n){n.each((function(n){fg(n),t.execCommand("mceApplyTextcolor",e,n),o(n)}))}),"#000000"):"remove"===n?(o(""),t.execCommand("mceRemoveTextcolor",e)):(o(n),t.execCommand("mceApplyTextcolor",e,n))},vg=function(t,e){return t.concat(P(sg.state(),(function(t){return{type:ag,text:t,value:t}})).concat(function(t){var e={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[e,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[e]}(e)))},bg=function(t,e){return function(n){n(vg(t,e))}},yg=function(t,e,n){var o,r;t.setIconFill(o="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",r=n),t.setIconStroke(o,r)},xg=function(t,e,n,o,r){t.ui.registry.addSplitButton(e,{tooltip:o,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){return b.from(mg(t,n)).bind((function(t){return function(t){if("transparent"===t)return b.some(Qp(0,0,0,0));var e=Kp.exec(t);if(null!==e)return b.some(ng(e[1],e[2],e[3],"1"));var n=Jp.exec(t);return null!==n?b.some(ng(n[1],n[2],n[3],n[4])):b.none()}(t).map((function(t){var n=qp(t).value();return un(e.toLowerCase(),n)}))})).getOr(!1)},columns:pg(t),fetch:bg(lg(t),cg(t)),onAction:function(e){null!==r.get()&&gg(t,n,r.get(),(function(){}))},onItemAction:function(o,i){gg(t,n,i,(function(n){r.set(n),function(t,e){t.fire("TextColorChange",e)}(t,{name:e,color:n})}))},onSetup:function(n){null!==r.get()&&yg(n,e,r.get());var o=function(t){t.name===e&&yg(n,t.name,t.color)};return t.on("TextColorChange",o),function(){t.off("TextColorChange",o)}}})},wg=function(t,n,o,r){t.ui.registry.addNestedMenuItem(n,{text:r,icon:"forecolor"===n?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(n){gg(t,o,n.value,e)}}]}})},Cg=function(t){return function(e,n){var o={colorpicker:n},r=function(t){return function(e){var n=e.getData();t(b.from(n.colorpicker)),e.close()}}(e);t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:function(t,e){"hex-valid"===e.name&&(e.value?t.enable("ok"):t.disable("ok"))},onSubmit:r,onClose:function(){},onCancel:function(){e(b.none())}})}},Sg={register:function(t){!function(t){t.addCommand("mceApplyTextcolor",(function(e,n){!function(t,e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))}(t,e,n)})),t.addCommand("mceRemoveTextcolor",(function(e){!function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()}))}(t,e)}))}(t);var e=Ve(null),n=Ve(null);xg(t,"forecolor","forecolor","Text color",e),xg(t,"backcolor","hilitecolor","Background color",n),wg(t,"forecolor","forecolor","Text color"),wg(t,"backcolor","hilitecolor","Background color")},getColors:vg,getFetch:bg,colorPickerDialog:Cg,getCurrentColor:mg,getColorCols:pg,calcCols:hg},kg=function(t){return"color"===t?"tox-swatches":"tox-menu"},Tg=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:kg(t),tieredMenu:"tox-tiered-menu"}},Eg=function(t){var e=Tg(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:Qh(t)}},Og=function(t,e,n){var o=Tg(n);return{tag:"div",classes:U([[o.menu,"tox-menu-"+e+"-column"],t?[o.hasIcons]:[]])}},Ng=[Cm.parts().items({})],Ag=function(t,e,n){var o=Tg(n);return{dom:{tag:"div",classes:U([[o.tieredMenu]])},markers:Eg(n)}},_g=function(t,e){return function(n){var o=I(n,e);return P(o,(function(e){return{dom:t,components:e}}))}},Dg=function(t,e){var n=[],o=[];return H(t,(function(t,r){e(t,r)?(o.length>0&&n.push(o),o=[],lt(t.dom,"innerHtml")&&o.push(t)):o.push(t)})),o.length>0&&n.push(o),P(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},zg=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[Cm.parts().items({preprocess:function(n){return"auto"!==t&&t>1?_g({tag:"div",classes:["tox-collection__group"]},t)(n):Dg(n,(function(t,n){return"separator"===e[n].type}))}})]}},Mg=function(t){return void 0!==t.icon||"togglemenuitem"===t.type||"choicemenuitem"===t.type},Bg=function(e){return t.console.error(ie(e)),t.console.log(e),b.none()},Rg=function(t,e,n,o,r){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cm.parts().items({preprocess:function(t){return Dg(t,(function(t,e){return"separator"===i[e].type}))}})]});return{value:t,dom:a.dom,components:a.components,items:n}},Ig=function(t,e,n,o,i){var a;return"color"===i?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cm.parts().items({preprocess:"auto"!==t?_g({tag:"div",classes:["tox-swatches__row"]},t):r})]}]}}(o)).dom,components:a.components,items:n}:"normal"===i&&"auto"===o?{value:t,dom:(a=zg(o,n)).dom,components:a.components,items:n}:"normal"===i&&1===o?{value:t,dom:(a=zg(1,n)).dom,components:a.components,items:n}:"normal"===i?{value:t,dom:(a=zg(o,n)).dom,components:a.components,items:n}:"listpreview"===i&&"auto"!==o?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cm.parts().items({preprocess:_g({tag:"div",classes:["tox-collection__group"]},t)})]}}(o)).dom,components:a.components,items:n}:{value:t,dom:Og(e,o,i),components:Ng,items:n}},Pg=function(t,e,n,o,r,i,a,u){var s=R(e,Mg),c=Hg(e,n,o,"color"!==r?"normal":"color",i,a,u);return Ig(t,s,c,o,r)},Hg=function(t,e,n,o,r,i,a){return Il(P(t,(function(t){return"choiceitem"===t.type?(u=t,ne("choicemenuitem",Bh,u)).fold(Bg,(function(u){return b.some(function(t,e,n,o,r,i,a){var u=sp({presets:n,textContent:e?t.text:b.none(),htmlContent:b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:b.none(),checkMark:e?b.some(ip(a.icons)):b.none(),caret:b.none(),value:t.value},a,!0);return pt(zp({data:Mp(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){um.set(t,e)},isActive:function(){return um.isOn(t)},isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)}}},onAction:function(e){return o(t.value)},onSetup:function(t){return t.setActive(r),function(){}},triggersSubmenu:!1,itemBehaviours:[]},u,i),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})}(u,1===n,o,e,i(t.value),r,a))})):b.none();var u})))},Lg=function(t,e){var n=Eg(e);return 1===t?{mode:"menu",moveOnTab:!0}:"auto"===t?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===e?"tox-swatches__row":"tox-collection__group")}},Fg={inserttable:function(t){var e=wr("size-label"),n=function(t,e,n){for(var o=[],r=0;r<10;r++){for(var i=[],a=0;a<10;a++)i.push(Hp(r,a,t));o.push(i)}return o}(e),o=sh({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:e}},components:[vi("0x0")],behaviours:ru([$d.config({})])});return{type:"widget",data:{value:wr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Rp().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Lp(n).concat(o.asSpec()),behaviours:ru([Ud("insert-table-picker",[zo(Ip,(function(t,e,r){var i=r.event().row(),a=r.event().col();!function(t,e,n,o,r){for(var i=0;i<10;i++)for(var a=0;a<10;a++)um.set(t[i][a],i<=e&&a<=n)}(n,i,a),$d.set(o.get(t),[Fp(i,a)])})),zo(Pp,(function(e,n,o){t.onAction({numRows:o.event().row()+1,numColumns:o.event().col()+1}),yo(e,eo())}))]),Hd.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(t,e){var n=Sg.getColors(e.colorinput.getColors(),e.colorinput.hasCustomColors()),o=e.colorinput.getColorCols(),r=Pg(wr("menu-value"),n,(function(e){t.onAction({value:e})}),o,"color",Np.CLOSE_ON_EXECUTE,(function(){return!1}),e.shared.providers),i=f(f({},r),{markers:Eg("color"),movement:Lg(o,"color")});return{type:"widget",data:{value:wr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Rp().widget(Cm.sketch(i))]}}},Vg=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}));return{type:"separator",dom:f({tag:"div",classes:[Gh,"tox-collection__group-heading"]},e),components:[]}};!function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"}(Op||(Op={}));var jg=function(t){return void 0!==t.icon||"togglemenuitem"===t.type||"choicemenuitem"===t.type},$g=function(t){return R(t,jg)},Ug=function(n,o,r,i,a){var u=$g(o),s=Il(P(o,(function(n){var o=function(n){return function(n,o,r,i,a){var u,s=r.shared.providers,c=function(t){return a?f(f({},t),{shortcut:b.none(),icon:t.text.isSome()?b.none():t.icon}):t};switch(n.type){case"menuitem":return(u=n,ne("menuitem",Dh,u)).fold(Bg,(function(t){return b.some(function(t,e,n,o){void 0===o&&(o=!0);var r=sp({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.none(),checkMark:b.none(),shortcutContent:t.shortcut},n,o);return zp({data:Mp(t),getApi:function(t){return{isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)}}},disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,e)}(c(t),o,s,i))}));case"nestedmenuitem":return function(t){return ne("nestedmenuitem",zh,t)}(n).fold(Bg,(function(t){return b.some(function(t,n,o,r,i){void 0===r&&(r=!0),void 0===i&&(i=!1);var a=i?{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:lh("chevron-down",o.icons)}}:function(t){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:lh("chevron-right",t)}}}(o.icons),u=sp({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.some(a),checkMark:b.none(),shortcutContent:t.shortcut},o,r);return zp({data:Mp(t),getApi:function(t){return{isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)}}},disabled:t.disabled,onAction:e,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,n)}(c(t),o,s,i,a))}));case"togglemenuitem":return function(t){return ne("togglemenuitem",Mh,t)}(n).fold(Bg,(function(t){return b.some(function(t,e,n){var o=sp({iconContent:b.none(),textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,checkMark:b.some(ip(n.icons)),caret:b.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,!0);return pt(zp({data:Mp(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){um.set(t,e)},isActive:function(){return um.isOn(t)},isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)}}},onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,e),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})}(c(t),o,s))}));case"separator":return function(t){return ne("separatormenuitem",Oh,t)}(n).fold(Bg,(function(t){return b.some(Vg(t))}));case"fancymenuitem":return function(t){return ne("fancymenuitem",Rh,t)}(n).fold(Bg,(function(t){return function(t,e){return(n=Fg,o=t.fancytype,Object.prototype.hasOwnProperty.call(n,o)?b.some(n[o]):b.none()).map((function(n){return n(t,e)}));var n,o}(c(t),r)}));default:return t.console.error("Unknown item in general menu",n),b.none()}}(n,r,i,function(t){return a?!t.hasOwnProperty("text"):u}(n),a)};return"nestedmenuitem"===n.type&&n.getSubmenuItems().length<=0?o(f(f({},n),{disabled:!0})):o(n)})));return(a?Rg:Ig)(n,u,s,1,"normal")},Wg=function(t){return Om.singleData(t.value,t)},qg=function(e,n){var o=Ve(b.none()),r=Ve(!1),i=xi(Nm.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ru([Ud("dismissAutocompleter",[No(lo(),(function(){return s()}))])]),lazySink:n.getSink})),a=function(){return o.get().isSome()},u=function(){a()&&Nm.hide(i)},s=function(){if(a()){var t=o.get().map((function(t){return t.element}));vh(t.getOr(qe(e.selection.getNode()))).each(rr),u(),o.set(b.none()),r.set(!1)}},c=vt((function(){return function(t){var e=t.ui.registry.getAll().popups,n=rt(e,(function(t){return(e=t,ne("Autocompleter",Ah,e)).fold((function(t){throw new Error(ie(t))}),(function(t){return t}));var e})),o=function(t){var e={};return H(t,(function(t){e[t]={}})),et(e)}(at(n,(function(t){return t.ch}))),r=st(n);return{dataset:n,triggerChars:o,lookupByChar:function(t){return L(r,(function(e){return e.ch===t}))}}}(e)})),l=function(f){(function(t){return o.get().map((function(n){return wh(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Eh(e,c,n,t)}))})).getOrThunk((function(){return function(t,e){var n=e(),o=t.selection.getRng();return function(t,e,n){return tt(n.triggerChars,(function(n){return wh(t,e,n)}))}(t.dom,o,n).bind((function(n){return Eh(t,e,n)}))}(e,c)}))})(f).fold(s,(function(c){!function(t){if(!a()){var n=function(t,e){return vh(qe(t.selection.getNode())).getOrThunk((function(){var n=$e('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return tr(n,qe(e.extractContents())),e.insertNode(n.dom()),Xo(n).each((function(t){return t.dom().normalize()})),function(t){return e=ss,(n=function(t){for(var o=Yo(t),r=o.length-1;r>=0;r--){var i=o[r];if(e(i))return b.some(i);var a=n(i);if(a.isSome())return a}return b.none()})(t);var e,n}(n).map((function(e){t.selection.setCursorLocation(e.dom(),function(t){return"img"===ur(t)?1:as(t).fold((function(){return Yo(t).length}),(function(t){return t.length}))}(e))})),n}))}(e,t.range);o.set(b.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length})),r.set(!1)}}(c.context),c.lookupData.then((function(a){o.get().map((function(o){var f,d,m,h=c.context;if(o.triggerChar===h.triggerChar){var p=(f=h.triggerChar,m=tt(d=a,(function(t){return b.from(t.columns)})).getOr(1),W(d,(function(o){return function(t,e,n,o,r,i){var a=1===o,u=!a||$g(t);return Il(P(t,(function(t){return"separator"===t.type?(o=t,ne("Autocompleter.Separator",Oh,o)).fold(Bg,(function(t){return b.some(Vg(t))})):function(t){return ne("Autocompleter.Item",Nh,t)}(t).fold(Bg,(function(t){return b.some(function(t,e,n,o,r,i,a,u){void 0===u&&(u=!0);var s=sp({presets:o,textContent:b.none(),htmlContent:n?t.text.map((function(t){return function(t,e){var n=function(t){return Vm.DOM.encode(t)}(qh.translate(t));if(e.length>0){var o=new RegExp(function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"gi");return n.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return n}(t,e)})):b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:b.none(),checkMark:b.none(),caret:b.none(),value:t.value},a.providers,u,t.icon);return zp({data:Mp(t),disabled:t.disabled,getApi:function(){return{}},onAction:function(e){return r(t.value,t.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:Bp(t.meta,a)},s,i)}(t,e,a,"normal",n,r,i,u))}));var o})))}(o.items,o.matchText,(function(n,i){var a=e.selection.getRng();wh(e.dom,a,f).fold((function(){return t.console.error("Lost context. Cursor probably moved")}),(function(t){var e=t.range,a={hide:function(){s()},reload:function(t){u(),l(t)}};r.set(!0),o.onAction(a,e,n,i),r.set(!1)}))}),m,Np.BUBBLE_TO_SANDBOX,n)})));p.length>0?function(t,n,o,r){t.matchLength=n.text.length;var a=tt(o,(function(t){return b.from(t.columns)})).getOr(1);Nm.showAt(i,{anchor:"node",root:qe(e.getBody()),node:b.from(t.element)},Cm.sketch(function(t,e,n,o){var r=n===Op.ContentFocus?lf():cf(),i=Lg(e,"normal"),a=Eg("normal");return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===Op.ContentFocus,focusManager:r,menuBehaviours:Ph("auto"!==e?[]:[Io((function(t,e){Ih(t,4,a.item).each((function(e){Hd.setGridSize(t,e.numRows,e.numColumns)}))}))])}}(Ig("autocompleter-value",!0,r,a,"normal"),a,Op.ContentFocus))),Nm.getContent(i).each(Kl.highlightFirst)}(o,h,a,p):h.text.length-o.matchLength>=10?s():u()}}))}))}))};!function(t,e){e.on("keypress compositionend",t.onKeypress.throttle),e.on("remove",t.onKeypress.cancel);var n=function(t,e){xo(t,Ln(),{raw:e})};e.on("keydown",(function(e){var o=function(){return t.getView().bind(Kl.getHighlighted)};8===e.which&&t.onKeypress.throttle(e),t.isActive()&&(27===e.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===e.which?(o().each(wo),e.preventDefault()):40===e.which?(o().fold((function(){t.getView().each(Kl.highlightFirst)}),(function(t){n(t,e)})),e.preventDefault(),e.stopImmediatePropagation()):37!==e.which&&38!==e.which&&39!==e.which||o().each((function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()})):13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary())})),e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&vh(qe(e.element)).isNone()&&t.cancelIfNecessary()}))}({onKeypress:hh((function(t){27!==t.which&&l()}),50),cancelIfNecessary:s,isMenuOpen:function(){return Nm.isOpen(i)},isActive:a,isProcessingAction:r.get,getView:function(){return Nm.getContent(i)}},e)},Xg=o(!0),Gg=function(t,e,n){return function(t,e,n,o){return Ri(t,e,n,o,!1)}(t,e,Xg,n)},Yg=function(t,e,n){return function(t,e,n,o){return Ri(t,e,n,o,!0)}(t,e,Xg,n)},Kg=Bi,Jg=function(t,e,n){return oa(t,e,n).isSome()};function Qg(e,n){var o=null;return{cancel:function(){null!==o&&(t.clearTimeout(o),o=null)},schedule:function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];o=t.setTimeout((function(){e.apply(null,r),o=null}),n)}}}var Zg=function(t){var e=t.raw();return void 0===e.touches||1!==e.touches.length?b.none():b.some(e.touches[0])},tv=hn().browser.isFirefox(),ev=Ut([Ce("triggerEvent"),ze("stopBackspace",!0)]),nv=function(t,e){var n=ct(t,"target").map((function(t){return t()})).getOr(e);return Ve(n)},ov=dt([{stopped:[]},{resume:["element"]},{complete:[]}]),rv=function(t,e,n,r,i,a){var u=t(e,r),s=function(t,e){var n=Ve(!1),r=Ve(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:o(t),setSource:e.set,getSource:e.get}}(n,i);return u.fold((function(){return a.logEventNoHandlers(e,r),ov.complete()}),(function(t){var n=t.descHandler();return Vr(n)(s),s.isStopped()?(a.logEventStopped(e,t.element(),n.purpose()),ov.stopped()):s.isCut()?(a.logEventCut(e,t.element(),n.purpose()),ov.complete()):Xo(t.element()).fold((function(){return a.logNoParent(e,t.element(),n.purpose()),ov.complete()}),(function(o){return a.logEventResponse(e,t.element(),n.purpose()),ov.resume(o)}))}))},iv=function(t,e,n,o,r,i){return rv(t,e,n,o,r,i).fold((function(){return!0}),(function(o){return iv(t,e,n,o,r,i)}),(function(){return!1}))},av=function(t,e,n,o,r){var i=nv(n,o);return iv(t,e,n,o,i,r)},uv=Fo("element","descHandler");function sv(){var t,e=(t={},{registerId:function(e,n,r){ot(r,(function(r,a){var u=void 0!==t[a]?t[a]:{};u[n]=function(t,e){return n=i.apply(void 0,[t.handler].concat(e)),r=t.purpose(),{cHandler:n,purpose:o(r)};var n,r}(r,e),t[a]=u}))},unregisterId:function(e){ot(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))},filterByType:function(e){return ct(t,e).map((function(t){return at(t,(function(t,e){return function(t,e){return{id:o(t),descHandler:o(e)}}(e,t)}))})).getOr([])},find:function(e,n,o){var r=ct(t,n);return Tn(o,(function(t){return function(t,e){return Or(e).fold((function(){return b.none()}),(function(n){return t.bind((function(t){return ct(t,n)})).map((function(t){return uv(e,t)}))}))}(r,t)}),e)}}),n={},r=function(t){Or(t.element()).each((function(t){delete n[t],e.unregisterId(t)}))};return{find:function(t,n,o){return e.find(t,n,o)},filter:function(t){return e.filterByType(t)},register:function(t){var o=function(t){var e=t.element();return Or(e).fold((function(){return function(t,e){var n=wr(kr+"uid-");return Er(e,n),n}(0,t.element())}),(function(t){return t}))}(t);ft(n,o)&&function(t,e){var o=n[e];if(o!==t)throw new Error('The tagId "'+e+'" is already used by: '+vr(o.element())+"\nCannot use it for: "+vr(t.element())+"\nThe conflicting element is"+(Zr(o.element())?" ":" not ")+"already in the DOM");r(t)}(t,o),e.registerId([t],o,t.events()),n[o]=t},unregister:r,getById:function(t){return ct(n,t)}}}var cv=Bl({name:"Container",factory:function(t){var e=t.dom,n=e.attributes,o=d(e,["attributes"]);return{uid:t.uid,dom:f({tag:"div",attributes:f({role:"presentation"},n)},o),components:t.components,behaviours:Rc(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[ze("components",[]),Bc("containerBehaviours",[]),ze("events",{}),ze("domModification",{}),ze("eventOrder",{})]}),lv=function(n){var r,i,a,s,c,l,f,d,m,h,p=function(t){return Xo(n.element()).fold((function(){return!0}),(function(e){return Cn(t,e)}))},g=sv(),v=function(t,e){return g.find(p,t,e)},y=(r=n.element(),i=re("Getting GUI events settings",ev,{triggerEvent:function(t,e){return ca(t,e.target(),(function(n){return function(t,e,n,o){var r=n.target();return av(t,e,n,r,o)}(v,t,e,n)}))}}),a=function(t){var e=Ve(b.none()),n=Ve(!1),r=Qg((function(e){t.triggerEvent(to(),e),n.set(!0)}),400),i=Rt([{key:Nn(),value:function(t){return Zg(t).each((function(i){r.cancel();var a={x:o(i.clientX),y:o(i.clientY),target:t.target};r.schedule(t),n.set(!1),e.set(b.some(a))})),b.none()}},{key:An(),value:function(t){return r.cancel(),Zg(t).each((function(t){e.get().each((function(n){(function(t,e){var n=Math.abs(t.clientX-e.x()),o=Math.abs(t.clientY-e.y());return n>5||o>5})(t,n)&&e.set(b.none())}))})),b.none()}},{key:_n(),value:function(o){return r.cancel(),e.get().filter((function(t){return Cn(t.target(),o.target())})).map((function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(Zn(),o)}))}}]);return{fireIfReady:function(t,e){return ct(i,e).bind((function(e){return e(t)}))}}}(i),s=P(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return Gg(r,t,(function(e){a.fireIfReady(e,t).each((function(t){t&&e.kill()})),i.triggerEvent(t,e)&&e.kill()}))})),c=Ve(b.none()),l=Gg(r,"paste",(function(e){a.fireIfReady(e,"paste").each((function(t){t&&e.kill()})),i.triggerEvent("paste",e)&&e.kill(),c.set(b.some(t.setTimeout((function(){i.triggerEvent(Yn(),e)}),0)))})),f=Gg(r,"keydown",(function(t){i.triggerEvent("keydown",t)?t.kill():!0===i.stopBackspace&&function(t){return 8===t.raw().which&&!B(["input","textarea"],ur(t.target()))&&!Jg(t.target(),'[contenteditable="true"]')}(t)&&t.prevent()})),d=function(t,e){return tv?Yg(t,"focus",e):Gg(t,"focusin",e)}(r,(function(t){i.triggerEvent("focusin",t)&&t.kill()})),m=Ve(b.none()),h=function(t,e){return tv?Yg(t,"blur",e):Gg(t,"focusout",e)}(r,(function(e){i.triggerEvent("focusout",e)&&e.kill(),m.set(b.some(t.setTimeout((function(){i.triggerEvent(Gn(),e)}),0)))})),{unbind:function(){H(s,(function(t){t.unbind()})),f.unbind(),d.unbind(),h.unbind(),l.unbind(),c.get().each(t.clearTimeout),m.get().each(t.clearTimeout)}}),x={debugInfo:o("real"),triggerEvent:function(t,e,n){ca(t,e,(function(o){return av(v,t,n,e,o)}))},triggerFocus:function(t,n){Or(t).fold((function(){hu(t)}),(function(r){ca(Xn(),t,(function(r){return function(t,e,n,o,r){var i=nv(n,o);rv(t,e,n,o,i,r)}(v,Xn(),{originator:o(n),kill:e,prevent:e,target:o(t)},t,r),!1}))}))},triggerEscape:function(t,e){x.triggerEvent("keydown",t.element(),e.event())},getByUid:function(t){return _(t)},getByDom:function(t){return D(t)},build:xi,addToGui:function(t){k(t)},removeFromGui:function(t){T(t)},addToWorld:function(t){C(t)},removeFromWorld:function(t){S(t)},broadcast:function(t){O(t)},broadcastOn:function(t,e){N(t,e)},broadcastEvent:function(t,e){A(t,e)},isConnected:o(!0)},C=function(t){t.connect(x),lr(t.element())||(g.register(t),H(t.components(),C),x.triggerEvent(oo(),t.element(),{target:o(t.element())}))},S=function(t){lr(t.element())||(H(t.components(),S),g.unregister(t)),t.disconnect()},k=function(t){Ks(n,t)},T=function(t){Zs(t)},E=function(t){var e=g.filter(Kn());H(e,(function(e){var n=e.descHandler();Vr(n)(t)}))},O=function(t){E({universal:o(!0),data:o(t)})},N=function(t,e){E({universal:o(!1),channels:o(t),data:o(e)})},A=function(t,n){return r=g.filter(t),i=function(t){var n=Ve(!1);return{stop:function(){n.set(!0)},cut:e,isStopped:n.get,isCut:o(!1),event:o(t),setSource:u("Cannot set source of a broadcasted event"),getSource:u("Cannot get source of a broadcasted event")}}(n),H(r,(function(t){var e=t.descHandler();Vr(e)(i)})),i.isStopped();var r,i},_=function(t){return g.getById(t).fold((function(){return w.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),w.value)},D=function(t){var e=Or(t).getOr("not found");return _(e)};return C(n),{root:o(n),element:n.element,destroy:function(){y.unbind(),or(n.element())},add:k,remove:T,getByUid:_,getByDom:D,addToWorld:C,removeFromWorld:S,broadcast:O,broadcastOn:N,broadcastEvent:A}},fv=wr("form-component-change"),dv=wr("form-close"),mv=wr("form-cancel"),hv=wr("form-action"),pv=wr("form-submit"),gv=wr("form-block"),vv=wr("form-unblock"),bv=wr("form-tabchange"),yv=wr("form-resize"),xv=o([ze("prefix","form-field"),Bc("fieldBehaviours",[Fl,Mc])]),wv=o([sl({schema:[ve("dom")],name:"label"}),sl({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[ve("text")],name:"aria-descriptor"}),al({factory:{sketch:function(t){var e=Mt(t,["factory"]);return t.factory.sketch(e)}},schema:[ve("factory")],name:"field"})]),Cv=Rl({name:"FormField",configFields:xv(),partFields:wv(),factory:function(t,e,n,o){var r=Ic(t.fieldBehaviours,[Fl.config({find:function(e){return xl(e,t,"field")}}),Mc.config({store:{mode:"manual",getValue:function(t){return Fl.getCurrent(t).bind(Mc.getValue)},setValue:function(t,e){Fl.getCurrent(t).each((function(t){Mc.setValue(t,e)}))}}})]),i=To([Io((function(e,n){var o=Cl(e,t,["label","field","aria-descriptor"]);o.field().each((function(e){var n=wr(t.prefix);o.label().each((function(t){dr(t.element(),"for",n),dr(e.element(),"id",n)})),o["aria-descriptor"]().each((function(n){var o=wr(t.prefix);dr(n.element(),"id",o),dr(e.element(),"aria-describedby",o)}))}))}))]);return{uid:t.uid,dom:t.dom,components:e,behaviours:r,events:i,apis:{getField:function(e){return xl(e,t,"field")},getLabel:function(e){return xl(e,t,"label")}}}},apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),Sv=o([Ee("data"),ze("inputAttributes",{}),ze("inputStyles",{}),ze("tag","input"),ze("inputClasses",[]),ba("onSetValue"),ze("styles",{}),ze("eventOrder",{}),Bc("inputBehaviours",[Mc,Yd]),ze("selectOnFocus",!0)]),kv=function(t){return ru([Yd.config({onFocus:t.selectOnFocus?function(t){var e=t.element(),n=hi(e);e.dom().setSelectionRange(0,n.length)}:e})])},Tv=function(t){return f(f({},kv(t)),Ic(t.inputBehaviours,[Mc.config({store:f(f({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return hi(t.element())},setValue:function(t,e){hi(t.element())!==e&&pi(t.element(),e)}}),onSetValue:t.onSetValue})]))},Ev=function(t){return{tag:t.tag,attributes:f({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Ov=Bl({name:"Input",configFields:Sv(),factory:function(t,e){return{uid:t.uid,dom:Ev(t),components:[],behaviours:Tv(t),eventOrder:t.eventOrder}}}),Nv={},Av={exports:Nv};!function(t,e,n,o){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,o){function r(a,u){if(!n[a]){if(!e[a]){if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return r(e[a][1][t]||t)}),c,c.exports,t,e,n,o)}return n[a].exports}for(var i=!1,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,n){var o,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(o===setTimeout)return setTimeout(t,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(t){o=a}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,l=[],f=!1,d=-1;function m(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!f){var t=s(m);f=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||f||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var o=setTimeout;function r(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var o;try{o=n(t._value)}catch(r){return void s(e.promise,r)}u(e.promise,o)}else(1===t._state?u:s)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f((o=n,r=e,function(){o.apply(r,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(a){s(t,a)}var o,r}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,s(e,t))}))}catch(o){if(n)return;n=!0,s(e,o)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var o=e.length;function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){r(i,t)}),n)}e[i]=a,0==--o&&t(e)}catch(s){n(s)}}for(var i=0;i<e.length;i++)r(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){o(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,o){var r=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,u={},s=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=s++,o=!(arguments.length<2)&&a.call(arguments,1);return u[e]=!0,r((function(){u[e]&&(o?t.apply(null,o):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof o?o:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var o=t("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:r.Promise||o}},{"promise-polyfill":2}]},{},[4])(4)}))}(0,Nv,Av);var _v,Dv=Av.exports.boltExport,zv=function(e){var n=b.none(),o=[],r=function(t){i()?a(t):o.push(t)},i=function(){return n.isSome()},a=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(t){n=b.some(t),H(o,a),o=[]})),{get:r,map:function(t){return zv((function(e){r((function(n){e(t(n))}))}))},isReady:i}},Mv={nu:zv,pure:function(t){return zv((function(e){e(t)}))}},Bv=function(e){t.setTimeout((function(){throw e}),0)},Rv=function(t){var e=function(e){t().then(e,Bv)};return{map:function(e){return Rv((function(){return t().then(e)}))},bind:function(e){return Rv((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return Rv((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return Mv.nu(e)},toCached:function(){var e=null;return Rv((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},Iv=function(t){return Rv((function(){return new Dv(t)}))},Pv=function(t){return Rv((function(){return Dv.resolve(t)}))},Hv=["input","textarea"],Lv=function(t){var e=ur(t);return B(Hv,e)},Fv=function(t,e){var n=e.getRoot(t).getOr(t.element());Gr(n,e.invalidClass),e.notify.each((function(e){Lv(t.element())&&dr(t.element(),"aria-invalid",!1),e.getContainer(t).each((function(t){ar(t,e.validHtml)})),e.onValid(t)}))},Vv=function(t,e,n,o){var r=e.getRoot(t).getOr(t.element());Xr(r,e.invalidClass),e.notify.each((function(e){Lv(t.element())&&dr(t.element(),"aria-invalid",!0),e.getContainer(t).each((function(t){ar(t,o)})),e.onInvalid(t,o)}))},jv=function(t,e,n){return e.validator.fold((function(){return Pv(w.value(!0))}),(function(e){return e.validate(t)}))},$v=function(t,e,n){return e.notify.each((function(e){e.onValidate(t)})),jv(t,e).map((function(n){return t.getSystem().isConnected()?n.fold((function(n){return Vv(t,e,0,n),w.error(n)}),(function(n){return Fv(t,e),w.value(n)})):w.error("No longer in system")}))},Uv=Object.freeze({__proto__:null,markValid:Fv,markInvalid:Vv,query:jv,run:$v,isInvalid:function(t,e){var n=e.getRoot(t).getOr(t.element());return Yr(n,e.invalidClass)}}),Wv=Object.freeze({__proto__:null,events:function(t,n){return t.validator.map((function(n){return To([No(n.onEvent,(function(e){$v(e,t).get(r)}))].concat(n.validateOnLoad?[Io((function(n){$v(n,t).get(e)}))]:[]))})).getOr({})}}),qv=[ve("invalidClass"),ze("getRoot",b.none),De("notify",[ze("aria","alert"),ze("getContainer",b.none),ze("validHtml",""),ba("onValid"),ba("onInvalid"),ba("onValidate")]),De("validator",[ve("validate"),ze("onEvent","input"),ze("validateOnLoad",!0)])],Xv=au({fields:qv,name:"invalidating",active:Wv,apis:Uv,extra:{validation:function(t){return function(e){var n=Mc.getValue(e);return Pv(t(n))}}}}),Gv=Object.freeze({__proto__:null,exhibit:function(t,e){return Fr({attributes:Rt([{key:e.tabAttr,value:"true"}])})}}),Yv=[ze("tabAttr","data-alloy-tabstop")],Kv=au({fields:Yv,name:"tabstopping",active:Gv}),Jv=function(t,e,n,o){var r=Qv(t,e,n,o);return Cv.sketch(r)},Qv=function(t,e,n,o){return{dom:Zv(n),components:t.toArray().concat([e]),fieldBehaviours:ru(o)}},Zv=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},tb=function(t,e){return Cv.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})},eb=Object.freeze({__proto__:null,getCoupled:function(t,e,n,o){return n.getOrCreate(t,e,o)}}),nb=[be("others",ee(w.value,se()))],ob=au({fields:nb,name:"coupling",apis:eb,state:Object.freeze({__proto__:null,init:function(){var t={},e=o({});return Hr({readState:e,getOrCreate:function(e,n,o){var r=et(n.others);if(r)return ct(t,o).getOrThunk((function(){var r=ct(n.others,o).getOrDie("No information found for coupled component: "+o)(e),i=e.getSystem().build(r);return t[o]=i,i}));throw new Error("Cannot find coupled component: "+o+". Known coupled components: "+JSON.stringify(r,null,2))}})}})}),rb=o("sink"),ib=o(sl({name:rb(),overrides:o({dom:{tag:"div"},behaviours:ru([Ws.config({useFixed:c})]),events:To([Mo(Ln()),Mo(zn()),Mo($n())])})}));!function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"}(_v||(_v={}));var ab=function(t,e){var n=t.getHotspot(e).getOr(e),o=t.getAnchorOverrides();return t.layouts.fold((function(){return{anchor:"hotspot",hotspot:n,overrides:o}}),(function(t){return{anchor:"hotspot",hotspot:n,overrides:o,layouts:t}}))},ub=function(t,e,n,o,r,i,a){return function(t,e,n,o,r,i,a){var u=function(t,e,n){return(0,t.fetch)(n).map(e)}(t,e,o),s=lb(o,t);return u.map((function(t){return t.bind((function(t){return b.from(Om.sketch(f(f({},i.menu()),{uid:Nr(""),data:t,highlightImmediately:a===_v.HighlightFirst,onOpenMenu:function(t,e){var o=s().getOrDie();Ws.position(o,n,e),mc.decloak(r)},onOpenSubmenu:function(t,e,n){var o=s().getOrDie();Ws.position(o,{anchor:"submenu",item:e},n),mc.decloak(r)},onRepositionMenu:function(t,e,o){var r=s().getOrDie();Ws.position(r,n,e),H(o,(function(t){Ws.position(r,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){return Yd.focus(o),mc.close(r),b.some(!0)}})))}))}))}(t,e,ab(t,n),n,o,r,a).map((function(t){return t.fold((function(){mc.isOpen(o)&&mc.close(o)}),(function(t){mc.cloak(o),mc.open(o,t),i(o)})),o}))},sb=function(t,e,n,o,r,i,a){return mc.close(o),Pv(o)},cb=function(t,e,n,o,r,i){var a=ob.getCoupled(n,"sandbox");return(mc.isOpen(a)?sb:ub)(t,e,n,a,o,r,i)},lb=function(t,e){return t.getSystem().getByUid(e.uid+"-"+rb()).map((function(t){return function(){return w.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return w.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))},fb=function(t){mc.getState(t).each((function(t){Om.repositionMenus(t)}))},db=function(t,e,n){var o=ra(),r=lb(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:o.id(),role:"listbox"}},behaviours:Hc(t.sandboxBehaviours,[Mc.config({store:{mode:"memory",initialValue:e}}),mc.config({onOpen:function(r,i){var a=ab(t,e);o.link(e.element()),t.matchWidth&&function(t,e,n){var o=Fl.getCurrent(e).getOr(e),r=zi(t.element());n?ri(o.element(),"min-width",r+"px"):function(t,e){Di.set(t,e)}(o.element(),r)}(a.hotspot,i,t.useMinWidth),t.onOpen(a,r,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,i)},onClose:function(t,r){o.unlink(e.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(t,r)},isPartOf:function(t,n,o){return ia(n,o)||ia(e,o)},getAttachPoint:function(){return r().getOrDie()}}),Fl.config({find:function(t){return mc.getState(t).bind((function(t){return Fl.getCurrent(t)}))}}),du.config({channels:f(f({},bc({isExtraPart:s})),xc({doReposition:fb}))})])}},mb=function(t){var e=ob.getCoupled(t,"sandbox");fb(e)},hb=function(){return[ze("sandboxClasses",[]),Pc("sandboxBehaviours",[Fl,du,mc,Mc])]},pb=o([ve("dom"),ve("fetch"),ba("onOpen"),ya("onExecute"),ze("getHotspot",b.some),ze("getAnchorOverrides",o({})),qu(),Bc("dropdownBehaviours",[um,ob,Hd,Yd]),ve("toggleClass"),ze("eventOrder",{}),Ee("lazySink"),ze("matchWidth",!1),ze("useMinWidth",!1),Ee("role")].concat(hb())),gb=o([ul({schema:[pa()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),ib()]),vb=Rl({name:"Dropdown",configFields:pb(),partFields:gb(),factory:function(t,n,o,r){var i,a=function(t){mc.getState(t).each((function(t){Om.highlightPrimary(t)}))},u={expand:function(n){um.isOn(n)||cb(t,(function(t){return t}),n,r,e,_v.HighlightNone).get(e)},open:function(n){um.isOn(n)||cb(t,(function(t){return t}),n,r,e,_v.HighlightFirst).get(e)},isOpen:um.isOn,close:function(n){um.isOn(n)&&cb(t,(function(t){return t}),n,r,e,_v.HighlightFirst).get(e)},repositionMenus:function(t){um.isOn(t)&&mb(t)}},s=function(t,e){return wo(t),b.some(!0)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Ic(t.dropdownBehaviours,[um.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),ob.config({others:{sandbox:function(e){return db(t,e,{onOpen:function(){um.on(e)},onClose:function(){um.off(e)}})}}}),Hd.config({mode:"special",onSpace:s,onEnter:s,onDown:function(t,e){if(vb.isOpen(t)){var n=ob.getCoupled(t,"sandbox");a(n)}else vb.open(t);return b.some(!0)},onEscape:function(t,e){return vb.isOpen(t)?(vb.close(t),b.some(!0)):b.none()}}),Yd.config({})]),events:cm(b.some((function(n){cb(t,(function(t){return t}),n,r,a,_v.HighlightFirst).get(e)}))),eventOrder:f(f({},t.eventOrder),(i={},i[Jn()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:u,domModification:{attributes:f(f({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:ct(t.dom,"attributes").bind((function(t){return ct(t,"type")})).getOr("button")}:{})}}},apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),bb=au({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return To([Eo(Wn(),o(!0))])},exhibit:function(){return Fr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),yb=wr("color-input-change"),xb=wr("color-swatch-change"),wb=wr("color-picker-cancel"),Cb=function(t,e,n){return{hue:o(t),saturation:o(e),value:o(n)}},Sb=o(wr("rgb-hex-update")),kb=o(wr("slider-update")),Tb=o(wr("palette-update")),Eb=sl({schema:[ve("dom")],name:"label"}),Ob=function(t){return sl({name:t+"-edge",overrides:function(e){return e.model.manager.edgeActions[t].fold((function(){return{}}),(function(t){return{events:To([Ao(Nn(),(function(e,n,o){return t(e,o)}),[e]),Ao(zn(),(function(e,n,o){return t(e,o)}),[e]),Ao(Mn(),(function(e,n,o){o.mouseIsDown.get()&&t(e,o)}),[e])])}}))}})},Nb=Ob("top-left"),Ab=Ob("top"),_b=Ob("top-right"),Db=Ob("right"),zb=Ob("bottom-right"),Mb=Ob("bottom"),Bb=Ob("bottom-left"),Rb=[Eb,Ob("left"),Db,Ab,Mb,Nb,_b,Bb,zb,al({name:"thumb",defaults:o({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:To([Do(Nn(),t,"spectrum"),Do(An(),t,"spectrum"),Do(_n(),t,"spectrum"),Do(zn(),t,"spectrum"),Do(Mn(),t,"spectrum"),Do(Rn(),t,"spectrum")])}}}),al({schema:[Fe("mouseIsDown",(function(){return Ve(!1)}))],name:"spectrum",overrides:function(t){var e=t.model.manager,n=function(n,o){return e.getValueFromEvent(o).map((function(o){return e.setValueFrom(n,t,o)}))};return{behaviours:ru([Hd.config({mode:"special",onLeft:function(n){return e.onLeft(n,t)},onRight:function(n){return e.onRight(n,t)},onUp:function(n){return e.onUp(n,t)},onDown:function(n){return e.onDown(n,t)}}),Yd.config({})]),events:To([No(Nn(),n),No(An(),n),No(zn(),n),No(Mn(),(function(e,o){t.mouseIsDown.get()&&n(e,o)}))])}}})],Ib=o("slider.change.value"),Pb=function(t){var e=t.event().raw();return function(t){return-1!==t.type.indexOf("touch")}(e)?void 0!==e.touches&&1===e.touches.length?b.some(e.touches[0]).map((function(t){return Oi(t.clientX,t.clientY)})):b.none():void 0!==e.clientX?b.some(e).map((function(t){return Oi(t.clientX,t.clientY)})):b.none()},Hb=function(t){return t.model.minX},Lb=function(t){return t.model.minY},Fb=function(t){return t.model.minX-1},Vb=function(t){return t.model.minY-1},jb=function(t){return t.model.maxX},$b=function(t){return t.model.maxY},Ub=function(t){return t.model.maxX+1},Wb=function(t){return t.model.maxY+1},qb=function(t,e,n){return e(t)-n(t)},Xb=function(t){return qb(t,jb,Hb)},Gb=function(t){return qb(t,$b,Lb)},Yb=function(t){return Xb(t)/2},Kb=function(t){return Gb(t)/2},Jb=function(t){return t.stepSize},Qb=function(t){return t.snapToGrid},Zb=function(t){return t.snapStart},ty=function(t){return t.rounded},ey=function(t,e){return void 0!==t[e+"-edge"]},ny=function(t){return ey(t,"left")},oy=function(t){return ey(t,"right")},ry=function(t){return ey(t,"top")},iy=function(t){return ey(t,"bottom")},ay=function(t){return t.model.value.get()},uy=function(t){return{x:o(t)}},sy=function(t){return{y:o(t)}},cy=function(t,e){return{x:o(t),y:o(e)}},ly=function(t,e){xo(t,Ib(),{value:e})},fy=function(t,e,n,o){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-o)},dy=function(t,e,n,o){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+o)},my=function(t,e,n){return Math.max(e,Math.min(n,t))},hy=function(t){var e=t.min,n=t.max,o=t.range,r=t.value,i=t.step,a=t.snap,u=t.snapStart,s=t.rounded,c=t.minBound,l=t.maxBound,f=t.screenRange,d=t.hasMinEdge?e-1:e,m=t.hasMaxEdge?n+1:n;if(r<c)return d;if(r>l)return m;var h=function(t,e,n){return Math.min(n,Math.max(t,e))-e}(r,c,l),p=my(h/f*o+e,d,m);return a&&p>=e&&p<=n?function(t,e,n,o,r){return r.fold((function(){var r=Math.round((t-e)/o)*o;return my(e+r,e-1,n+1)}),(function(e){var r=Math.round((t-e)%o/o),i=Math.floor((t-e)/o),a=Math.floor((n-e)/o),u=Math.min(a,i+r);return Math.max(e,e+u*o)}))}(p,e,n,i,u):s?Math.round(p):p},py=function(t){var e=t.min,n=t.value;return n<e?t.hasMinEdge?0:t.centerMinEdge:n>t.max?t.hasMaxEdge?t.maxBound:t.centerMaxEdge:(n-e)/t.range*t.maxOffset},gy=function(t){return t.element().dom().getBoundingClientRect()},vy=function(t,e){return t[e]},by=function(t){var e=gy(t);return vy(e,"left")},yy=function(t){var e=gy(t);return vy(e,"right")},xy=function(t){var e=gy(t);return vy(e,"top")},wy=function(t){var e=gy(t);return vy(e,"bottom")},Cy=function(t){var e=gy(t);return vy(e,"width")},Sy=function(t){var e=gy(t);return vy(e,"height")},ky=function(t,e,n){return(t+e)/2-n},Ty=function(t,e){var n=gy(t),o=gy(e),r=vy(n,"left"),i=vy(n,"right"),a=vy(o,"left");return ky(r,i,a)},Ey=function(t,e){var n=gy(t),o=gy(e),r=vy(n,"top"),i=vy(n,"bottom"),a=vy(o,"top");return ky(r,i,a)},Oy=function(t,e){xo(t,Ib(),{value:e})},Ny=function(t){return{x:o(t)}},Ay=function(t,e,n){var o={min:Hb(e),max:jb(e),range:Xb(e),value:n,step:Jb(e),snap:Qb(e),snapStart:Zb(e),rounded:ty(e),hasMinEdge:ny(e),hasMaxEdge:oy(e),minBound:by(t),maxBound:yy(t),screenRange:Cy(t)};return hy(o)},_y=function(t){return function(e,n){return function(t,e,n){var o=(t>0?dy:fy)(ay(n).x(),Hb(n),jb(n),Jb(n));return Oy(e,Ny(o)),b.some(o)}(t,e,n).map((function(){return!0}))}},Dy=function(t,e,n,o,r,i){var a=function(t,e,n,o,r){var i=Cy(t),a=o.bind((function(e){return b.some(Ty(e,t))})).getOr(0),u=r.bind((function(e){return b.some(Ty(e,t))})).getOr(i),s={min:Hb(e),max:jb(e),range:Xb(e),value:n,hasMinEdge:ny(e),hasMaxEdge:oy(e),minBound:by(t),minOffset:0,maxBound:yy(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return py(s)}(e,i,n,o,r);return by(e)-by(t)+a},zy=_y(-1),My=_y(1),By=b.none,Ry=b.none,Iy={"top-left":b.none(),top:b.none(),"top-right":b.none(),right:b.some((function(t,e){ly(t,uy(Ub(e)))})),"bottom-right":b.none(),bottom:b.none(),"bottom-left":b.none(),left:b.some((function(t,e){ly(t,uy(Fb(e)))}))},Py=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var o=Ay(t,e,n),r=Ny(o);return Oy(t,r),o},setToMin:function(t,e){var n=Hb(e);Oy(t,Ny(n))},setToMax:function(t,e){var n=jb(e);Oy(t,Ny(n))},findValueOfOffset:Ay,getValueFromEvent:function(t){return Pb(t).map((function(t){return t.left()}))},findPositionOfValue:Dy,setPositionFromValue:function(t,e,n,o){var r=ay(n),i=Dy(t,o.getSpectrum(t),r.x(),o.getLeftEdge(t),o.getRightEdge(t),n),a=zi(e.element())/2;ri(e.element(),"left",i-a+"px")},onLeft:zy,onRight:My,onUp:By,onDown:Ry,edgeActions:Iy}),Hy=function(t,e){xo(t,Ib(),{value:e})},Ly=function(t){return{y:o(t)}},Fy=function(t,e,n){var o={min:Lb(e),max:$b(e),range:Gb(e),value:n,step:Jb(e),snap:Qb(e),snapStart:Zb(e),rounded:ty(e),hasMinEdge:ry(e),hasMaxEdge:iy(e),minBound:xy(t),maxBound:wy(t),screenRange:Sy(t)};return hy(o)},Vy=function(t){return function(e,n){return function(t,e,n){var o=(t>0?dy:fy)(ay(n).y(),Lb(n),$b(n),Jb(n));return Hy(e,Ly(o)),b.some(o)}(t,e,n).map((function(){return!0}))}},jy=function(t,e,n,o,r,i){var a=function(t,e,n,o,r){var i=Sy(t),a=o.bind((function(e){return b.some(Ey(e,t))})).getOr(0),u=r.bind((function(e){return b.some(Ey(e,t))})).getOr(i),s={min:Lb(e),max:$b(e),range:Gb(e),value:n,hasMinEdge:ry(e),hasMaxEdge:iy(e),minBound:xy(t),minOffset:0,maxBound:wy(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return py(s)}(e,i,n,o,r);return xy(e)-xy(t)+a},$y=b.none,Uy=b.none,Wy=Vy(-1),qy=Vy(1),Xy={"top-left":b.none(),top:b.some((function(t,e){ly(t,sy(Vb(e)))})),"top-right":b.none(),right:b.none(),"bottom-right":b.none(),bottom:b.some((function(t,e){ly(t,sy(Wb(e)))})),"bottom-left":b.none(),left:b.none()},Gy=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var o=Fy(t,e,n),r=Ly(o);return Hy(t,r),o},setToMin:function(t,e){var n=Lb(e);Hy(t,Ly(n))},setToMax:function(t,e){var n=$b(e);Hy(t,Ly(n))},findValueOfOffset:Fy,getValueFromEvent:function(t){return Pb(t).map((function(t){return t.top()}))},findPositionOfValue:jy,setPositionFromValue:function(t,e,n,o){var r=ay(n),i=jy(t,o.getSpectrum(t),r.y(),o.getTopEdge(t),o.getBottomEdge(t),n),a=ki(e.element())/2;ri(e.element(),"top",i-a+"px")},onLeft:$y,onRight:Uy,onUp:Wy,onDown:qy,edgeActions:Xy}),Yy=function(t,e){xo(t,Ib(),{value:e})},Ky=function(t,e){return{x:o(t),y:o(e)}},Jy=function(t,e){return function(n,o){return function(t,e,n,o){var r=t>0?dy:fy,i=e?ay(o).x():r(ay(o).x(),Hb(o),jb(o),Jb(o)),a=e?r(ay(o).y(),Lb(o),$b(o),Jb(o)):ay(o).y();return Yy(n,Ky(i,a)),b.some(i)}(t,e,n,o).map((function(){return!0}))}},Qy=Jy(-1,!1),Zy=Jy(1,!1),tx=Jy(-1,!0),ex=Jy(1,!0),nx={"top-left":b.some((function(t,e){ly(t,cy(Fb(e),Vb(e)))})),top:b.some((function(t,e){ly(t,cy(Yb(e),Vb(e)))})),"top-right":b.some((function(t,e){ly(t,cy(Ub(e),Vb(e)))})),right:b.some((function(t,e){ly(t,cy(Ub(e),Kb(e)))})),"bottom-right":b.some((function(t,e){ly(t,cy(Ub(e),Wb(e)))})),bottom:b.some((function(t,e){ly(t,cy(Yb(e),Wb(e)))})),"bottom-left":b.some((function(t,e){ly(t,cy(Fb(e),Wb(e)))})),left:b.some((function(t,e){ly(t,cy(Fb(e),Kb(e)))}))},ox=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var o=Ay(t,e,n.left()),r=Fy(t,e,n.top()),i=Ky(o,r);return Yy(t,i),i},setToMin:function(t,e){var n=Hb(e),o=Lb(e);Yy(t,Ky(n,o))},setToMax:function(t,e){var n=jb(e),o=$b(e);Yy(t,Ky(n,o))},getValueFromEvent:function(t){return Pb(t)},setPositionFromValue:function(t,e,n,o){var r=ay(n),i=Dy(t,o.getSpectrum(t),r.x(),o.getLeftEdge(t),o.getRightEdge(t),n),a=jy(t,o.getSpectrum(t),r.y(),o.getTopEdge(t),o.getBottomEdge(t),n),u=zi(e.element())/2,s=ki(e.element())/2;ri(e.element(),"left",i-u+"px"),ri(e.element(),"top",a-s+"px")},onLeft:Qy,onRight:Zy,onUp:tx,onDown:ex,edgeActions:nx}),rx=Rl({name:"Slider",configFields:[ze("stepSize",1),ze("onChange",e),ze("onChoose",e),ze("onInit",e),ze("onDragStart",e),ze("onDragEnd",e),ze("snapToGrid",!1),ze("rounded",!0),Ee("snapStart"),be("model",ue("mode",{x:[ze("minX",0),ze("maxX",100),Fe("value",(function(t){return Ve(t.mode.minX)})),ve("getInitialValue"),Ca("manager",Py)],y:[ze("minY",0),ze("maxY",100),Fe("value",(function(t){return Ve(t.mode.minY)})),ve("getInitialValue"),Ca("manager",Gy)],xy:[ze("minX",0),ze("maxX",100),ze("minY",0),ze("maxY",100),Fe("value",(function(t){return Ve({x:o(t.mode.minX),y:o(t.mode.minY)})})),ve("getInitialValue"),Ca("manager",ox)]})),Bc("sliderBehaviours",[Hd,Mc]),Fe("mouseIsDown",(function(){return Ve(!1)}))],partFields:Rb,factory:function(t,e,n,r){var i,a=function(e){return wl(e,t,"thumb")},u=function(e){return wl(e,t,"spectrum")},s=function(e){return xl(e,t,"left-edge")},c=function(e){return xl(e,t,"right-edge")},l=function(e){return xl(e,t,"top-edge")},f=function(e){return xl(e,t,"bottom-edge")},d=t.model,m=d.manager,h=function(e,n){m.setPositionFromValue(e,n,t,{getLeftEdge:s,getRightEdge:c,getTopEdge:l,getBottomEdge:f,getSpectrum:u})},p=function(e,n){d.value.set(n);var o=a(e);return h(e,o),t.onChange(e,o,n),b.some(!0)},g=function(e){var n=t.mouseIsDown.get();t.mouseIsDown.set(!1),n&&xl(e,t,"thumb").each((function(n){var o=d.value.get();t.onChoose(e,n,o)}))},v=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,a(e))},y=function(e,n){n.stop(),t.onDragEnd(e,a(e)),g(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Ic(t.sliderBehaviours,[Hd.config({mode:"special",focusIn:function(e){return xl(e,t,"spectrum").map(Hd.focusIn).map(o(!0))}}),Mc.config({store:{mode:"manual",getValue:function(t){return d.value.get()}}}),du.config({channels:(i={},i[gc()]={onReceive:g},i)})]),events:To([No(Ib(),(function(t,e){p(t,e.event().value())})),Io((function(e,n){var o=d.getInitialValue();d.value.set(o);var r=a(e);h(e,r);var i=u(e);t.onInit(e,r,i,d.value.get())})),No(Nn(),v),No(_n(),y),No(zn(),v),No(Rn(),y)]),apis:{resetToMin:function(e){m.setToMin(e,t)},resetToMax:function(e){m.setToMax(e,t)},changeValue:p,refresh:h},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),ix=function(t,e){var n=rx.parts().spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=rx.parts().thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return rx.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:o({y:o(0)})},components:[n,r],sliderBehaviours:ru([Yd.config({})]),onChange:function(t,e,n){xo(t,kb(),{value:n})}})},ax=[Bc("formBehaviours",[Mc])],ux=function(t){return"<alloy.field."+t+">"},sx=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:Ic(t.formBehaviours,[Mc.config({store:{mode:"manual",getValue:function(e){var n=Sl(e,t);return rt(n,(function(t,e){return t().bind((function(t){var n,o;return n=Fl.getCurrent(t),o=new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+vr(t.element())),n.fold((function(){return w.error(o)}),w.value)})).map(Mc.getValue)}))},setValue:function(e,n){ot(n,(function(n,o){xl(e,t,o).each((function(t){Fl.getCurrent(t).each((function(t){Mc.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return xl(e,t,n).bind(Fl.getCurrent)}}}},cx={getField:Ir((function(t,e,n){return t.getField(e,n)})),sketch:function(t){var e=function(){var t=[];return{field:function(e,n){return t.push(e),pl("form",ux(e),n)},record:function(){return t}}}(),n=t(e),o=e.record(),r=P(o,(function(t){return al({name:t,pname:ux(t)})}));return _l("form",ax,r,sx,n)}},lx=wr("valid-input"),fx=wr("invalid-input"),dx=wr("validating-input"),mx=function(t,n){return Bl({name:"ColourPicker",configFields:[ve("dom"),ze("onValidHex",e),ze("onInvalidHex",e)],factory:function(r){var i,a=function(t,n,r,i){var a=function(e,o){return Xv.config({invalidClass:n("invalid"),notify:{onValidate:function(t){xo(t,dx,{type:e})},onValid:function(t){xo(t,lx,{type:e,value:Mc.getValue(t)})},onInvalid:function(t){xo(t,fx,{type:e,value:Mc.getValue(t)})}},validator:{validate:function(e){var n=Mc.getValue(e),r=o(n)?w.value(!0):w.error(t("aria.input.invalid"));return Pv(r)},validateOnLoad:!1}})},u=function(o,r,i,u,s){var c=t("colorcustom.rgb.range"),l=[Cv.parts().label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":u}}}),Cv.parts().field({data:s,factory:Ov,inputAttributes:f({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:ru([a(r,o),Kv.config({})]),onSetValue:function(t){Xv.isInvalid(t)&&Xv.run(t).get(e)}})],d="hex"!==r?[Cv.parts()["aria-descriptor"]({text:c})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:l.concat(d)}},s=function(t,e){var n=e.red(),o=e.green(),r=e.blue();Mc.setValue(t,{red:n,green:o,blue:r})},c=sh({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=function(t,e){c.getOpt(t).each((function(t){ri(t.element(),"background-color","#"+e.value())}))};return Bl({factory:function(){var e={red:o(Ve(b.some(255))),green:o(Ve(b.some(255))),blue:o(Ve(b.some(255))),hex:o(Ve(b.some("ffffff")))},a=function(t){return e[t]().get()},f=function(t,n){e[t]().set(n)},d=function(t){var e=t.red(),n=t.green(),o=t.blue();f("red",b.some(e)),f("green",b.some(n)),f("blue",b.some(o))},m=function(t,e){var n=e.event();"hex"!==n.type()?f(n.type(),b.none()):i(t)},h=function(t,e){var n=e.event();!function(t){return"hex"===t.type()}(n)?function(t,e,n){var o=parseInt(n,10);f(e,b.some(o)),a("red").bind((function(t){return a("green").bind((function(e){return a("blue").map((function(n){return Qp(t,e,n,1)}))}))})).each((function(e){var n=function(t,e){var n=qp(e);return cx.getField(t,"hex").each((function(e){Yd.isFocused(e)||Mc.setValue(t,{hex:n.value()})})),n}(t,e);l(t,n)}))}(t,n.type(),n.value()):function(t,e){r(t);var n=Vp(e);f("hex",b.some(e));var o=eg(n);s(t,o),d(o),xo(t,Sb(),{hex:n}),l(t,n)}(t,n.value())},p=function(e){return{label:t("colorcustom.rgb."+e+".label"),description:t("colorcustom.rgb."+e+".description")}},g=p("red"),v=p("green"),y=p("blue"),x=p("hex");return pt(cx.sketch((function(e){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[e.field("red",Cv.sketch(u(Zp,"red",g.label,g.description,255))),e.field("green",Cv.sketch(u(Zp,"green",v.label,v.description,255))),e.field("blue",Cv.sketch(u(Zp,"blue",y.label,y.description,255))),e.field("hex",Cv.sketch(u(Up,"hex",x.label,x.description,"ffffff"))),c.asSpec()],formBehaviours:ru([Xv.config({invalidClass:n("form-invalid")}),Ud("rgb-form-events",[No(lx,h),No(fx,m),No(dx,m)])])}})),{apis:{updateHex:function(t,e){Mc.setValue(t,{hex:e.value()}),function(t,e){var n=eg(e);s(t,n),d(n)}(t,e),l(t,e)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})}(t,n,r.onValidHex,r.onInvalidHex),u=function(t,e){var n=rx.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),r=rx.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(t,e){var n=t.width,o=t.height,r=t.getContext("2d");if(null!==r){r.fillStyle=e,r.fillRect(0,0,n,o);var i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);var a=r.createLinearGradient(0,0,0,o);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,o)}};return Bl({factory:function(t){var a=o({x:o(0),y:o(0)}),u=ru([Fl.config({find:b.some}),Yd.config({})]);return rx.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[n,r],onChange:function(t,e,n){xo(t,Tb(),{value:n})},onInit:function(t,e,n,o){i(n.element().dom(),og(rg()))},sliderBehaviours:u})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,e,n){!function(t,e){var n=t.components()[0].element().dom();i(n,og(e))}(e,n)}},extraApis:{}})}(0,n),s={paletteRgba:o(Ve(rg()))},c=sh(u.sketch({})),l=sh(a.sketch({})),d=function(t,e){c.getOpt(t).each((function(t){var n=eg(e);s.paletteRgba().set(n),u.setRgba(t,n)}))},m=function(t,e){l.getOpt(t).each((function(t){a.updateHex(t,e)}))},h=function(t,e,n){H(n,(function(n){n(t,e)}))};return{uid:r.uid,dom:r.dom,components:[c.asSpec(),ix(0,n),l.asSpec()],behaviours:ru([Ud("colour-picker-events",[No(Tb(),(i=[m],function(t,e){var n=e.event().value(),o=function(t){var e,n=0,o=0,r=t.red()/255,i=t.green()/255,a=t.blue()/255,u=Math.min(r,Math.min(i,a)),s=Math.max(r,Math.max(i,a));return u===s?Cb(0,0,100*(o=u)):(n=60*((n=r===u?3:a===u?1:5)-(r===u?i-a:a===u?r-i:a-r)/(s-u)),e=(s-u)/s,o=s,Cb(Math.round(n),Math.round(100*e),Math.round(100*o)))}(s.paletteRgba().get()),r=Cb(o.hue(),n.x(),100-n.y()),a=tg(r),u=qp(a);h(t,u,i)})),No(kb(),function(){var t=[d,m];return function(e,n){var o=function(t){var e=Cb((100-t)/100*360,100,100),n=tg(e);return qp(n)}(n.event().value().y());h(e,o,t)}}())]),Fl.config({find:function(t){return l.getOpt(t)}}),Hd.config({mode:"acyclic"})])}}})},hx=function(){return Fl.config({find:b.some})},px=function(t){return Fl.config({find:function(e){return Ko(e.element(),t).bind((function(t){return e.getSystem().getByDom(t).toOption()}))}})},gx={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},vx=function(t){return function(t){return gx[t]}(t)},bx=tinymce.util.Tools.resolve("tinymce.Resource"),yx=Wt([ze("preprocess",r),ze("postprocess",r)]),xx=function(t,e,n){return Mc.config(pt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))},wx=function(t,e){var n=re("RepresentingConfigs.memento processors",yx,e);return Mc.config({store:{mode:"manual",getValue:function(e){var o=t.get(e),r=Mc.getValue(o);return n.postprocess(r)},setValue:function(e,o){var r=n.preprocess(o),i=t.get(e);Mc.setValue(i,r)}}})},Cx=xx,Sx=function(t){return Mc.config({store:{mode:"memory",initialValue:t}})},kx=wr("alloy-fake-before-tabstop"),Tx=wr("alloy-fake-after-tabstop"),Ex=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:ru([Yd.config({ignore:!0}),Kv.config({})])}},Ox=function(t,e){xo(t,Ln(),{raw:{which:9,shiftKey:e}})},Nx=function(t){return Jg(t,["."+kx,"."+Tx].join(","),o(!1))},Ax=function(t,e){var n=e.element();Yr(n,kx)?Ox(t,!0):Yr(n,Tx)&&Ox(t,!1)},_x=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[Ex([kx]),t,Ex([Tx])],behaviours:ru([px(1)])}},Dx=!(hn().browser.isIE()||hn().browser.isEdge());function zx(e,n){return Rx(t.document.createElement("canvas"),e,n)}function Mx(t){var e=zx(t.width,t.height);return Bx(e).drawImage(t,0,0),e}function Bx(t){return t.getContext("2d")}function Rx(t,e,n){return t.width=e,t.height=n,t}function Ix(t){return t.naturalWidth||t.width}function Px(t){return t.naturalHeight||t.height}var Hx=window.Promise?window.Promise:function(){var e=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,o(a,this),o(u,this))},n=e.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)};function o(t,e){return function(){return t.apply(e,arguments)}}var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(r){return void t.reject(r)}t.resolve(o)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void l(o(e,t),o(a,this),o(u,this))}this._state=!0,this._value=t,s.call(this)}catch(n){u.call(this,n)}}function u(t){this._state=!1,this._value=t,s.call(this)}function s(){for(var t=0,e=this._deferreds;t<e.length;t++)i.call(this,e[t]);this._deferreds=[]}function c(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function l(t,e,n){var o=!1;try{t((function(t){o||(o=!0,e(t))}),(function(t){o||(o=!0,n(t))}))}catch(r){if(o)return;o=!0,n(r)}}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(t,n){var o=this;return new e((function(e,r){i.call(o,new c(t,n,e,r))}))},e.all=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=Array.prototype.slice.call(1===t.length&&r(t[0])?t[0]:t);return new e((function(t,e){if(0===o.length)return t([]);var n=o.length;function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){r(i,t)}),e)}o[i]=a,0==--n&&t(o)}catch(s){e(s)}}for(var i=0;i<o.length;i++)r(i,o[i])}))},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var o=0,r=t;o<r.length;o++)r[o].then(e,n)}))},e}();function Lx(e,n,o){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new Hx((function(t,r){e.toBlob((function(e){e?t(e):r()}),n,o)})):(r=e.toDataURL(n,o),new Hx((function(e,n){(function(e){var n=e.split(","),o=/data:([^;]+)/.exec(n[0]);if(!o)return b.none();for(var r=o[1],i=t.atob(n[1]),a=i.length,u=Math.ceil(a/1024),s=new Array(u),c=0;c<u;++c){for(var l=1024*c,f=Math.min(l+1024,a),d=new Array(f-l),m=l,h=0;m<f;++h,++m)d[h]=i[m].charCodeAt(0);s[c]=new Uint8Array(d)}return b.some(new t.Blob(s,{type:r}))})(r).fold((function(){n("uri is not base64: "+r)}),e)})));var r}function Fx(t,e,n){function r(e,n){return t.then((function(t){return function(t,e,n){return t.toDataURL(e=e||"image/png",n)}(t,e,n)}))}return{getType:o(e.type),toBlob:function(){return Hx.resolve(e)},toDataURL:function(){return n},toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(e,n){return t.then((function(t){return Lx(t,e,n)}))},toAdjustedDataURL:r,toAdjustedBase64:function(t,e){return r(t,e).then((function(t){return t.split(",")[1]}))},toCanvas:function(){return t.then(Mx)}}}function Vx(t,e){return Lx(t,e).then((function(e){return Fx(Hx.resolve(t),e,t.toDataURL())}))}function jx(t,e,n){var o="string"==typeof t?parseFloat(t):t;return o>n?o=n:o<e&&(o=e),o}var $x=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function Ux(t,e){for(var n,o=[],r=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)o[a]=e[a+5*i];for(a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=t[a+5*u]*o[u];r[a+5*i]=n}}return r}function Wx(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var o=Bx(t),r=function(t,e){for(var n,o,r,i,a=t.data,u=e[0],s=e[1],c=e[2],l=e[3],f=e[4],d=e[5],m=e[6],h=e[7],p=e[8],g=e[9],v=e[10],b=e[11],y=e[12],x=e[13],w=e[14],C=e[15],S=e[16],k=e[17],T=e[18],E=e[19],O=0;O<a.length;O+=4)a[O]=(n=a[O])*u+(o=a[O+1])*s+(r=a[O+2])*c+(i=a[O+3])*l+f,a[O+1]=n*d+o*m+r*h+i*p+g,a[O+2]=n*v+o*b+r*y+i*x+w,a[O+3]=n*C+o*S+r*k+i*T+E;return t}(o.getImageData(0,0,t.width,t.height),n);return o.putImageData(r,0,0),Vx(t,e)}(n,t.getType(),e)}))}function qx(t){return function(e,n){return Wx(e,t([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}}var Xx,Gx,Yx=function(t){return function(e){return Wx(e,t)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),Kx=qx((function(t,e){return Ux(t,[1,0,0,0,e=jx(255*e,-255,255),0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])})),Jx=qx((function(t,e){var n;return e=jx(e,-1,1),Ux(t,[(n=(e*=100)<0?127+e/100*127:127*(n=0==(n=e%1)?$x[e]:$x[Math.floor(e)]*(1-n)+$x[Math.floor(e)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),Qx=(Xx=[0,-1,0,-1,5,-1,0,-1,0],function(t){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var o=Bx(t),r=o.getImageData(0,0,t.width,t.height),i=o.getImageData(0,0,t.width,t.height);return i=function(t,e,n){function o(t,e,n){return t>n?t=n:t<e&&(t=e),t}for(var r=Math.round(Math.sqrt(n.length)),i=Math.floor(r/2),a=t.data,u=e.data,s=t.width,c=t.height,l=0;l<c;l++)for(var f=0;f<s;f++){for(var d=0,m=0,h=0,p=0;p<r;p++)for(var g=0;g<r;g++){var v=o(f+g-i,0,s-1),b=4*(o(l+p-i,0,c-1)*s+v),y=n[p*r+g];d+=a[b]*y,m+=a[b+1]*y,h+=a[b+2]*y}var x=4*(l*s+f);u[x]=o(d,0,255),u[x+1]=o(m,0,255),u[x+2]=o(h,0,255)}return e}(r,i,n),o.putImageData(i,0,0),Vx(t,e)}(n,t.getType(),e)}))}(t,Xx)}),Zx=(Gx=function(t,e){return 255*Math.pow(t/255,1-e)},function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){for(var o=Bx(t),r=new Array(256),i=0;i<r.length;i++)r[i]=Gx(i,n);var a=function(t,e){for(var n=t.data,o=0;o<n.length;o+=4)n[o]=e[n[o]],n[o+1]=e[n[o+1]],n[o+2]=e[n[o+2]];return t}(o.getImageData(0,0,t.width,t.height),r);return o.putImageData(a,0,0),Vx(t,e)}(n,t.getType(),e)}))}),tw=function(t){return Yx(t)},ew=function(t){return Qx(t)},nw=function(t,e){return Zx(t,e)},ow=function(t,e){return Kx(t,e)},rw=function(t,e){return Jx(t,e)},iw=function(t,e){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var o=zx(t.width,t.height),r=Bx(o);return"v"===n?(r.scale(1,-1),r.drawImage(t,0,-o.height)):(r.scale(-1,1),r.drawImage(t,-o.width,0)),Vx(o,e)}(n,t.getType(),e)}))}(t,e)},aw=function(t,e){return function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var o=zx(t.width,t.height),r=Bx(o),i=0,a=0;return 90!==(n=n<0?360+n:n)&&270!==n||Rx(o,o.height,o.width),90!==n&&180!==n||(i=o.width),270!==n&&180!==n||(a=o.height),r.translate(i,a),r.rotate(n*Math.PI/180),r.drawImage(t,0,0),Vx(o,e)}(n,t.getType(),e)}))}(t,e)},uw=function(t,e){return f({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)},sw=function(t,e){return uw(lh(t,e),{})},cw=function(t,e){return uw(lh(t,e),{behaviours:ru([$d.config({})])})},lw=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:ru([$d.config({})])}},fw=wr("toolbar.button.execute"),dw={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},mw=wr("update-menu-text"),hw=wr("update-menu-icon"),pw=function(t,n,o){var r=Ve(e),i=t.text.map((function(t){return sh(lw(t,n,o.providers))})),a=t.icon.map((function(t){return sh(cw(t,o.providers.icons))})),u=function(t,e){var n=Mc.getValue(t);return Yd.focus(n),xo(n,"keydown",{raw:e.event().raw()}),vb.close(n),b.some(!0)},s=t.role.fold((function(){return{}}),(function(t){return{role:t}})),c=t.tooltip.fold((function(){return{}}),(function(t){var e=o.providers.translate(t);return{title:e,"aria-label":e}}));return sh(vb.sketch(f(f({},s),{dom:{tag:"button",classes:[n,n+"--select"].concat(P(t.classes,(function(t){return n+"--"+t}))),attributes:f({},c)},components:Dp([a.map((function(t){return t.asSpec()})),i.map((function(t){return t.asSpec()})),b.some({dom:{tag:"div",classes:[n+"__select-chevron"],innerHtml:lh("chevron-down",o.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:ru(m(t.dropdownBehaviours,[Sp(t.disabled),bb.config({}),$d.config({}),Ud("dropdown-events",[Tp(t,r),Ep(t,r)]),Ud("menubutton-update-display-text",[No(mw,(function(t,e){i.bind((function(e){return e.getOpt(t)})).each((function(t){$d.set(t,[vi(o.providers.translate(e.event().text()))])}))})),No(hw,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){$d.set(t,[cw(e.event().icon(),o.providers.icons)])}))}))])])),eventOrder:pt(dw,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:ru([Hd.config({mode:"special",onLeft:u,onRight:u})]),lazySink:o.getSink,toggleClass:n+"--active",parts:{menu:Ag(0,0,t.presets)},fetch:function(){return Iv(t.fetch)}}))).asSpec()},gw=function(t){return"separator"===t.type},vw={type:"separator"},bw=function(t,e){var n=function(t,e){var n=V(t,(function(t,n){return function(t){return S(t)}(n)?""===n?t:"|"===n?t.length>0&&!gw(t[t.length-1])?t.concat([vw]):t:lt(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[]);return n.length>0&&gw(n[n.length-1])&&n.pop(),n}(S(t)?t.split(" "):t,e);return F(n,(function(t,n){var o=function(t,e){return function(t){return lt(t,"getSubmenuItems")}(t)?function(t,e){var n=t.getSubmenuItems(),o=bw(n,e);return{item:t,menus:pt(o.menus,Bt(t.value,o.items)),expansions:pt(o.expansions,Bt(t.value,t.value))}}(t,e):{item:t,menus:{},expansions:{}}}(function(t){if(gw(t))return t;var e=ct(t,"value").getOrThunk((function(){return wr("generated-menu-item")}));return pt({value:e},t)}(n),e);return{menus:pt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:pt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},yw=function(t,e,n,o){var r=wr("primary-menu"),i=bw(t,n.shared.providers.menuItems());if(0===i.items.length)return b.none();var a=Ug(r,i.items,e,n,o),u=rt(i.menus,(function(t,o){return Ug(o,t,e,n,!1)})),s=pt(u,Bt(r,a));return b.from(Om.tieredData(r,s,i.expansions))},xw=function(t){return{isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)},setActive:function(e){var n=t.element();e?(Xr(n,"tox-tbtn--enabled"),dr(n,"aria-pressed",!0)):(Gr(n,"tox-tbtn--enabled"),gr(n,"aria-pressed"))},isActive:function(){return Yr(t.element(),"tox-tbtn--enabled")}}},ww=function(t,e,n,o){return pw({text:t.text,icon:t.icon,tooltip:t.tooltip,role:o,fetch:function(e){t.fetch((function(t){e(yw(t,Np.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:t.onSetup,getApi:xw,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Kv.config({})]},e,n.shared)},Cw=function(t,e,n){var o=function(t){return function(o){var r=!o.isActive();o.setActive(r),t.storage.set(r),n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){hu(e.element()),xo(e,hv,{name:t.name,value:t.storage.get()})}))}))}},r=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(P(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return f(f({type:t.type,active:!1},e),{onAction:o(t),onSetup:r(t)})})))}},Sw=function(t,e,n,o,r){void 0===n&&(n=[]);var i=e.fold((function(){return{}}),(function(t){return{action:t}})),a=f({buttonBehaviours:ru([Sp(t.disabled),Kv.config({}),Ud("button press",[Oo("click"),Oo("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i),u=pt(a,{dom:o});return pt(u,{components:r})},kw=function(t,e,n,o){void 0===o&&(o=[]);var r={tag:"button",classes:["tox-tbtn"],attributes:t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})},i=t.icon.map((function(t){return sw(t,n.icons)})),a=Dp([i]);return Sw(t,e,o,r,a)},Tw=function(t,e,n,o){void 0===o&&(o=[]);var r=kw(t,b.some(e),n,o);return uh.sketch(r)},Ew=function(t,e,n,o,r){void 0===o&&(o=[]),void 0===r&&(r=[]);var i=n.translate(t.text),a=t.icon?t.icon.map((function(t){return sw(t,n.icons)})):b.none(),u=a.isSome()?Dp([a]):[],s=a.isSome()?{}:{innerHtml:i},c=m(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],r),l=f(f({tag:"button",classes:c},s),{attributes:{title:i}});return Sw(t,e,o,l,u)},Ow=function(t,e,n,o,r){void 0===o&&(o=[]),void 0===r&&(r=[]);var i=Ew(t,b.some(e),n,o,r);return uh.sketch(i)},Nw=function(e,n){return function(o){"custom"===n?xo(o,hv,{name:e,value:{}}):"submit"===n?yo(o,pv):"cancel"===n?yo(o,mv):t.console.error("Unknown button type: ",n)}},Aw=function(n,o,r){if(function(t,e){return"menu"===e}(0,o)){var i=n,a=f(f({},n),{onSetup:function(t){return t.setDisabled(n.disabled),e},fetch:Cw(i.items,(function(){return u}),r)}),u=sh(ww(a,"tox-tbtn",r,b.none()));return u.asSpec()}if(function(t,e){return"custom"===e||"cancel"===e||"submit"===e}(0,o)){var s=Nw(n.name,o),c=f(f({},n),{borderless:!1});return Ow(c,s,r.shared.providers,[])}t.console.error("Unknown footer button type: ",o)},_w=o([ze("field1Name","field1"),ze("field2Name","field2"),xa("onLockedChange"),ga(["lockClass"]),ze("locked",!1),Pc("coupledFieldBehaviours",[Fl,Mc])]),Dw=function(t,e){return al({factory:Cv,name:t,overrides:function(t){return{fieldBehaviours:ru([Ud("coupled-input-behaviour",[No(Vn(),(function(n){(function(t,e,n){return xl(t,e,n).bind(Fl.getCurrent)})(n,t,e).each((function(e){xl(n,t,"lock").each((function(o){um.isOn(o)&&t.onLockedChange(n,e,o)}))}))}))])])}}})},zw=o([Dw("field1","field2"),Dw("field2","field1"),al({factory:uh,schema:[ve("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:ru([um.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),Mw=Rl({name:"FormCoupledInputs",configFields:_w(),partFields:zw(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,components:e,behaviours:Hc(t.coupledFieldBehaviours,[Fl.config({find:b.some}),Mc.config({store:{mode:"manual",getValue:function(e){var n,o=Tl(e,t,["field1","field2"]);return(n={})[t.field1Name]=Mc.getValue(o.field1()),n[t.field2Name]=Mc.getValue(o.field2()),n},setValue:function(e,n){var o=Tl(e,t,["field1","field2"]);ft(n,t.field1Name)&&Mc.setValue(o.field1(),n[t.field1Name]),ft(n,t.field2Name)&&Mc.setValue(o.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return xl(e,t,"field1")},getField2:function(e){return xl(e,t,"field2")},getLock:function(e){return xl(e,t,"lock")}}}},apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),Bw=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(null!==e){var n=parseFloat(e[1]);return w.value({value:n,unit:e[2]})}return w.error(t)},Rw=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=function(t){return Object.prototype.hasOwnProperty.call(n,t)};return t.unit===e?b.some(t.value):o(t.unit)&&o(e)?b.some(n[t.unit]===n[e]?t.value:t.value/n[t.unit]*n[e]):b.none()},Iw=function(t){return b.none()},Pw=function(t,e){var n=Iw,o=wr("ratio-event"),r=Mw.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:lh("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:lh("unlock",e.icons)}}],buttonBehaviours:ru([Sp(t.disabled),Kv.config({})])}),i=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},a=function(e){return Cv.parts().field({factory:Ov,inputClasses:["tox-textfield"],inputBehaviours:ru([Cp.config({disabled:t.disabled}),Kv.config({}),Ud("size-input-events",[No(Pn(),(function(t,n){xo(t,o,{isField1:e})})),No(jn(),(function(e,n){xo(e,fv,{name:t.name})}))])]),selectOnFocus:!1})},u=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}},s=Mw.parts().field1(i([Cv.parts().label(u("Width")),a(!0)])),c=Mw.parts().field2(i([Cv.parts().label(u("Height")),a(!1)]));return Mw.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,c,i([u("&nbsp;"),r])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,o){Bw(Mc.getValue(t)).each((function(t){n(t).each((function(t){Mc.setValue(e,function(t){var e,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=t.value.toFixed((e=t.unit)in n?n[e]:1);return-1!==o.indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+t.unit}(t))}))}))},coupledFieldBehaviours:ru([Cp.config({disabled:t.disabled,onDisabled:function(t){Mw.getField1(t).bind(Cv.getField).each(Cp.disable),Mw.getField2(t).bind(Cv.getField).each(Cp.disable),Mw.getLock(t).each(Cp.disable)},onEnabled:function(t){Mw.getField1(t).bind(Cv.getField).each(Cp.enable),Mw.getField2(t).bind(Cv.getField).each(Cp.enable),Mw.getLock(t).each(Cp.enable)}}),Ud("size-input-events2",[No(o,(function(t,e){var o,r,i,a,u=e.event().isField1(),s=u?Mw.getField1(t):Mw.getField2(t),c=u?Mw.getField2(t):Mw.getField1(t),l=s.map(Mc.getValue).getOr("");o=c.map(Mc.getValue).getOr(""),n=(r=Bw(l).toOption(),i=Bw(o).toOption(),a=function(t,e){return Rw(t,e.unit).map((function(t){return e.value/t})).map((function(t){return n=t,o=e.unit,function(t){return Rw(t,o).map((function(t){return{value:t*n,unit:o}}))};var n,o})).getOr(Iw)},r.isSome()&&i.isSome()?b.some(a(r.getOrDie(),i.getOrDie())):b.none()).getOr(Iw)}))])])})},Hw={undo:o(wr("undo")),redo:o(wr("redo")),zoom:o(wr("zoom")),back:o(wr("back")),apply:o(wr("apply")),swap:o(wr("swap")),transform:o(wr("transform")),tempTransform:o(wr("temp-transform")),transformApply:o(wr("transform-apply"))},Lw=o("save-state"),Fw=o("disable"),Vw=o("enable"),jw={formActionEvent:hv,saveState:Lw,disable:Fw,enable:Vw},$w=function(t,n){var r=function(t,e,o,r){return sh(Ow({name:t,text:t,disabled:o,primary:r,icon:b.none(),borderless:!1},e,n))},i=function(t,e,o,r){return sh(Tw({name:t,icon:b.some(t),tooltip:b.some(e),disabled:r,primary:!1,borderless:!1},o,n))},a=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(Cp)&&Cp.disable(n)}))},u=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(Cp)&&Cp.enable(n)}))},s={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},c=e,l=function(t,e,n){xo(t,e,n)},f=function(t){return yo(t,jw.disable())},d=function(t){return yo(t,jw.enable())},m=function(t,e){f(t),l(t,Hw.transform(),{transform:e}),d(t)},h=function(t){return function(){Z.getOpt(t).each((function(t){$d.set(t,[J])}))}},p=function(t,e){f(t),l(t,Hw.transformApply(),{transform:e,swap:h(t)}),d(t)},g=function(){return r("Back",(function(t){return l(t,Hw.back(),{swap:h(t)})}),!1,!1)},v=function(){return sh({dom:{tag:"div",classes:["tox-spacer"]},behaviours:ru([Cp.config({})])})},y=function(){return r("Apply",(function(t){return l(t,Hw.apply(),{swap:h(t)})}),!0,!0)},x=[g(),v(),r("Apply",(function(e){p(e,(function(e){var n=t.getRect();return function(t,e,n,o,r){return function(t,e,n,o,r){return t.toCanvas().then((function(i){return function(t,e,n,o,r,i){var a=zx(r,i);return Bx(a).drawImage(t,-n,-o),Vx(a,e)}(i,t.getType(),e,n,o,r)}))}(t,e,n,o,r)}(e,n.x,n.y,n.w,n.h)})),t.hideCrop()}),!1,!0)],w=cv.sketch({dom:s,components:x.map((function(t){return t.asSpec()})),containerBehaviours:ru([Ud("image-tools-crop-buttons-events",[No(jw.disable(),(function(t,e){a(x,t)})),No(jw.enable(),(function(t,e){u(x,t)}))])])}),C=sh(Pw({name:"size",label:b.none(),constrain:!0,disabled:!1},n)),S=[g(),v(),C,v(),r("Apply",(function(t){C.getOpt(t).each((function(e){var n,o,r=Mc.getValue(e),i=(n=parseInt(r.width,10),o=parseInt(r.height,10),function(t){return function(t,e,n){return function(t,e,n){return t.toCanvas().then((function(o){return function t(e,n,o){var r=Ix(e),i=Px(e),a=n/r,u=o/i,s=!1;(a<.5||a>2)&&(a=a<.5?.5:2,s=!0),(u<.5||u>2)&&(u=u<.5?.5:2,s=!0);var c=function(t,e,n){return new Hx((function(o){var r=Ix(t),i=Px(t),a=Math.floor(r*e),u=Math.floor(i*n),s=zx(a,u);Bx(s).drawImage(t,0,0,r,i,0,0,a,u),o(s)}))}(e,a,u);return s?c.then((function(e){return t(e,n,o)})):c}(o,e,n).then((function(e){return Vx(e,t.getType())}))}))}(t,e,n)}(t,n,o)});p(t,i)}))}),!1,!0)],k=cv.sketch({dom:s,components:S.map((function(t){return t.asSpec()})),containerBehaviours:ru([Ud("image-tools-resize-buttons-events",[No(jw.disable(),(function(t,e){a(S,t)})),No(jw.enable(),(function(t,e){u(S,t)}))])])}),T=function(t,e){return function(n){return t(n,e)}},E=T(iw,"h"),O=T(iw,"v"),N=T(aw,-90),A=T(aw,90),_=function(t,e){!function(t,e){f(t),l(t,Hw.tempTransform(),{transform:e}),d(t)}(t,e)},D=[g(),v(),i("flip-horizontally","Flip horizontally",(function(t){_(t,E)}),!1),i("flip-vertically","Flip vertically",(function(t){_(t,O)}),!1),i("rotate-left","Rotate counterclockwise",(function(t){_(t,N)}),!1),i("rotate-right","Rotate clockwise",(function(t){_(t,A)}),!1),v(),y()],z=cv.sketch({dom:s,components:D.map((function(t){return t.asSpec()})),containerBehaviours:ru([Ud("image-tools-fliprotate-buttons-events",[No(jw.disable(),(function(t,e){a(D,t)})),No(jw.enable(),(function(t,e){u(D,t)}))])])}),M=function(t,e,r,i,a){var u=rx.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}}),s=rx.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),c=rx.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return sh(rx.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:o({x:o(i)})},components:[u,s,c],sliderBehaviours:ru([Yd.config({})]),onChoose:e}))},B=function(t,e,n,o,r){return M(t,(function(t,n,o){var r=T(e,o.x()/100);m(t,r)}),n,o,r)},R=function(t,e,n,o,r){var i=function(t,e,n,o,r){return[g(),B(t,e,n,o,r),y()]}(t,e,n,o,r);return cv.sketch({dom:s,components:i.map((function(t){return t.asSpec()})),containerBehaviours:ru([Ud("image-tools-filter-panel-buttons-events",[No(jw.disable(),(function(t,e){a(i,t)})),No(jw.enable(),(function(t,e){u(i,t)}))])])})},I=[g(),v(),y()],P=cv.sketch({dom:s,components:I.map((function(t){return t.asSpec()}))}),H=R("Brightness",ow,-100,0,100),L=R("Contrast",rw,-100,0,100),F=R("Gamma",nw,-100,0,100),V=function(t){return M(t,(function(t,e,n){var o=j.getOpt(t),r=U.getOpt(t),i=$.getOpt(t);o.each((function(e){r.each((function(n){i.each((function(o){var r=function(t,e,n){return function(o){return function(t,e,n,o){return function(t,e,n,o){return Wx(t,function(t,e,n,o){return Ux([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],[e=jx(e,0,2),0,0,0,0,0,n=jx(n,0,2),0,0,0,0,0,o=jx(o,0,2),0,0,0,0,0,1,0,0,0,0,0,1])}(0,e,n,o))}(t,e,n,o)}(o,t,e,n)}}(Mc.getValue(e).x()/100,Mc.getValue(o).x()/100,Mc.getValue(n).x()/100);m(t,r)}))}))}))}),0,100,200)},j=V("R"),$=V("G"),U=V("B"),W=[g(),j,$,U,y()],q=cv.sketch({dom:s,components:W.map((function(t){return t.asSpec()}))}),X=function(t,e,n){return function(o){l(o,Hw.swap(),{transform:e,swap:function(){Z.getOpt(o).each((function(e){$d.set(e,[t]),n(e)}))}})}},G=b.some(ew),Y=b.some(tw),K=[i("crop","Crop",X(w,b.none(),(function(e){t.showCrop()})),!1),i("resize","Resize",X(k,b.none(),(function(e){C.getOpt(e).each((function(e){var n=t.getMeasurements();Mc.setValue(e,{width:n.width,height:n.height})}))})),!1),i("orientation","Orientation",X(z,b.none(),c),!1),i("brightness","Brightness",X(H,b.none(),c),!1),i("sharpen","Sharpen",X(P,G,c),!1),i("contrast","Contrast",X(L,b.none(),c),!1),i("color-levels","Color levels",X(q,b.none(),c),!1),i("gamma","Gamma",X(F,b.none(),c),!1),i("invert","Invert",X(P,Y,c),!1)],J=cv.sketch({dom:s,components:K.map((function(t){return t.asSpec()}))}),Q=cv.sketch({dom:{tag:"div"},components:[J],containerBehaviours:ru([$d.config({})])}),Z=sh(Q);return{memContainer:Z,getApplyButton:function(t){return Z.getOpt(t).map((function(t){var e=t.components()[0];return e.components()[e.components().length-1]}))}}},Uw=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ww=tinymce.util.Tools.resolve("tinymce.geom.Rect"),qw=tinymce.util.Tools.resolve("tinymce.util.Observable"),Xw=tinymce.util.Tools.resolve("tinymce.util.Tools"),Gw=tinymce.util.Tools.resolve("tinymce.util.VK");function Yw(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}function Kw(e,n){var o,r,i,a,u,s,c,l=n.document||t.document,f=l.getElementById((n=n||{}).handle||e);i=function(e){var i,d,m=function(t){var e,n,o,r,i,a,u,s=Math.max;return o=s((e=t.documentElement).scrollWidth,(n=t.body).scrollWidth),r=s(e.clientWidth,n.clientWidth),i=s(e.offsetWidth,n.offsetWidth),a=s(e.scrollHeight,n.scrollHeight),u=s(e.clientHeight,n.clientHeight),{width:o<i?r:o,height:a<s(e.offsetHeight,n.offsetHeight)?u:a}}(l);Yw(e),e.preventDefault(),r=e.button,i=f,s=e.screenX,c=e.screenY,d=t.window.getComputedStyle?t.window.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,o=Uw("<div></div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(l.body),Uw(l).on("mousemove touchmove",u).on("mouseup touchend",a),n.start(e)},u=function(t){if(Yw(t),t.button!==r)return a(t);t.deltaX=t.screenX-s,t.deltaY=t.screenY-c,t.preventDefault(),n.drag(t)},a=function(t){Yw(t),Uw(l).off("mousemove touchmove",u).off("mouseup touchend",a),o.remove(),n.stop&&n.stop(t)},this.destroy=function(){Uw(f).off()},Uw(f).on("mousedown touchstart",i)}var Jw,Qw,Zw,tC=0,eC=function(t,e,n,o,r){return Tw({name:t,icon:b.some(e),disabled:n,tooltip:b.some(t),primary:!1,borderless:!1},o,r)},nC=function(t,e){e?Cp.enable(t):Cp.disable(t)},oC=function(n,o){var r=function(e){var n=Ve(e),o=Ve(b.none()),r=function(){var t=[],e=-1;function n(){return e>0}function o(){return-1!==e&&e<t.length-1}return{data:t,add:function(n){var o;return o=t.splice(++e),t.push(n),{state:n,removed:o}},undo:function(){if(n())return t[--e]},redo:function(){if(o())return t[++e]},canUndo:n,canRedo:o}}();r.add(e);var i=function(t){n.set(t)},a=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},u=function(e){t.URL.revokeObjectURL(e.url)},s=function(){o.get().each(u),o.set(b.none())},c=function(t){var e=a(t);i(e);var n=r.add(e).removed;return Xw.each(n,u),e.url};return{getBlobState:function(){return n.get()},setBlobState:i,addBlobState:c,getTempState:function(){return o.get().fold((function(){return n.get()}),(function(t){return t}))},updateTempState:function(t){var e=a(t);return s(),o.set(b.some(e)),e.url},addTempState:function(t){var e=a(t);return o.set(b.some(e)),e.url},applyTempState:function(t){return o.get().fold((function(){}),(function(e){c(e.blob),t()}))},destroyTempState:s,undo:function(){var t=r.undo();return i(t),t.url},redo:function(){var t=r.redo();return i(t),t.url},getHistoryStates:function(){return{undoEnabled:r.canUndo(),redoEnabled:r.canRedo()}}}}(n.currentState),i=function(t){var e=r.getHistoryStates();h.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled),xo(t,jw.formActionEvent,{name:jw.saveState(),value:e.undoEnabled})},a=function(t){return t.toBlob()},u=function(t){xo(t,jw.formActionEvent,{name:jw.disable(),value:{}})},s=function(t){p.getApplyButton(t).each((function(t){Cp.enable(t)})),xo(t,jw.formActionEvent,{name:jw.enable(),value:{}})},c=function(t,e){return u(t),m.updateSrc(t,e)},l=function(e,n,o,r,l){return u(e),function(e){return function(e){return function(e){return new Hx((function(n){var o=new t.FileReader;o.onloadend=function(){n(o.result)},o.readAsDataURL(e)}))}(e).then((function(n){return Fx(function(e){return function(e){return new Hx((function(n,o){var r=t.URL.createObjectURL(e),i=new t.Image,a=function(){i.removeEventListener("load",u),i.removeEventListener("error",s)};function u(){a(),n(i)}function s(){a(),o("Unable to load data of type "+e.type+": "+r)}i.addEventListener("load",u),i.addEventListener("error",s),i.src=r,i.complete&&u()}))}(e).then((function(e){!function(e){t.URL.revokeObjectURL(e.src)}(e);var n=zx(Ix(e),Px(e));return Bx(n).drawImage(e,0,0),n}))}(e),e,n)}))}(e)}(n).then(o).then(a).then(r).then((function(t){return c(e,t).then((function(t){return i(e),l(),s(e),t}))})).catch((function(n){return t.console.log(n),s(e),n}))},f=function(t,e,n){var o=r.getBlobState().blob;l(t,o,e,(function(t){return r.updateTempState(t)}),n)},d=function(t){var e=r.getBlobState().url;return r.destroyTempState(),i(t),e},m=function(t){var e=sh({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Ve(1),o=Ve(b.none()),r=Ve({x:0,y:0,w:1,h:1}),i=Ve({x:0,y:0,w:1,h:1}),a=function(t,i){c.getOpt(t).each((function(t){var a=n.get(),u=zi(t.element()),s=ki(t.element()),c=i.dom().naturalWidth*a,l=i.dom().naturalHeight*a,f=Math.max(0,u/2-c/2),d=Math.max(0,s/2-l/2),m={left:f.toString()+"px",top:d.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};ii(i,m),e.getOpt(t).each((function(t){ii(t.element(),m)})),o.get().each((function(t){var e=r.get();t.setRect({x:e.x*a+f,y:e.y*a+d,w:e.w*a,h:e.h*a}),t.setClampRect({x:f,y:d,w:c,h:l}),t.setViewPortRect({x:0,y:0,w:u,h:s})}))}))},u=function(t,e){var o,u=Ue("img");return dr(u,"src",e),(o=u.dom(),new Ch((function(t){var e=function(){o.removeEventListener("load",e),t(o)};o.complete?t(o):o.addEventListener("load",e)}))).then((function(){return c.getOpt(t).map((function(t){var e=bi({element:u});$d.replaceAt(t,1,b.some(e));var o=i.get(),s={x:0,y:0,w:u.dom().naturalWidth,h:u.dom().naturalHeight};i.set(s);var l=Ww.inflate(s,-20,-20);return r.set(l),o.w===s.w&&o.h===s.h||function(t,e){c.getOpt(t).each((function(t){var o=zi(t.element()),r=ki(t.element()),i=e.dom().naturalWidth,a=e.dom().naturalHeight,u=Math.min(o/i,r/a);n.set(u>=1?1:u)}))}(t,u),a(t,u),u}))}))},s=cv.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:ru([Ud("image-panel-crop-events",[Io((function(t){c.getOpt(t).each((function(t){var e=function(t,e,n,o,r){var i,a,u,s="tox-crid-"+tC++,c=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}];u=["top","right","bottom","left"];var l=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}};function f(e,o,r,a){var u,s,c,f,d;u=o.x,s=o.y,c=o.w,f=o.h,(c+=r*e.deltaW)<20&&(c=20),(f+=a*e.deltaH)<20&&(f=20),d=t=Ww.clamp({x:u+=r*e.deltaX,y:s+=a*e.deltaY,w:c,h:f},n,"move"===e.name),d=l(n,d),i.fire("updateRect",{rect:d}),h(d)}function d(t){function n(t,e){e.h<0&&(e.h=0),e.w<0&&(e.w=0),Uw("#"+s+"-"+t,o).css({left:e.x,top:e.y,width:e.w,height:e.h})}Xw.each(c,(function(e){Uw("#"+s+"-"+e.name,o).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})})),n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y}),n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h}),n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y}),n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h}),n("move",t)}function m(e){d(t=e)}function h(t){var e,o;m({x:(o=t).x+(e=n).x,y:o.y+e.y,w:o.w,h:o.h})}return Uw('<div id="'+s+'" class="tox-croprect-container" role="grid" aria-dropeffect="execute">').appendTo(o),Xw.each(u,(function(t){Uw("#"+s,o).append('<div id="'+s+"-"+t+'"class="tox-croprect-block" style="display: none" data-mce-bogus="all">')})),Xw.each(c,(function(t){Uw("#"+s,o).append('<div id="'+s+"-"+t.name+'" class="tox-croprect-handle tox-croprect-handle-'+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')})),a=Xw.map(c,(function(e){var n;return new Kw(s,{document:o.ownerDocument,handle:s+"-"+e.name,start:function(){n=t},drag:function(t){f(e,n,t.deltaX,t.deltaY)}})})),d(t),Uw(o).on("focusin focusout",(function(t){Uw(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")})),Uw(o).on("keydown",(function(e){var n;function o(t,e,o,r,i){t.stopPropagation(),t.preventDefault(),f(n,o,r,i)}switch(Xw.each(c,(function(t){if(e.target.id===s+"-"+t.name)return n=t,!1})),e.keyCode){case Gw.LEFT:o(e,0,t,-10,0);break;case Gw.RIGHT:o(e,0,t,10,0);break;case Gw.UP:o(e,0,t,0,-10);break;case Gw.DOWN:o(e,0,t,0,10);break;case Gw.ENTER:case Gw.SPACEBAR:e.preventDefault()}})),i=Xw.extend({toggleVisibility:function(t){var e;e=Xw.map(c,(function(t){return"#"+s+"-"+t.name})).concat(Xw.map(u,(function(t){return"#"+s+"-"+t}))).join(","),t?Uw(e,o).show():Uw(e,o).hide()},setClampRect:function(e){n=e,d(t)},setRect:m,getInnerRect:function(){return l(n,t)},setInnerRect:h,setViewPortRect:function(n){e=n,d(t)},destroy:function(){Xw.each(a,(function(t){t.destroy()})),a=[]}},qw)}({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t.element().dom());e.toggleVisibility(!1),e.on("updateRect",(function(t){var e=t.rect,o=n.get(),i={x:Math.round(e.x/o),y:Math.round(e.y/o),w:Math.round(e.w/o),h:Math.round(e.h/o)};r.set(i)})),o.set(b.some(e))}))}))])])}],containerBehaviours:ru([$d.config({}),Ud("image-panel-events",[Io((function(e){u(e,t)}))])])}),c=sh(s);return{memContainer:c,updateSrc:u,zoom:function(t,e){var o=n.get(),r=e>0?Math.min(2,o+.1):Math.max(.1,o-.1);n.set(r),c.getOpt(t).each((function(t){var e=t.components()[1].element();a(t,e)}))},showCrop:function(){o.get().each((function(t){t.toggleVisibility(!0)}))},hideCrop:function(){o.get().each((function(t){t.toggleVisibility(!1)}))},getRect:function(){return r.get()},getMeasurements:function(){var t=i.get();return{width:t.w,height:t.h}}}}(n.currentState.url),h=function(t){var e=sh(eC("Undo","undo",!0,(function(t){xo(t,Hw.undo(),{direction:1})}),t)),n=sh(eC("Redo","redo",!0,(function(t){xo(t,Hw.redo(),{direction:1})}),t));return{container:cv.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[e.asSpec(),n.asSpec(),eC("Zoom in","zoom-in",!1,(function(t){xo(t,Hw.zoom(),{direction:1})}),t),eC("Zoom out","zoom-out",!1,(function(t){xo(t,Hw.zoom(),{direction:-1})}),t)]}),updateButtonUndoStates:function(t,o,r){e.getOpt(t).each((function(t){nC(t,o)})),n.getOpt(t).each((function(t){nC(t,r)}))}}}(o),p=$w(m,o);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[p.memContainer.asSpec(),m.memContainer.asSpec(),h.container],behaviours:ru([Mc.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),Ud("image-tools-events",[No(Hw.undo(),(function(t,e){var n=r.undo();c(t,n).then((function(e){s(t),i(t)}))})),No(Hw.redo(),(function(t,e){var n=r.redo();c(t,n).then((function(e){s(t),i(t)}))})),No(Hw.zoom(),(function(t,e){var n=e.event().direction();m.zoom(t,n)})),No(Hw.back(),(function(t,e){!function(t){var e=d(t);c(t,e).then((function(e){s(t)}))}(t),e.event().swap()(),m.hideCrop()})),No(Hw.apply(),(function(t,e){r.applyTempState((function(){d(t),e.event().swap()()}))})),No(Hw.transform(),(function(t,n){return f(t,n.event().transform(),e)})),No(Hw.tempTransform(),(function(t,n){return function(t,n){var o=r.getTempState().blob;l(t,o,n,(function(t){return r.addTempState(t)}),e)}(t,n.event().transform())})),No(Hw.transformApply(),(function(t,e){return function(t,e,n){var o=r.getBlobState().blob;l(t,o,e,(function(e){var n=r.addBlobState(e);return d(t),n}),n)}(t,e.event().transform(),e.event().swap())})),No(Hw.swap(),(function(t,e){!function(t){h.updateButtonUndoStates(t,!1,!1)}(t);var n=e.event().transform(),o=e.event().swap();n.fold((function(){o()}),(function(e){f(t,e,o)}))}))]),hx()])}},rC=Bl({name:"HtmlSelect",configFields:[ve("options"),Bc("selectBehaviours",[Yd,Mc]),ze("selectClasses",[]),ze("selectAttributes",{}),Ee("data")],factory:function(t,e){var n=P(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),o=t.data.map((function(t){return Bt("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:Ic(t.selectBehaviours,[Yd.config({}),Mc.config({store:f({mode:"manual",getValue:function(t){return hi(t.element())},setValue:function(e,n){j(t.options,(function(t){return t.value===n})).isSome()&&pi(e.element(),n)}},o)})])}}}),iC=function(t,e){var n=t.label.map((function(t){return tb(t,e)})),r=[Cp.config({disabled:t.disabled}),Hd.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return yo(t,pv),b.some(!0)}}),Ud("textfield-change",[No(Vn(),(function(e,n){xo(e,fv,{name:t.name})})),No(Yn(),(function(e,n){xo(e,fv,{name:t.name})}))]),Kv.config({})],i=t.validation.map((function(t){return Xv.config({getRoot:function(t){return Xo(t.element())},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Mc.getValue(e),o=t.validator(n);return Pv(!0===o?w.value(n):w.error(o))},validateOnLoad:t.validateOnLoad}})})).toArray(),a=t.placeholder.fold(o({}),(function(t){return{placeholder:e.translate(t)}})),u=t.inputMode.fold(o({}),(function(t){return{inputmode:t}})),s=f(f({},a),u),c=Cv.parts().field({tag:!0===t.multiline?"textarea":"input",inputAttributes:s,inputClasses:[t.classname],inputBehaviours:ru(U([r,i])),selectOnFocus:!1,factory:Ov}),l=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),d=[Cp.config({disabled:t.disabled,onDisabled:function(t){Cv.getField(t).each(Cp.disable)},onEnabled:function(t){Cv.getField(t).each(Cp.enable)}})];return Jv(n,c,l,d)},aC=Object.freeze({__proto__:null,events:function(t,e){var n=t.stream.streams.setup(t,e);return To([No(t.event,n),Po((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[No(t,(function(){return e.cancel()}))]})).getOr([])))}}),uC=function(t){var e=Ve(null);return Hr({readState:function(){return{timer:null!==e.get()?"set":"unset"}},setTimer:function(t){e.set(t)},cancel:function(){var t=e.get();null!==t&&t.cancel()}})},sC=Object.freeze({__proto__:null,throttle:uC,init:function(t){return t.stream.streams.state(t)}}),cC=[be("stream",ue("mode",{throttle:[ve("delay"),ze("stopEvent",!0),Ca("streams",{setup:function(t,e){var n=t.stream,o=hh(t.onStream,n.delay);return e.setTimer(o),function(t,e){o.throttle(t,e),n.stopEvent&&e.stop()}},state:uC})]})),ze("event","input"),Ee("cancelEvent"),xa("onStream")],lC=au({fields:cC,name:"streaming",active:aC,state:sC}),fC=function(t,e,n){var o=Mc.getValue(n);Mc.setValue(e,o),mC(e)},dC=function(t,e){var n=t.element(),o=hi(n),r=n.dom();"number"!==mr(n,"type")&&e(r,o)},mC=function(t){dC(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))},hC=o("alloy.typeahead.itemexecute"),pC=o([Ee("lazySink"),ve("fetch"),ze("minChars",5),ze("responseTime",1e3),ba("onOpen"),ze("getHotspot",b.some),ze("getAnchorOverrides",o({})),ze("layouts",b.none()),ze("eventOrder",{}),Le("model",{},[ze("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),ze("selectsOver",!0),ze("populateFromBrowse",!0)]),ba("onSetValue"),ya("onExecute"),ba("onItemExecute"),ze("inputClasses",[]),ze("inputAttributes",{}),ze("inputStyles",{}),ze("matchWidth",!0),ze("useMinWidth",!1),ze("dismissOnBlur",!0),ga(["openClass"]),Ee("initialData"),Bc("typeaheadBehaviours",[Yd,Mc,lC,Hd,um,ob]),Fe("previewing",(function(){return Ve(!0)}))].concat(Sv()).concat(hb())),gC=o([ul({schema:[pa()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(o){(function(t,e,n){if(t.selectsOver){var o=Mc.getValue(e),r=t.getDisplayText(o),i=Mc.getValue(n);return 0===t.getDisplayText(i).indexOf(r)?b.some((function(){fC(0,e,n),function(t,e){dC(t,(function(t,n){return t.setSelectionRange(e,n.length)}))}(e,r.length)})):b.none()}return b.none()})(t.model,o,n).fold((function(){return Kl.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&fC(0,e,n)})),t.previewing.set(!1)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOption().map((function(t){return xo(t,hC(),{item:n}),!0}))},onHover:function(e,n){t.previewing.set(!1),e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&fC(0,e,n)}))}}}})]),vC=Rl({name:"Typeahead",configFields:pC(),partFields:gC(),factory:function(t,n,o,r){var i=function(n,o,i){t.previewing.set(!1);var a=ob.getCoupled(n,"sandbox");mc.isOpen(a)?Fl.getCurrent(a).each((function(t){Kl.getHighlighted(t).fold((function(){i(t)}),(function(){ko(a,t.element(),"keydown",o)}))})):ub(t,u(n),n,a,r,(function(t){Fl.getCurrent(t).each(i)}),_v.HighlightFirst).get(e)},a=kv(t),u=function(t){return function(e){return e.map((function(e){var n=st(e.menus),o=W(n,(function(t){return L(t.items,(function(t){return"item"===t.type}))}));return Mc.getState(t).update(P(o,(function(t){return t.data}))),e}))}},s=[Yd.config({}),Mc.config({onSetValue:t.onSetValue,store:f({mode:"dataset",getDataKey:function(t){return hi(t.element())},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){pi(e.element(),t.model.getDisplayText(n))}},t.initialData.map((function(t){return Bt("initialValue",t)})).getOr({}))}),lC.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(n,o){var i=ob.getCoupled(n,"sandbox");if(Yd.isFocused(n)&&hi(n.element()).length>=t.minChars){var a=Fl.getCurrent(i).bind((function(t){return Kl.getHighlighted(t).map(Mc.getValue)}));t.previewing.set(!0),ub(t,u(n),n,i,r,(function(e){Fl.getCurrent(i).each((function(e){a.fold((function(){t.model.selectsOver&&Kl.highlightFirst(e)}),(function(t){Kl.highlightBy(e,(function(e){return Mc.getValue(e).value===t.value})),Kl.getHighlighted(e).orThunk((function(){return Kl.highlightFirst(e),b.none()}))}))}))}),_v.HighlightFirst).get(e)}},cancelEvent:no()}),Hd.config({mode:"special",onDown:function(t,e){return i(t,e,Kl.highlightFirst),b.some(!0)},onEscape:function(t){var e=ob.getCoupled(t,"sandbox");return mc.isOpen(e)?(mc.close(e),b.some(!0)):b.none()},onUp:function(t,e){return i(t,e,Kl.highlightLast),b.some(!0)},onEnter:function(e){var n=ob.getCoupled(e,"sandbox"),o=mc.isOpen(n);if(o&&!t.previewing.get())return Fl.getCurrent(n).bind((function(t){return Kl.getHighlighted(t)})).map((function(t){return xo(e,hC(),{item:t}),!0}));var r=Mc.getValue(e);return yo(e,no()),t.onExecute(n,e,r),o&&mc.close(n),b.some(!0)}}),um.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),ob.config({others:{sandbox:function(e){return db(t,e,{onOpen:function(){return um.on(e)},onClose:function(){return um.off(e)}})}}}),Ud("typeaheadevents",[Lo((function(n){var o=e;cb(t,u(n),n,r,o,_v.HighlightFirst).get(e)})),No(hC(),(function(e,n){var o=ob.getCoupled(e,"sandbox");fC(0,e,n.event().item()),yo(e,no()),t.onItemExecute(e,o,n.event().item(),Mc.getValue(e)),mc.close(o),mC(e)}))].concat(t.dismissOnBlur?[No(Gn(),(function(t){var e=ob.getCoupled(t,"sandbox");gu(e.element()).isNone()&&mc.close(e)}))]:[]))];return{uid:t.uid,dom:Ev(pt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:f(f({},a),Ic(t.typeaheadBehaviours,s)),eventOrder:t.eventOrder}}}),bC=function(e){return f(f({},e),{toCached:function(){return bC(e.toCached())},bindFuture:function(t){return bC(e.bind((function(e){return e.fold((function(t){return Pv(w.error(t))}),(function(e){return t(e)}))})))},bindResult:function(t){return bC(e.map((function(e){return e.bind(t)})))},mapResult:function(t){return bC(e.map((function(e){return e.map(t)})))},mapError:function(t){return bC(e.map((function(e){return e.mapError(t)})))},foldResult:function(t,n){return e.map((function(e){return e.fold(t,n)}))},withTimeout:function(n,o){return bC(Iv((function(r){var i=!1,a=t.setTimeout((function(){i=!0,r(w.error(o()))}),n);e.get((function(e){i||(t.clearTimeout(a),r(e))}))})))}})},yC={type:"separator"},xC=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:function(){}}},wC=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:function(){}}},CC=function(t,e){return function(t){return P(t,xC)}(function(t,e){return L(e,(function(e){return e.type===t}))}(t,e))},SC=function(t){return CC("header",t.targets)},kC=function(t){return CC("anchor",t.targets)},TC=function(t){return b.from(t.anchorTop).map((function(t){return wC("<top>",t)})).toArray()},EC=function(t){return b.from(t.anchorBottom).map((function(t){return wC("<bottom>",t)})).toArray()},OC=function(t,e){var n=t.toLowerCase();return L(e,(function(t){return un((void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text).toLowerCase(),n)||un(t.value.toLowerCase(),n)}))},NC=wr("aria-invalid"),AC=function(t){return function(e,n,o){return ct(n,"name").fold((function(){return t(n,o)}),(function(r){return e.field(r,t(n,o))}))}},_C={bar:AC((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:P(t.items,e.interpreter)}}(t,e.shared)})),collection:AC((function(t,e){return function(t,e){var n,o=t.label.map((function(t){return tb(t,e)})),i=function(t){return function(e,n){oa(n.event().target(),"[data-collection-item-value]").each((function(o){t(e,n,o,mr(o,"data-collection-item-value"))}))}},a=i((function(e,n,o,r){n.stop(),xo(e,hv,{name:t.name,value:r})})),u=[No(In(),i((function(t,e,n){hu(n)}))),No($n(),a),No(Zn(),a),No(Pn(),i((function(t,e,n){na(t.element(),"."+Jh).each((function(t){Gr(t,Jh)})),Xr(n,Jh)}))),No(Hn(),i((function(t){na(t.element(),"."+Jh).each((function(t){Gr(t,Jh)}))}))),Lo(i((function(e,n,o,r){xo(e,hv,{name:t.name,value:r})})))],s=Cv.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:r},behaviours:ru([$d.config({}),Mc.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){!function(e,n){var o=P(n,(function(e){var n,o=qh.translate(e.text),r=1===t.columns?'<div class="tox-collection__item-label">'+o+"</div>":"",i='<div class="tox-collection__item-icon">'+e.icon+"</div>",a={_:" "," - ":" ","-":" "},u=o.replace(/\_| \- |\-/g,(function(t){return a[t]}));return'<div class="tox-collection__item" tabindex="-1" data-collection-item-value="'+('"'===(n=e.value)?"&quot;":n)+'" title="'+u+'" aria-label="'+u+'">'+i+r+"</div>"})),r=t.columns>1&&"auto"!==t.columns?I(o,t.columns):[o],i=P(r,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}));ar(e.element(),i.join(""))}(e,n),"auto"===t.columns&&Ih(e,5,"tox-collection__item").each((function(t){Hd.setGridSize(e,t.numRows,t.numColumns)})),yo(e,yv)}}),Kv.config({}),Hd.config((n=t.columns,1===n?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===n?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:"."+Gh}})),Ud("collection-events",u)])});return Jv(o,s,["tox-form__group--collection"],[])}(t,e.shared.providers)})),alertbanner:AC((function(t,e){return function(t,e){return cv.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[uh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:lh(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){xo(e,hv,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})}(t,e.shared.providers)})),input:AC((function(t,e){return function(t,e){return iC({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:b.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),textarea:AC((function(t,e){return function(t,e){return iC({name:t.name,multiline:!0,label:t.label,inputMode:b.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:b.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),label:AC((function(t,e){return function(t,e){var n,o,r,i={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}},a=P(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i].concat(a),behaviours:ru([hx(),$d.config({}),(n=b.none(),o=ir,r=ar,xx(n,(function(t){return o(t.element())}),(function(t,e){return r(t.element(),e)}))),Hd.config({mode:"acyclic"})])}}(t,e.shared)})),iframe:(Zw=function(t,e){return function(t,e){var n=Dx&&t.sandboxed,o=f(f({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),r=function(t){var e=Ve("");return{getValue:function(t){return e.get()},setValue:function(n,o){if(t)dr(n.element(),"srcdoc",o);else{dr(n.element(),"src","javascript:''");var r=n.element().dom().contentWindow.document;r.open(),r.write(o),r.close()}e.set(o)}}}(n),i=t.label.map((function(t){return tb(t,e)})),a=Cv.parts().field({factory:{sketch:function(t){return _x({uid:t.uid,dom:{tag:"iframe",attributes:o},behaviours:ru([Kv.config({}),Yd.config({}),Cx(b.none(),r.getValue,r.setValue)])})}}});return Jv(i,a,["tox-form__group--stretched"],[])}(t,e.shared.providers)},function(t,e,n){var o=pt(e,{source:"dynamic"});return AC(Zw)(t,o,n)}),button:AC((function(t,e){return function(t,e){var n,o,r=Nw(t.name,"custom");return n=b.none(),o=Cv.parts().field(f({factory:uh},Ew(t,b.some(r),e,[Sx(""),hx()]))),Jv(n,o,[],[])}(t,e.shared.providers)})),checkbox:AC((function(t,e){return function(t,e){var n=Mc.config({store:{mode:"manual",getValue:function(t){return t.element().dom().checked},setValue:function(t,e){t.element().dom().checked=e}}}),o=function(t){return t.element().dom().click(),b.some(!0)},i=Cv.parts().field({factory:{sketch:r},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ru([hx(),Cp.config({disabled:t.disabled}),Kv.config({}),Yd.config({}),n,Hd.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Ud("checkbox-events",[No(jn(),(function(e,n){xo(e,fv,{name:t.name})}))])])}),a=Cv.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:ru([bb.config({})])}),u=function(t){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:lh("checked"===t?"selected":"unselected",e.icons)}}},s=sh({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]});return Cv.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[i,s.asSpec(),a],fieldBehaviours:ru([Cp.config({disabled:t.disabled,disableClass:"tox-checkbox--disabled",onDisabled:function(t){Cv.getField(t).each(Cp.disable)},onEnabled:function(t){Cv.getField(t).each(Cp.enable)}})])})}(t,e.shared.providers)})),colorinput:AC((function(t,e){return function(t,e,n){var o=Cv.parts().field({factory:Ov,inputClasses:["tox-textfield"],onSetValue:function(t){return Xv.run(t).get((function(){}))},inputBehaviours:ru([Kv.config({}),Xv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return Xo(t.element())},notify:{onValid:function(t){var e=Mc.getValue(t);xo(t,yb,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=Mc.getValue(t);if(0===e.length)return Pv(w.value(!0));var n=Ue("span");ri(n,"background-color",e);var o=ci(n,"background-color").fold((function(){return w.error("blah")}),(function(t){return w.value(e)}));return Pv(o)}}})]),selectOnFocus:!1}),r=t.label.map((function(t){return tb(t,e.providers)})),i=function(t,e){xo(t,xb,{value:e})},a=sh(function(t,e){return vb.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:ru([bb.config({}),Kv.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return Iv((function(e){return t.fetch(e)})).map((function(o){return b.from(Wg(pt(Pg(wr("menu-value"),o,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,Np.CLOSE_ON_EXECUTE,(function(){return!1}),e.providers),{movement:Lg(t.columns,t.presets)})))}))},parts:{menu:Ag(0,0,t.presets)}})}({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[$a,ja,Xa]},onLtr:function(){return[ja,$a,Xa]}},components:[],fetch:Sg.getFetch(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(t,e){a.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return yo(t,wb)}),(function(e){i(t,e),fg(e)}))}),"#ffffff"):i(t,"remove"===e?"":e)}))}},e));return Cv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,a.asSpec()]}]),fieldBehaviours:ru([Ud("form-field-events",[No(yb,(function(e,n){a.getOpt(e).each((function(t){ri(t.element(),"background-color",n.event().color())})),xo(e,fv,{name:t.name})})),No(xb,(function(t,e){Cv.getField(t).each((function(n){Mc.setValue(n,e.event().value()),Fl.getCurrent(t).each(Yd.focus)}))})),No(wb,(function(t,e){Cv.getField(t).each((function(e){Fl.getCurrent(t).each(Yd.focus)}))}))])])})}(t,e.shared,e.colorinput)})),colorpicker:AC((function(e){var n=function(t){return"tox-"+t},o=mx(vx,n),r=sh(o.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(t){xo(t,hv,{name:"hex-valid",value:!0})},onInvalidHex:function(t){xo(t,hv,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[r.asSpec()],behaviours:ru([Mc.config({store:{mode:"manual",getValue:function(t){var e=r.get(t);return Fl.getCurrent(e).bind((function(t){return Mc.getValue(t).hex})).map((function(t){return"#"+t})).getOr("")},setValue:function(e,n){var o=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),i=r.get(e);Fl.getCurrent(i).fold((function(){t.console.log("Can not find form")}),(function(t){Mc.setValue(t,{hex:b.from(o[1]).getOr("")}),cx.getField(t,"hex").each((function(t){yo(t,Vn())}))}))}}}),hx()])}})),dropzone:AC((function(t,e){return function(t,e){var n=function(t,e){e.stop()},o=function(t){return function(e,n){H(t,(function(t){t(e,n)}))}},r=function(t,e){if(!Cp.isDisabled(t)){var n=e.event().raw();a(t,n.dataTransfer.files)}},i=function(t,e){var n=e.event().raw().target.files;a(t,n)},a=function(e,n){Mc.setValue(e,function(t){var e=new RegExp("("+".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|")+")$","i");return L(Z(t),(function(t){return e.test(t.name)}))}(n)),xo(e,fv,{name:t.name})},u=sh({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ru([Ud("input-file-events",[Mo($n()),Mo(Zn())])])}),s=t.label.map((function(t){return tb(t,e)})),c=Cv.parts().field({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ru([Sx([]),hx(),Cp.config({}),um.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ud("dropzone-events",[No("dragenter",o([n,um.toggle])),No("dragleave",o([n,um.toggle])),No("dragover",n),No("drop",o([n,r])),No(jn(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},uh.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){u.get(t).element().dom().click()},buttonBehaviours:ru([Kv.config({})])})]}]}}}});return Jv(s,c,["tox-form__group--stretched"],[])}(t,e.shared.providers)})),grid:AC((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:P(t.items,e.interpreter)}}(t,e.shared)})),selectbox:AC((function(t,e){return function(t,e){var n=P(t.items,(function(t){return{text:e.translate(t.text),value:t.value}})),o=t.label.map((function(t){return tb(t,e)})),r=Cv.parts().field({dom:{},selectAttributes:{size:t.size},options:n,factory:rC,selectBehaviours:ru([Cp.config({disabled:t.disabled}),Kv.config({}),Ud("selectbox-change",[No(jn(),(function(e,n){xo(e,fv,{name:t.name})}))])])}),i=t.size>1?b.none():b.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:lh("chevron-down",e.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:U([[r],i.toArray()])};return Cv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:U([o.toArray(),[a]]),fieldBehaviours:ru([Cp.config({disabled:t.disabled,onDisabled:function(t){Cv.getField(t).each(Cp.disable)},onEnabled:function(t){Cv.getField(t).each(Cp.enable)}})])})}(t,e.shared.providers)})),sizeinput:AC((function(t,e){return Pw(t,e.shared.providers)})),urlinput:AC((function(t,n){return function(t,n,o){var r,i,a,u,s=n.shared.providers,c=function(e){var n=Mc.getValue(e);o.addToHistory(n.value,t.filetype)},l=Cv.parts().field({factory:vC,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":NC,type:"url"},minChars:0,responseTime:0,fetch:function(e){var r=function(t,e,n){var o=Mc.getValue(e),r=void 0!==o.meta.text?o.meta.text:o.value;return n.getLinkInformation().fold((function(){return[]}),(function(e){var o,i=OC(r,function(t){return P(t,(function(t){return wC(t,t)}))}(n.getHistory(t)));return"file"===t?(o=[i,OC(r,SC(e)),OC(r,U([TC(e),kC(e),EC(e)]))],V(o,(function(t,e){return 0===t.length||0===e.length?t.concat(e):t.concat(yC,e)}),[])):i}))}(t.filetype,e,o),i=yw(r,Np.BUBBLE_TO_SANDBOX,n,!1);return Pv(i)},getHotspot:function(t){return v.getOpt(t)},onSetValue:function(t,n){t.hasConfigured(Xv)&&Xv.run(t).get(e)},typeaheadBehaviours:ru(U([o.getValidationHandler().map((function(e){return Xv.config({getRoot:function(t){return Xo(t.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){m.getOpt(t).each((function(t){dr(t.element(),"title",s.translate(e))}))}},validator:{validate:function(n){var o=Mc.getValue(n);return bC(Iv((function(n){e({type:t.filetype,url:o.value},(function(t){if("invalid"===t.status){var e=w.error(t.message);n(e)}else{var o=w.value(t.message);n(o)}}))})))},validateOnLoad:!1}})})).toArray(),[Cp.config({disabled:t.disabled}),Kv.config({}),Ud("urlinput-events",U(["file"===t.filetype?[No(Vn(),(function(e){xo(e,fv,{name:t.name})}))]:[],[No(jn(),(function(e){xo(e,fv,{name:t.name}),c(e)})),No(Yn(),(function(e){xo(e,fv,{name:t.name}),c(e)}))]]))]])),eventOrder:(r={},r[Vn()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:Ag(0,0,"normal")},onExecute:function(t,e,n){xo(e,pv,{})},onItemExecute:function(e,n,o,r){c(e),xo(e,fv,{name:t.name})}}),d=t.label.map((function(t){return tb(t,s)})),m=sh((i=b.some(NC),void 0===(a="warning")&&(a="invalid"),void 0===u&&(u="invalid"),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-invalid"],innerHtml:lh(a,s.icons),attributes:f({title:s.translate(u),"aria-live":"polite"},i.fold((function(){return{}}),(function(t){return{id:t}})))}})),h=sh({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[m.asSpec()]}),p=o.getUrlPicker(t.filetype),g=wr("browser.url.event"),v=sh({dom:{tag:"div",classes:["tox-control-wrap"]},components:[l,h.asSpec()],behaviours:ru([Cp.config({disabled:t.disabled})])}),y=sh(Ow({name:t.name,icon:b.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},(function(t){return yo(t,g)}),s,[],["tox-browse-url"]));return Cv.sketch({dom:Zv([]),components:d.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:U([[v.asSpec()],p.map((function(){return y.asSpec()})).toArray()])}]),fieldBehaviours:ru([Cp.config({disabled:t.disabled,onDisabled:function(t){Cv.getField(t).each(Cp.disable),y.getOpt(t).each(Cp.disable)},onEnabled:function(t){Cv.getField(t).each(Cp.enable),y.getOpt(t).each(Cp.enable)}}),Ud("url-input-events",[No(g,(function(e){Fl.getCurrent(e).each((function(n){var o=Mc.getValue(n),r=f({fieldname:t.name},o);p.each((function(o){o(r).get((function(o){Mc.setValue(n,o),xo(e,fv,{name:t.name})}))}))}))}))])])})}(t,n,n.urlinput)})),customeditor:AC((function(t){var e=Ve(b.none()),n=sh({dom:{tag:t.tag}}),o=Ve(b.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ru([Ud("editor-foo-events",[Io((function(r){n.getOpt(r).each((function(n){(!function(t){return Object.prototype.hasOwnProperty.call(t,"init")}(t)?bx.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element().dom(),t.settings)})):t.init(n.element().dom())).then((function(t){o.get().each((function(e){t.setValue(e)})),o.set(b.none()),e.set(b.some(t))}))}))}))]),Mc.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return o.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){o.set(b.some(n))}),(function(t){return t.setValue(n)}))}}}),hx()]),components:[n.asSpec()]}})),htmlpanel:AC((function(t){return cv.sketch("presentation"===t.presets?{dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}:{dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:ru([Kv.config({}),Yd.config({})])})})),imagetools:AC((function(t,e){return oC(t,e.shared.providers)})),table:AC((function(t,e){return function(t,e){var n,o,r=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=t.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:P(o,(function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}}))}]}),(n=t.cells,{dom:{tag:"tbody"},components:P(n,(function(t){return{dom:{tag:"tr"},components:P(t,r)}}))})],behaviours:ru([Kv.config({}),Yd.config({})])}}(t,e.shared.providers)})),panel:AC((function(t,e){return function(t,e){return{dom:{tag:"div",classes:t.classes},components:P(t.items,e.shared.interpreter)}}(t,e)}))},DC={field:function(t,e){return e}},zC=function(t,e,n){var o=pt(n,{shared:{interpreter:function(e){return MC(t,e,o)}}});return MC(t,e,o)},MC=function(e,n,o){return ct(_C,n.type).fold((function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(t){return t(e,n,o)}))},BC={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},RC=function(t,e,n){var o=Lu(-12,12,BC),r={maxHeightFunction:Ru()};return n?function(){return{anchor:"node",root:ei(Uo(t())),node:b.from(t()),bubble:o,layouts:{onRtl:function(){return[Pm]},onLtr:function(){return[Im]}},overrides:r}}:function(){return{anchor:"hotspot",hotspot:e(),bubble:o,layouts:{onRtl:function(){return[ja]},onLtr:function(){return[$a]}},overrides:r}}},IC=function(t,e,n){return n?function(){return{anchor:"node",root:ei(Uo(t())),node:b.from(t()),layouts:{onRtl:function(){return[Hm]},onLtr:function(){return[Hm]}}}}:function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[Xa]},onLtr:function(){return[Xa]}}}}},PC=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return b.some(Zu.range(qe(e.startContainer),e.startOffset,qe(e.endContainer),e.endOffset))}}}},HC=function(t){return function(e){return{anchor:"node",root:t(),node:e}}},LC=function(t,e){var n=function(){return qe(t.getBody())},o=function(){return qe(t.getContentAreaContainer())},r=rh(t)||!nh(t);return{inlineDialog:RC(o,e,r),banner:IC(o,e,r),cursor:PC(t,n),node:HC(n)}},FC=function(t){return function(e,n){Sg.colorPickerDialog(t)(e,n)}},VC=function(t){return function(){return cg(t)}},jC=function(t){return function(){return lg(t)}},$C=function(t){return function(){return Sg.getColorCols(t)}},UC=function(t){return{colorPicker:FC(t),hasCustomColors:VC(t),getColors:jC(t),getColorCols:$C(t)}},WC=function(t){return function(){return function(t){return t.getParam("draggable_modal",!1,"boolean")}(t)}},qC=function(t){return{isDraggableModal:WC(t)}},XC=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strike-through",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}]}],GC=function(t){return V(t,(function(t,e){if(lt(e,"items")){var n=GC(e.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(function(t){return lt(t,"inline")}(e)||function(t){return lt(t,"block")}(e)||function(t){return lt(t,"selector")}(e)){var o="custom-"+e.title.toLowerCase();return{customFormats:t.customFormats.concat([{name:o,format:e}]),formats:t.formats.concat([{title:e.title,format:o,icon:e.icon}])}}return f(f({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})},YC=function(t){return function(t){return b.from(t.getParam("style_formats")).filter(T)}(t).map((function(e){var n=function(t,e){var n=GC(e),o=function(e){H(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))};return t.formatter?o(n.customFormats):t.on("init",(function(){o(n.customFormats)})),n.formats}(t,e);return function(t){return t.getParam("style_formats_merge",!1,"boolean")}(t)?XC.concat(n):n})).getOr(XC)},KC=function(t,e,n){var o={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)};return pt(t,o)},JC=function(t,e,n,o){var r=function(e){return P(e,(function(e){var i=et(e);if(ft(e,"items")){var a=r(e.items);return pt(function(t){return pt(t,{type:"submenu"})}(e),{getStyleItems:function(){return a}})}return ft(e,"format")?function(t){return KC(t,n,o)}(e):1===i.length&&B(i,"title")?pt(e,{type:"separator"}):function(e){var r=wr(e.title),i={type:"formatter",format:r,isSelected:n(r),getStylePreview:o(r)},a=pt(e,i);return t.formatter.register(r,a),a}(e)}))};return r(e)},QC=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):b.none()}},o=function(t){var e=t.items;return void 0!==e&&e.length>0?W(e,o):[t.format]},r=Ve([]),i=Ve([]),a=Ve([]),u=Ve([]),s=Ve(!1);return t.on("PreInit",(function(a){var u=YC(t),s=JC(t,u,e,n);r.set(s),i.set(W(s,o))})),t.on("addStyleModifications",(function(r){var i=JC(t,r.items,e,n);a.set(i),s.set(r.replace),u.set(W(i,o))})),{getData:function(){var t=s.get()?[]:r.get(),e=a.get();return t.concat(e)},getFlattenedKeys:function(){var t=s.get()?[]:i.get(),e=u.get();return t.concat(e)}}},ZC=Xw.trim,tS=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},eS=tS("true"),nS=tS("false"),oS=function(t,e,n,o,r){return{type:t,title:e,url:n,level:o,attach:r}},rS=function(t){return t.innerText||t.textContent},iS=function(t){return function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}(t)&&uS(t)},aS=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},uS=function(t){return function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return eS(t)}return!1}(t)&&!nS(t)},sS=function(t){return aS(t)&&uS(t)},cS=function(t){var e=function(t){return t.id?t.id:wr("h")}(t);return oS("header",rS(t),"#"+e,function(t){return aS(t)?parseInt(t.nodeName.substr(1),10):0}(t),(function(){t.id=e}))},lS=function(t){var n=t.id||t.name,o=rS(t);return oS("anchor",o||"#"+n,"#"+n,0,e)},fS=function(t){return ZC(t.title).length>0},dS="tinymce-url-history",mS=function(t){return S(t)&&/^https?/.test(t)},hS=function(t){return k(t)&&ut(t,(function(t){return!(T(e=t)&&e.length<=5&&q(e,mS));var e})).isNone()},pS=function(){var e,n=t.localStorage.getItem(dS);if(null===n)return{};try{e=JSON.parse(n)}catch(o){if(o instanceof SyntaxError)return t.console.log("Local storage "+dS+" was not valid JSON",o),{};throw o}return hS(e)?e:(t.console.log("Local storage "+dS+" was not valid format",e),{})},gS=function(t){var e=pS();return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]},vS=function(e,n){if(mS(e)){var o=pS(),r=Object.prototype.hasOwnProperty.call(o,n)?o[n]:[],i=L(r,(function(t){return t!==e}));o[n]=[e].concat(i).slice(0,5),function(e){if(!hS(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));t.localStorage.setItem(dS,JSON.stringify(e))}(o)}},bS=Object.prototype.hasOwnProperty,yS=function(t){return!!t},xS=function(t){return rt(Xw.makeMap(t,/[, ]/),yS)},wS=function(t,e,n){var o,r,i=(o=t,r=e,bS.call(o,r)?b.some(o[r]):b.none()).getOr(n);return S(i)?b.some(i):b.none()},CS=function(t){return b.some(t.file_picker_callback).filter(O)},SS=function(t){return{getHistory:gS,addToHistory:vS,getLinkInformation:function(){return function(t){return!1===t.settings.typeahead_urls?b.none():b.some({targets:(e=t.getBody(),n=function(t){return P(cs(qe(t),"h1,h2,h3,h4,h5,h6,a:not([href])"),(function(t){return t.dom()}))}(e),L(function(t){return P(L(t,sS),cS)}(n).concat(function(t){return P(L(t,iS),lS)}(n)),fS)),anchorTop:wS(t.settings,"anchor_top","#top").getOrUndefined(),anchorBottom:wS(t.settings,"anchor_bottom","#bottom").getOrUndefined()});var e,n}(t)},getValidationHandler:function(){return function(t){return b.from(t.settings.file_picker_validator_handler).filter(O).orThunk((function(){return b.from(t.settings.filepicker_validator_handler).filter(O)}))}(t)},getUrlPicker:function(e){return function(t,e){return function(t,e){var n=function(t){var e=b.some(t.file_picker_types).filter(yS),n=b.some(t.file_browser_callback_types).filter(yS),o=e.or(n).map(xS);return CS(t).fold((function(){return!1}),(function(t){return o.fold((function(){return!0}),(function(t){return et(t).length>0&&t}))}))}(t);return E(n)?n?CS(t):b.none():n[e]?CS(t):b.none()}(t.settings,e).map((function(n){return function(o){return Iv((function(r){var i=f({filetype:e,fieldname:o.fieldname},b.from(o.meta).getOr({}));n.call(t,(function(t,e){if(!S(t))throw new Error("Expected value to be string");if(void 0!==e&&!k(e))throw new Error("Expected meta to be a object");r({value:t,meta:e})}),o.value,i)}))}}))}(t,e)}}},kS=o((function(t,e){!function(t,e){var n=Di.max(t,e,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);ri(t,"max-width",n+"px")}(t,Math.floor(e))})),TS=o([ve("items"),ga(["itemSelector"]),Bc("tgroupBehaviours",[Hd])]),ES=o([cl({name:"items",unit:"item"})]),OS=Rl({name:"ToolbarGroup",configFields:TS(),partFields:ES(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,components:e,behaviours:Ic(t.tgroupBehaviours,[Hd.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),NS=o([ve("dom"),ze("shell",!0),Bc("toolbarBehaviours",[$d])]),AS=o([sl({name:"groups",overrides:function(){return{behaviours:ru([$d.config({})])}}})]),_S=Rl({name:"Toolbar",configFields:NS(),partFields:AS(),factory:function(e,n,o,r){var i=e.shell?{behaviours:[$d.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Ic(e.toolbarBehaviours,i.behaviours),apis:{setGroups:function(n,o){var r;(r=n,e.shell?b.some(r):xl(r,e,"groups")).fold((function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){$d.set(t,o)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),DS=Fo("within","extra","withinWidth"),zS=function(t,e,n){var r,i=(r=function(t,e){var r=n(t);return b.some({element:o(t),start:o(e),finish:o(e+r),width:o(r)})},V(t,(function(t,e){return r(e,t.len).fold(o(t),(function(e){return{len:e.finish(),list:t.list.concat([e])}}))}),{len:0,list:[]}).list),a=L(i,(function(t){return t.finish()<=e})),u=F(a,(function(t,e){return t+e.width()}),0),s=i.slice(a.length);return{within:o(a),extra:o(s),withinWidth:o(u)}},MS=function(t){return P(t,(function(t){return t.element()}))},BS=function(t,e){var n=P(e,(function(t){return wi(t)}));_S.setGroups(t,n)},RS=function(t,e,n){var o=wl(t,e,"primary"),r=ob.getCoupled(t,"overflowGroup");ri(o.element(),"visibility","hidden");var i=e.builtGroups.get().concat([r]),a=tt(i,(function(t){return gu(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))}));n([]),BS(o,i);var u,s,c,l,f,d,m,h,p=zi(o.element()),g=(u=p,s=e.builtGroups.get(),l=r,d=(f=function(t,e,n){var o=zS(e,t,n);return 0===o.extra().length?b.some(o):b.none()}(u,s,c=function(t){return zi(t.element())}).getOrThunk((function(){return zS(s,u-c(l),c)}))).within(),m=f.extra(),h=f.withinWidth(),1===m.length&&m[0].width()<=c(l)?function(t,e,n){var o=MS(t.concat(e));return DS(o,[],n)}(d,m,h):m.length>=1?function(t,e,n,o){var r=MS(t).concat([n]);return DS(r,MS(e),o)}(d,m,l,h):function(t,e,n){return DS(MS(t),[],n)}(d,0,h));0===g.extra().length?($d.remove(o,r),n([])):(BS(o,g.within()),n(g.extra())),di(o.element(),"visibility"),mi(o.element()),a.each(Yd.focus)},IS=o([Bc("splitToolbarBehaviours",[ob]),Fe("builtGroups",(function(){return Ve([])}))]),PS=o([ga(["overflowToggledClass"]),_e("getOverflowBounds"),ve("lazySink"),Fe("overflowGroups",(function(){return Ve([])}))].concat(IS())),HS=o([al({factory:_S,schema:NS(),name:"primary"}),ul({schema:NS(),name:"overflow"}),ul({name:"overflow-button"}),ul({name:"overflow-group"})]),LS=o([ga(["toggledClass"]),ve("lazySink"),Ce("fetch"),_e("getBounds"),De("fireDismissalEventInstead",[ze("event",lo())]),qu()]),FS=o([ul({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ru([um.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ul({factory:_S,schema:NS(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:ru([Hd.config({mode:"cyclic",onEscape:function(e){return xl(e,t,"button").each(Yd.focus),b.none()}})])}}})]),VS=function(t,e){var n=ob.getCoupled(t,"toolbarSandbox");mc.isOpen(n)?mc.close(n):mc.open(n,e.toolbar())},jS=function(t,e,n,o){var r=n.getBounds.map((function(t){return t()})),i=n.lazySink(t).getOrDie();Ws.positionWithinBounds(i,{anchor:"hotspot",hotspot:t,layouts:o,overrides:{maxWidthFunction:kS()}},e,r)},$S=function(t,e,n,o,r){_S.setGroups(e,r),jS(t,e,n,o),um.on(t)},US=Rl({name:"FloatingToolbarButton",factory:function(t,e,n,o){return f(f({},uh.sketch(f(f({},o.button()),{action:function(t){VS(t,o)},buttonBehaviours:Hc({dump:o.button().buttonBehaviours},[ob.config({others:{toolbarSandbox:function(e){return function(t,e,n){var o=ra();return{dom:{tag:"div",attributes:{id:o.id()}},behaviours:ru([Hd.config({mode:"special",onEscape:function(t){return mc.close(t),b.some(!0)}}),mc.config({onOpen:function(r,i){n.fetch().get((function(r){$S(t,i,n,e.layouts,r),o.link(t.element()),Hd.focusIn(i)}))},onClose:function(){um.off(t),Yd.focus(t),o.unlink(t.element())},isPartOf:function(e,n,o){return ia(n,o)||ia(t,o)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),du.config({channels:f(f({},bc(f({isExtraPart:s},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),xc({doReposition:function(){mc.getState(ob.getCoupled(t,"toolbarSandbox")).each((function(o){jS(t,o,n,e.layouts)}))}}))})])}}(e,n,t)}}})])}))),{apis:{setGroups:function(e,o){mc.getState(ob.getCoupled(e,"toolbarSandbox")).each((function(r){$S(e,r,t,n.layouts,o)}))},reposition:function(e){mc.getState(ob.getCoupled(e,"toolbarSandbox")).each((function(o){jS(e,o,t,n.layouts)}))},toggle:function(t){VS(t,o)},getToolbar:function(t){return mc.getState(ob.getCoupled(t,"toolbarSandbox"))}}})},configFields:LS(),partFields:FS(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)}}}),WS=function(t){return P(t,(function(t){return wi(t)}))},qS=function(t,e,n){RS(t,n,(function(o){n.overflowGroups.set(o),e.getOpt(t).each((function(t){US.setGroups(t,WS(o))}))}))},XS=Rl({name:"SplitFloatingToolbar",configFields:PS(),partFields:HS(),factory:function(t,e,n,o){var r=sh(US.sketch({fetch:function(){return Iv((function(e){e(WS(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[$a]},onRtl:function(){return[ja]},onBottomLtr:function(){return[Wa]},onBottomRtl:function(){return[Ua]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:Ic(t.splitToolbarBehaviours,[ob.config({others:{overflowGroup:function(){return OS.sketch(f(f({},o["overflow-group"]()),{items:[r.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(P(n,e.getSystem().build)),qS(e,r,t)},refresh:function(e){return qS(e,r,t)},toggle:function(t){r.getOpt(t).each((function(t){US.toggle(t)}))},reposition:function(t){r.getOpt(t).each((function(t){US.reposition(t)}))},getOverflow:function(t){return r.getOpt(t).bind((function(t){return US.getToolbar(t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),GS=function(t,e){return e.getAnimationRoot.fold((function(){return t.element()}),(function(e){return e(t)}))},YS=function(t){return t.dimension.property},KS=function(t,e){return t.dimension.getDimension(e)},JS=function(t,e){var n=GS(t,e);Jr(n,[e.shrinkingClass,e.growingClass])},QS=function(t,e){Gr(t.element(),e.openClass),Xr(t.element(),e.closedClass),ri(t.element(),YS(e),"0px"),mi(t.element())},ZS=function(t,e){Gr(t.element(),e.closedClass),Xr(t.element(),e.openClass),di(t.element(),YS(e))},tk=function(t,e,n,o){n.setCollapsed(),ri(t.element(),YS(e),KS(e,t.element())),mi(t.element()),JS(t,e),QS(t,e),e.onStartShrink(t),e.onShrunk(t)},ek=function(t,e,n,o){var r=o.getOrThunk((function(){return KS(e,t.element())}));n.setCollapsed(),ri(t.element(),YS(e),r),mi(t.element());var i=GS(t,e);Gr(i,e.growingClass),Xr(i,e.shrinkingClass),QS(t,e),e.onStartShrink(t)},nk=function(t,e,n){var o=KS(e,t.element());("0px"===o?tk:ek)(t,e,n,b.some(o))},ok=function(t,e,n){var o=GS(t,e),r=Yr(o,e.shrinkingClass),i=KS(e,t.element());ZS(t,e);var a=KS(e,t.element());(r?function(){ri(t.element(),YS(e),i),mi(t.element())}:function(){QS(t,e)})(),Gr(o,e.shrinkingClass),Xr(o,e.growingClass),ZS(t,e),ri(t.element(),YS(e),a),n.setExpanded(),e.onStartGrow(t)},rk=function(t,e,n){var o=GS(t,e);return!0===Yr(o,e.growingClass)},ik=function(t,e,n){var o=GS(t,e);return!0===Yr(o,e.shrinkingClass)},ak=Object.freeze({__proto__:null,refresh:function(t,e,n){if(n.isExpanded()){di(t.element(),YS(e));var o=KS(e,t.element());ri(t.element(),YS(e),o)}},grow:function(t,e,n){n.isExpanded()||ok(t,e,n)},shrink:function(t,e,n){n.isExpanded()&&nk(t,e,n)},immediateShrink:function(t,e,n){n.isExpanded()&&tk(t,e,n,b.none())},hasGrown:function(t,e,n){return n.isExpanded()},hasShrunk:function(t,e,n){return n.isCollapsed()},isGrowing:rk,isShrinking:ik,isTransitioning:function(t,e,n){return!0===rk(t,e)||!0===ik(t,e)},toggleGrow:function(t,e,n){(n.isExpanded()?nk:ok)(t,e,n)},disableTransitions:JS}),uk=Object.freeze({__proto__:null,exhibit:function(t,e){return Fr(e.expanded?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:Bt(e.dimension.property,"0px")})},events:function(t,e){return To([Ro(Un(),(function(n,o){o.event().raw().propertyName===t.dimension.property&&(JS(n,t),e.isExpanded()&&di(n.element(),t.dimension.property),(e.isExpanded()?t.onGrown:t.onShrunk)(n))}))])}}),sk=[ve("closedClass"),ve("openClass"),ve("shrinkingClass"),ve("growingClass"),Ee("getAnimationRoot"),ba("onShrunk"),ba("onStartShrink"),ba("onGrown"),ba("onStartGrow"),ze("expanded",!1),be("dimension",ue("property",{width:[Ca("property","width"),Ca("getDimension",(function(t){return zi(t)+"px"}))],height:[Ca("property","height"),Ca("getDimension",(function(t){return ki(t)+"px"}))]}))],ck=au({fields:sk,name:"sliding",active:uk,apis:ak,state:Object.freeze({__proto__:null,init:function(t){var e=Ve(t.expanded);return Hr({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:i(e.set,!1),setExpanded:i(e.set,!0),readState:function(){return"expanded: "+e.get()}})}})}),lk=o([ga(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ba("onOpened"),ba("onClosed")].concat(IS())),fk=o([al({factory:_S,schema:NS(),name:"primary"}),al({factory:_S,schema:NS(),name:"overflow",overrides:function(t){return{toolbarBehaviours:ru([ck.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){xl(e,t,"overflow-button").each((function(t){um.off(t),Yd.focus(t)})),t.onClosed(e)},onGrown:function(e){Hd.focusIn(e),t.onOpened(e)},onStartGrow:function(e){xl(e,t,"overflow-button").each(um.on)}}),Hd.config({mode:"acyclic",onEscape:function(e){return xl(e,t,"overflow-button").each(Yd.focus),b.some(!0)}})])}}}),ul({name:"overflow-button",overrides:function(t){return{buttonBehaviours:ru([um.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ul({name:"overflow-group"})]),dk=function(t,e){xl(t,e,"overflow").each((function(n){RS(t,e,(function(t){var e=P(t,(function(t){return wi(t)}));_S.setGroups(n,e)})),xl(t,e,"overflow-button").each((function(t){ck.hasGrown(n)&&um.on(t)})),ck.refresh(n)}))},mk=Rl({name:"SplitSlidingToolbar",configFields:lk(),partFields:fk(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,components:e,behaviours:Ic(t.splitToolbarBehaviours,[ob.config({others:{overflowGroup:function(t){return OS.sketch(f(f({},o["overflow-group"]()),{items:[uh.sketch(f(f({},o["overflow-button"]()),{action:function(e){yo(t,"alloy.toolbar.toggle")}}))]}))}}}),Ud("toolbar-toggle-events",[No("alloy.toolbar.toggle",(function(e){xl(e,t,"overflow").each((function(n){dk(e,t),ck.toggleGrow(n)}))}))])]),apis:{setGroups:function(e,n){!function(e,n){var o=P(n,e.getSystem().build);t.builtGroups.set(o)}(e,n),dk(e,t)},refresh:function(e){return dk(e,t)},toggle:function(e){return function(t,e){xl(t,e,"overflow").each((function(n){dk(t,e),ck.toggleGrow(n)}))}(e,t)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)}}}),hk=o(wr("toolbar-height-change")),pk=Wt([be("readonly",de)]),gk=function(t,e){var n=t.outerContainer;!function(t,e){var n=t.outerContainer.element();e&&(t.mothership.broadcastOn([hc()],{target:n}),t.uiMothership.broadcastOn([hc()],{target:n})),t.mothership.broadcastOn(["silver.readonly"],{readonly:e}),t.uiMothership.broadcastOn(["silver.readonly"],{readonly:e})}(t,e),wn("*",n.element()).forEach((function(t){n.getSystem().getByDom(t).each((function(t){t.hasConfigured(Cp)&&Cp.set(t,e)}))}))},vk=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&gk(e,!0)})),t.on("SwitchMode",(function(){return gk(e,t.mode.isReadOnly())})),function(t){return t.getParam("readonly",!1,"boolean")}(t)&&t.setMode("readonly")},bk=function(t){var e;return du.config({channels:(e={},e["silver.readonly"]={schema:pk,onReceive:function(e,n){t(e).each((function(t){!function(t,e){wn("*",t.element()).forEach((function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(Cp)&&Cp.set(t,e)}))}))}(t,n.readonly)}))}},e)})},yk=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:f({tag:"div",classes:["tox-toolbar__group"]},e),components:[OS.parts().items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:ru([Kv.config({}),Yd.config({})])}},xk=function(t){return OS.sketch(yk(t))},wk=function(t,e,n){var o=Io((function(e){var n=P(t.initGroups,xk);_S.setGroups(e,n)}));return ru([Hd.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Ud("toolbar-events",[o]),bk(n)])},Ck=function(t,e){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":yk({title:b.none(),items:[]}),"overflow-button":kw({name:"more",icon:b.some("more-drawer"),disabled:!1,tooltip:b.some("More..."),primary:!1,borderless:!1},b.none(),t.backstage.shared.providers)},splitToolbarBehaviours:wk(t,n,e)}},Sk=function(t){var e=Ck(t,XS.getOverflow),n=XS.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return XS.sketch(f(f({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element(),n=Gi(e),o=Wo(e),r=Gi(o),i=Math.min(r.y(),n.x());return qi(n.x()+4,i,n.width()-8,Math.max(r.height(),n.bottom()-i))},parts:f(f({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},kk=function(t){var e=mk.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=mk.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=Ck(t,b.none);return mk.sketch(f(f({},o),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([hk()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([hk()],{type:"closed"})}}))},Tk=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return _S.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ff.scrolling?["tox-toolbar--scrolling"]:[])},components:[_S.parts().groups({})],toolbarBehaviours:wk(t,e,o(b.none()))})},Ek=[Pe("disabled",!1),Ae("tooltip"),Ae("icon"),Ae("text"),He("onSetup",(function(){return e}))],Ok=Wt([xe("type"),Ce("onAction")].concat(Ek)),Nk=function(t){return ne("toolbarbutton",Ok,t)},Ak=[Ae("text"),Ae("tooltip"),Ae("icon"),Ce("fetch"),He("onSetup",(function(){return e}))],_k=Wt(m([xe("type")],Ak)),Dk=function(t){return ne("menubutton",_k,t)},zk=Wt([xe("type"),Ae("tooltip"),Ae("icon"),Ae("text"),_e("select"),Ce("fetch"),He("onSetup",(function(){return e})),Ie("presets","normal",["normal","color","listpreview"]),ze("columns",1),Ce("onAction"),Ce("onItemAction")]),Mk=[Pe("active",!1)].concat(Ek),Bk=Wt(Mk.concat([xe("type"),Ce("onAction")])),Rk=function(t){return ne("ToggleButton",Bk,t)},Ik=Wt([xe("type"),be("items",(Jw=[Zt([xe("name"),Te("items",fe)]),fe],{extract:function(t,e,n){for(var o=[],r=0,i=Jw;r<i.length;r++){var a=i[r].extract(t,e,n);if(a.stype===h.Value)return a;o.push(a)}return Pt(o)},toString:function(){return"oneOf("+P(Jw,(function(t){return t.toString()})).join(", ")+")"}}))].concat(Ek)),Pk=[He("predicate",(function(){return!1})),Ie("scope","node",["node","editor"]),Ie("position","selection",["node","selection","line"])],Hk=Ek.concat([ze("type","contextformbutton"),ze("primary",!1),Ce("onAction"),Fe("original",r)]),Lk=Mk.concat([ze("type","contextformbutton"),ze("primary",!1),Ce("onAction"),Fe("original",r)]),Fk=Ek.concat([ze("type","contextformbutton")]),Vk=Mk.concat([ze("type","contextformtogglebutton")]),jk=ue("type",{contextformbutton:Hk,contextformtogglebutton:Lk}),$k=Wt([ze("type","contextform"),He("initValue",(function(){return""})),Ae("label"),Te("commands",jk),Oe("launch",ue("type",{contextformbutton:Fk,contextformtogglebutton:Vk}))].concat(Pk)),Uk=Wt([ze("type","contexttoolbar"),xe("items")].concat(Pk)),Wk=Object.freeze({__proto__:null,getState:function(t,e,n){return n}}),qk=Object.freeze({__proto__:null,events:function(t,e){var n=function(n,o){t.updateState.each((function(t){var r=t(n,o);e.set(r)})),t.renderComponents.each((function(t){var r=t(o,e.get()),i=P(r,n.getSystem().build);Ys(n,i)}))};return To([No(Kn(),(function(e,o){var r=o,i=t.channel;B(r.channels(),i)&&n(e,r.data())})),Io((function(e,o){t.initialData.each((function(t){n(e,t)}))}))])}}),Xk=Object.freeze({__proto__:null,init:function(){var t=Ve(b.none());return{readState:function(){return t.get().fold((function(){return"none"}),(function(t){return t}))},get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(b.none())}}}}),Gk=[ve("channel"),Ee("renderComponents"),Ee("updateState"),Ee("initialData")],Yk=au({fields:Gk,name:"reflecting",active:qk,apis:Wk,state:Xk}),Kk=o([ve("toggleClass"),ve("fetch"),xa("onExecute"),ze("getHotspot",b.some),ze("getAnchorOverrides",o({})),qu(),xa("onItemExecute"),Ee("lazySink"),ve("dom"),ba("onOpen"),Bc("splitDropdownBehaviours",[ob,Hd,Yd]),ze("matchWidth",!1),ze("useMinWidth",!1),ze("eventOrder",{}),Ee("role")].concat(hb())),Jk=al({factory:uh,schema:[ve("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:ru([Yd.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(wo)},buttonBehaviours:ru([um.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),Qk=al({factory:uh,schema:[ve("dom")],name:"button",defaults:function(){return{buttonBehaviours:ru([Yd.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}}),Zk=o([Jk,Qk,sl({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[ve("text")],name:"aria-descriptor"}),ul({schema:[pa()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(o){t.onItemExecute(o,e,n)}))}}}}),ib()]),tT=Rl({name:"SplitDropdown",configFields:Kk(),partFields:Zk(),factory:function(t,n,o,r){var i=function(t){Fl.getCurrent(t).each((function(t){Kl.highlightFirst(t),Hd.focusIn(t)}))},a=function(n){cb(t,(function(t){return t}),n,r,i,_v.HighlightFirst).get(e)},u=function(e){var n=wl(e,t,"button");return wo(n),b.some(!0)},s=f(f({},To([Io((function(e,n){xl(e,t,"aria-descriptor").each((function(t){var n=wr("aria");dr(t.element(),"id",n),dr(e.element(),"aria-describedby",n)}))}))])),cm(b.some(a)));return{uid:t.uid,dom:t.dom,components:n,apis:{repositionMenus:function(t){um.isOn(t)&&mb(t)}},eventOrder:f(f({},t.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:s,behaviours:Ic(t.splitDropdownBehaviours,[ob.config({others:{sandbox:function(e){var n=wl(e,t,"arrow");return db(t,e,{onOpen:function(){um.on(n),um.on(e)},onClose:function(){um.off(n),um.off(e)}})}}}),Hd.config({mode:"special",onSpace:u,onEnter:u,onDown:function(t){return a(t),b.some(!0)}}),Yd.config({}),um.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),eT=function(t){return{isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)}}},nT=function(t){return{setActive:function(e){um.set(t,e)},isActive:function(){return um.isOn(t)},isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)}}},oT=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},rT=wr("focus-button"),iT=["checklist","ordered-list"],aT=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],uT=function(t,e,n,o,r,i){var a,u=function(t){return qh.isRtl()&&B(iT,t)?t+"-rtl":t},s=qh.isRtl()&&t.exists((function(t){return B(aT,t)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(s?["tox-tbtn__icon-rtl"]:[]),attributes:oT(n,i)},components:Dp([t.map((function(t){return sw(u(t),i.icons)})),e.map((function(t){return lw(t,"tox-tbtn",i)}))]),eventOrder:(a={},a[zn()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:ru([Ud("common-button-display-events",[No(zn(),(function(t,e){e.event().prevent(),yo(t,rT)}))])].concat(o.map((function(n){return Yk.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return Dp([t.icon.map((function(t){return sw(u(t),i.icons)})),t.text.map((function(t){return lw(t,"tox-tbtn",i)}))])}})})).toArray()).concat(r.getOr([])))}},sT=function(t,n,o){var r,i,a=Ve(e),u=uT(t.icon,t.text,t.tooltip,b.none(),b.none(),o);return uh.sketch({dom:u.dom,components:u.components,eventOrder:dw,buttonBehaviours:ru([Ud("toolbar-button-events",[(r={onAction:t.onAction,getApi:n.getApi},Lo((function(t,e){kp(r,t)((function(e){xo(t,fw,{buttonApi:e}),r.onAction(e)}))}))),Tp(n,a),Ep(n,a)]),(i=t.disabled,Cp.config({disabled:i,disableClass:"tox-tbtn--disabled",useNative:!1}))].concat(n.toolbarButtonBehaviours))})},cT=function(t,e,n){return sT(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Ud("toolbarButtonWith",n)]:[]),getApi:eT,onSetup:t.onSetup},e)},lT=function(t,e,n){return pt(sT(t,{toolbarButtonBehaviours:[$d.config({}),um.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Ud("toolbarToggleButtonWith",n)]:[]),getApi:nT,onSetup:t.onSetup},e))},fT=function(t,e,n){return function(o){return Iv((function(t){return e.fetch(t)})).map((function(r){return b.from(Wg(pt(Pg(wr("menu-value"),r,(function(n){e.onItemAction(t(o),n)}),e.columns,e.presets,Np.CLOSE_ON_EXECUTE,e.select.getOr((function(){return!1})),n),{movement:Lg(e.columns,e.presets),menuBehaviours:Ph("auto"!==e.columns?[]:[Io((function(t,n){Ih(t,4,Qh(e.presets)).each((function(e){Hd.setGridSize(t,e.numRows,e.numColumns)}))}))])})))}))}},dT=function(t,e){return No(fw,(function(n,o){var r=function(t){return{hide:function(){return yo(t,eo())},getValue:function(){return Mc.getValue(t)}}}(t.get(n));e.onAction(r,o.event().buttonApi())}))},mT=function(e){var n=Fi(t.window),o=Xi(qe(e.getContentAreaContainer())),r=Ym(e)||Km(e)||Qm(e),i=function(t,e){var n=Math.max(e.x(),t.x()),o=t.right()-n,r=e.width()-(n-e.x());return{x:n,width:Math.min(o,r)}}(o,n),a=i.x,u=i.width;if(e.inline&&!r)return qi(a,n.y(),u,n.height());var s=function(t,e,n){var o=qe(t.getContainer()),r=na(o,".tox-editor-header").getOr(o),i=Xi(r),a=i.y()>=e.bottom(),u=nh(t)&&!a;if(t.inline&&u)return{y:Math.max(i.bottom(),n.y()),bottom:n.bottom()};if(t.inline&&!u)return{y:n.y(),bottom:Math.min(i.y(),n.bottom())};var s=Xi(o);return u?{y:Math.max(i.bottom(),n.y()),bottom:Math.min(s.bottom(),n.bottom())}:{y:Math.max(s.y(),n.y()),bottom:Math.min(i.y(),n.bottom())}}(e,o,n),c=s.y;return qi(a,c,u,s.bottom-c)},hT=function(t,e){return tt(e,(function(e){return e.predicate(t.dom())?b.some({toolbarApi:e,elem:t}):b.none()}))},pT=wr("forward-slide"),gT=wr("backward-slide"),vT=wr("change-slide-event"),bT=function(t,e){return function(n){var o=Ve(b.none()),r=function(){n.setActive(t.formatter.match(e));var r=t.formatter.formatChanged(e,n.setActive).unbind;o.set(b.some(r))};return t.initialized?r():t.on("init",r),function(){return o.get().each((function(t){return t()}))}}},yT=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)}))}}},xT=function(t,e,n){var o=function(t,o,i,a){var u=e.shared.providers.translate(t.title);if("separator"===t.type)return b.some({type:"separator",text:u});if("submenu"===t.type){var s=W(t.getStyleItems(),(function(t){return r(t,o,a)}));return 0===o&&s.length<=0?b.none():b.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return W(t.getStyleItems(),(function(t){return r(t,o,a)}))}})}return b.some(f({type:"togglemenuitem",text:u,active:t.isSelected(a),disabled:i,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},r=function(t,e,r){var i="formatter"===t.type&&n.isInvalid(t);return 0===e?i?[]:o(t,e,!1,r).toArray():o(t,e,i,r).toArray()},i=function(t){var e=n.getCurrentValue(),o=n.shouldHide?0:1;return W(t,(function(t){return r(t,o,e)}))};return{validateItems:i,getFetch:function(t,e){return function(n){var o=e(),r=i(o);n(yw(r,Np.CLOSE_ON_EXECUTE,t,!1))}}}},wT=function(t,e,n){var o=n.dataset,r="basic"===o.type?function(){return P(o.data,(function(t){return KC(t,n.isSelectedFor,n.getPreviewFor)}))}:o.getData;return{items:xT(0,e,n),getStyleItems:r}},CT=function(t,n,o){var r=wT(0,n,o),i=r.items,a=r.getStyleItems;return pw({text:o.icon.isSome()?b.none():b.some(""),icon:o.icon,tooltip:b.from(o.tooltip),role:b.none(),fetch:i.getFetch(n,a),onSetup:function(n){return o.setInitialValue.each((function(t){return t(n.getComponent())})),o.nodeChangeHandler.map((function(e){var o=e(n.getComponent());return t.on("NodeChange",o),function(){t.off("NodeChange",o)}})).getOr(e)},getApi:function(t){return{getComponent:function(){return t}}},columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)};!function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"}(Qw||(Qw={}));var ST,kT,TT=function(t,e,n,o){return{type:"basic",data:function(t){return P(t,(function(t){var e=t,n=t,o=t.split("=");return o.length>1&&(e=o[0],n=o[1]),{title:e,format:n}}))}(function(t,e){return e===Qw.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}(ct(t.settings,e).getOr(n),o))}},ET=[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}],OT=function(t){var e=function(e){var n=j(ET,(function(e){return t.formatter.match(e.format)})).fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}));xo(e,hw,{icon:"align-"+n})},n=b.some((function(t){return function(){return e(t)}})),r=b.some((function(t){return e(t)})),i={type:"basic",data:ET};return{tooltip:"Align",icon:b.some("align-left"),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(b.none()),getPreviewFor:function(t){return function(){return b.none()}},onAction:yT(t),setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},NT=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],AT=function(t){var e=t.split(/\s*,\s*/);return P(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},_T=function(t){var e=function(){var e=function(t){return t?AT(t)[0]:""},n=t.queryCommandValue("FontName"),o=i.data,r=n?n.toLowerCase():"";return{matchOpt:j(o,(function(t){var n=t.format;return n.toLowerCase()===r||e(n).toLowerCase()===e(r).toLowerCase()})).orThunk((function(){return function(t){var e;return 0===t.indexOf("-apple-system")&&(e=AT(t.toLowerCase()),q(NT,(function(t){return e.indexOf(t.toLowerCase())>-1})))}(r)?b.from({title:"System Font",format:r}):b.none()})),font:n}},n=function(t){var n=e(),o=n.font,r=n.matchOpt.fold((function(){return o}),(function(t){return t.title}));xo(t,mw,{text:r})},o=b.some((function(t){return function(){return n(t)}})),r=b.some((function(t){return n(t)})),i=TT(t,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Qw.SemiColon);return{tooltip:"Fonts",icon:b.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getCurrentValue:function(){return e().matchOpt},getPreviewFor:function(t){return function(){return b.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,e.format)}))}},setInitialValue:r,nodeChangeHandler:o,dataset:i,shouldHide:!1,isInvalid:function(){return!1}}},DT={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},zT=function(t){var e=function(){var e=b.none(),n=u.data,o=t.queryCommandValue("FontSize");if(o)for(var r=function(t){var r=function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}(o,t),i=function(t){return ct(DT,t).getOr("")}(r);e=j(n,(function(t){return t.format===o||t.format===r||t.format===i}))},i=3;e.isNone()&&i>=0;i--)r(i);return{matchOpt:e,size:o}},n=o(o(b.none())),r=function(t){var n=e(),o=n.size,r=n.matchOpt.fold((function(){return o}),(function(t){return t.title}));xo(t,mw,{text:r})},i=b.some((function(t){return function(){return r(t)}})),a=b.some((function(t){return r(t)})),u=TT(t,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",Qw.Space);return{tooltip:"Font sizes",icon:b.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getPreviewFor:n,getCurrentValue:function(){return e().matchOpt},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,e.format)}))}},setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(){return!1}}},MT=function(t,e,n){var o=e();return tt(n,(function(e){return j(o,(function(n){return t.formatter.matchNode(e,n.format)}))})).orThunk((function(){return t.formatter.match("p")?b.some({title:"Paragraph",format:"p"}):b.none()}))},BT=function(t){var e=t.selection.getStart(!0)||t.getBody();return t.dom.getParents(e,(function(){return!0}),t.getBody())},RT=function(t){var e=function(e,n){var o=MT(t,(function(){return i.data}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));xo(n,mw,{text:o})},n=b.some((function(t){return function(n){return e(n.parents,t)}})),r=b.some((function(n){var o=BT(t);e(o,n)})),i=TT(t,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Qw.SemiColon);return{tooltip:"Blocks",icon:b.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(b.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}},onAction:yT(t),setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},IT=function(t,e){var n=function(e,n){var o=function(t){var e=t.items;return void 0!==e&&e.length>0?W(e,o):[{title:t.title,format:t.format}]},r=W(YC(t),o),i=MT(t,(function(){return r}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));xo(n,mw,{text:i})},r=b.some((function(t){return function(e){return n(e.parents,t)}})),i=b.some((function(e){var o=BT(t);n(o,e)}));return{tooltip:"Formats",icon:b.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(b.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):b.none()}},onAction:yT(t),setInitialValue:i,nodeChangeHandler:r,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},PT=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],HT=function(t,e){return function(n,o,r){var i=t(n).mapError((function(t){return ie(t)})).getOrDie();return e(i,o,r)}},LT={button:HT(Nk,(function(t,e){return cT(t,e.backstage.shared.providers,[])})),togglebutton:HT(Rk,(function(t,e){return lT(t,e.backstage.shared.providers,[])})),menubutton:HT(Dk,(function(t,e){return ww(t,"tox-tbtn",e.backstage,b.none())})),splitbutton:HT((function(t){return ne("SplitButton",zk,t)}),(function(t,n){return function(t,n){var o,r=wr("channel-update-split-dropdown-display"),i=function(t){return{isDisabled:function(){return Cp.isDisabled(t)},setDisabled:function(e){return Cp.set(t,e)},setIconFill:function(e,n){na(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){dr(t,"fill",n)}))},setIconStroke:function(e,n){na(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){dr(t,"stroke",n)}))},setActive:function(e){dr(t.element(),"aria-pressed",e),na(t.element(),"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return um.set(t,e)}))}))},isActive:function(){return na(t.element(),"span").exists((function(e){return t.getSystem().getByDom(e).exists(um.isOn)}))}}},a=Ve(e),u={getApi:i,onSetup:t.onSetup};return tT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:f({"aria-pressed":!1},oT(t.tooltip,n.providers))},onExecute:function(e){t.onAction(i(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:ru([(!1,Cp.config({disabled:!1,disableClass:"tox-tbtn--disabled"})),Ud("split-dropdown-events",[No(rT,Yd.focus),Tp(u,a),Ep(u,a)]),bb.config({})]),eventOrder:(o={},o[so()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:fT(i,t,n.providers),parts:{menu:Ag(0,0,t.presets)},components:[tT.parts().button(uT(t.icon,t.text,b.none(),b.some(r),b.some([um.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),tT.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:lh("chevron-down",n.providers.icons)}}),tT.parts()["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})}(t,n.backstage.shared)})),grouptoolbarbutton:HT((function(t){return ne("GroupToolbarButton",Ik,t)}),(function(t,e,n){var o,r=n.ui.registry.getAll().buttons,i=((o={})[Uu]=nh(n)?aa.TopToBottom:aa.BottomToTop,o);switch(th(n)){case ff.floating:return function(t,e,n,o){var r=e.shared;return US.sketch({lazySink:r.getSink,fetch:function(){return Iv((function(e){e(P(n(t.items),xk))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:uT(t.icon,t.text,t.tooltip,b.none(),b.none(),r.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})}(t,e.backstage,(function(t){return VT(n,{buttons:r,toolbar:t,allowToolbarGroups:!1},e,b.none())}),i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,e){return function(t,e){var n=f({type:"advanced"},e.styleselect);return CT(t,e,IT(t,n))}(t,e.backstage)},fontsizeSelectButton:function(t,e){return function(t,e){return CT(t,e,zT(t))}(t,e.backstage)},fontSelectButton:function(t,e){return function(t,e){return CT(t,e,_T(t))}(t,e.backstage)},formatButton:function(t,e){return function(t,e){return CT(t,e,RT(t))}(t,e.backstage)},alignMenuButton:function(t,e){return function(t,e){return CT(t,e,OT(t))}(t,e.backstage)}},FT={styleselect:LT.styleSelectButton,fontsizeselect:LT.fontsizeSelectButton,fontselect:LT.fontSelectButton,formatselect:LT.formatButton,align:LT.alignMenuButton},VT=function(e,n,o,r){var i=function(e){var n,o,r,i=e.toolbar;return!1===i?[]:void 0===i||!0===i?(o=e.buttons,r=P(PT,(function(t){var e=L(t.items,(function(t){return lt(o,t)||lt(FT,t)}));return{name:t.name,items:e}})),L(r,(function(t){return t.items.length>0}))):S(i)?(n=i.split("|"),P(n,(function(t){return{items:t.trim().split(" ")}}))):function(t){return A(t,(function(t){return lt(t,"name")&&lt(t,"items")}))}(i)?i:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])}(n),a=P(i,(function(i){var a=W(i.items,(function(i){return 0===i.trim().length?[]:function(e,n,o,r,i,a){return ct(n,o.toLowerCase()).orThunk((function(){return a.bind((function(t){return tt(t,(function(t){return ct(n,t+o.toLowerCase())}))}))})).fold((function(){return ct(FT,o.toLowerCase()).map((function(t){return t(e,i)})).orThunk((function(){return b.none()}))}),(function(n){return"grouptoolbarbutton"!==n.type||r?function(e,n,o){return ct(LT,e.type).fold((function(){return t.console.error("skipping button defined by",e),b.none()}),(function(t){return b.some(t(e,n,o))}))}(n,i,e):(t.console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),b.none())}))}(e,n.buttons,i,n.allowToolbarGroups,o,r).toArray()}));return{title:b.from(e.translate(i.name)),items:a}}));return L(a,(function(t){return t.items.length>0}))},jT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},$T={maxHeightFunction:Ru(),maxWidthFunction:kS()},UT={onLtr:function(){return[qa,Xa,Ua,ja,Wa,$a,Hm,Lm,Im,Bm,Pm,Rm]},onRtl:function(){return[qa,Xa,Wa,$a,Ua,ja,Hm,Lm,Pm,Rm,Im,Bm]}},WT={onLtr:function(){return[Xa,ja,$a,Ua,Wa,qa,Hm,Lm,Im,Bm,Pm,Rm]},onRtl:function(){return[Xa,$a,ja,Wa,Ua,qa,Hm,Lm,Pm,Rm,Im,Bm]}},qT=function(t,e,n,o){var r,i,u=hn().deviceType.isTouch,s=xi((r={sink:n,onEscape:function(){return t.focus(),b.some(!0)}},i=Ve([]),Nm.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){i.set([]),Nm.getContent(t).each((function(t){di(t.element(),"visibility")})),Gr(t.element(),"tox-pop--resizing"),di(t.element(),"width")},inlineBehaviours:ru([Ud("context-toolbar-events",[Ro(Un(),(function(t,e){Nm.getContent(t).each((function(t){})),Gr(t.element(),"tox-pop--resizing"),di(t.element(),"width")})),No(vT,(function(t,e){di(t.element(),"width");var n=zi(t.element());Nm.setContent(t,e.event().contents()),Xr(t.element(),"tox-pop--resizing");var o=zi(t.element());ri(t.element(),"width",n+"px"),Nm.getContent(t).each((function(n){e.event().focus().bind((function(e){return hu(e),gu(t.element())})).orThunk((function(){return Hd.focusIn(n),pu()}))})),Fm.setTimeout((function(){ri(t.element(),"width",o+"px")}),0)})),No(pT,(function(t,e){Nm.getContent(t).each((function(t){i.set(i.get().concat([{bar:t,focus:pu()}]))})),xo(t,vT,{contents:e.event().forwardContents(),focus:b.none()})})),No(gT,(function(t,e){Q(i.get()).each((function(e){i.set(i.get().slice(0,i.get().length-1)),xo(t,vT,{contents:wi(e.bar),focus:e.focus})}))}))]),Hd.config({mode:"special",onEscape:function(t){return Q(i.get()).fold((function(){return r.onEscape()}),(function(e){return yo(t,gT),b.some(!0)}))}})]),lazySink:function(){return w.value(r.sink)}}))),c=function(){return mT(t)},l=function(){if(u()&&o.backstage.isContextMenuOpen())return!0;var e,n,r,i,a,s,l=(e=g.get().map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()})),n=t.inline?Pi().top():Gi(qe(t.getBody())).y(),{y:e.top+n,bottom:e.bottom+n}),f=c();return r=l.y,i=l.bottom,a=f.y(),s=f.bottom(),!(Math.max(r,a)<=Math.min(i,s))},m=function(){Nm.hide(s)},h=function(){p.get().each((function(t){var e=s.element();di(e,"display"),l()?ri(e,"display","none"):Ws.positionWithinBounds(n,t,s,b.some(c()))}))},p=Ve(b.none()),g=Ve(b.none()),v=Ve(null),y=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:ru([Hd.config({mode:"acyclic"}),Ud("pop-dialog-wrap-events",[Io((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Hd.focusIn(e)}))})),Po((function(e){t.shortcuts.remove("ctrl+F9")}))])])}},x=vt((function(){return n=function(t){var e=C(t);xo(s,pT,{forwardContents:y(e)})},o={},r=[],i=[],a={},u={},c=et(t=e),H(c,(function(e){var s=t[e];"contextform"===s.type?function(t,e){var s=oe(ne("ContextForm",$k,e));o[t]=s,s.launch.map((function(o){a["form:"+t]=f(f({},e.launch),{type:"contextformtogglebutton"===o.type?"togglebutton":"button",onAction:function(){n(s)}})})),"editor"===s.scope?i.push(s):r.push(s),u[t]=s}(e,s):"contexttoolbar"===s.type&&function(t,e){var n;(n=e,ne("ContextToolbar",Uk,n)).each((function(n){"editor"===e.scope?i.push(n):r.push(n),u[t]=n}))}(e,s)})),{forms:o,inNodeScope:r,inEditorScope:i,lookupTable:u,formNavigators:a};var t,n,o,r,i,a,u,c})),C=function(e){var n,r,i=t.ui.registry.getAll().buttons,u=th(t)===ff.scrolling?ff.scrolling:ff.default,s=x();return"contexttoolbar"===e.type?(n=f(f({},i),s.formNavigators),r=VT(t,{buttons:n,toolbar:e.items,allowToolbarGroups:!1},o,b.some(["form:"])),Tk({type:u,uid:wr("context-toolbar"),initGroups:r,onEscape:b.none,cyclicKeying:!0})):function(t,e,n){var o=e.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),r=sh(Ov.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:ru([Hd.config({mode:"special",onEnter:function(t){return i.findPrimary(t).map((function(t){return wo(t),!0}))},onLeft:function(t,e){return e.cut(),b.none()},onRight:function(t,e){return e.cut(),b.none()}})])})),i=function(t,e,n){var o=P(e,(function(e){return sh(function(t,e,n){var o={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===e.type?function(t,e,n){var o=d(e.original,["primary"]),r=oe(Rk(f(f({},o),{type:"togglebutton",onAction:function(){}})));return lT(r,n.backstage.shared.providers,[dT(t,e)])}(t,e,o):function(t,e,n){var o=d(e.original,["primary"]),r=oe(Nk(f(f({},o),{type:"button",onAction:function(){}})));return cT(r,n.backstage.shared.providers,[dT(t,e)])}(t,e,o)}(t,e,n))}));return{asSpecs:function(){return P(o,(function(t){return t.asSpec()}))},findPrimary:function(t){return tt(e,(function(e,n){return e.primary?b.from(o[n]).bind((function(e){return e.getOpt(t)})).filter(a(Cp.isDisabled)):b.none()}))}}}(r,e.commands,n.shared.providers);return Tk({type:t,uid:wr("context-toolbar"),initGroups:[{title:b.none(),items:[r.asSpec()]},{title:b.none(),items:i.asSpecs()}],onEscape:b.none,cyclicKeying:!0})}(u,e,o.backstage)};t.on("contexttoolbar-show",(function(e){var n=x();ct(n.lookupTable,e.toolbarKey).each((function(n){S(n,e.target===t?b.none():b.some(e)),Nm.getContent(s).each(Hd.focusIn)}))}));var S=function(t,e){if(T(),!u()||!o.backstage.isContextMenuOpen()){var n=C(t),r=e.map(qe),i=function(t,e){var n="node"===t?o.backstage.shared.anchors.node(e):o.backstage.shared.anchors.cursor();return pt(n,function(t,e){return"line"===t?{bubble:Lu(12,0,jT),layouts:{onLtr:function(){return[Ga]},onRtl:function(){return[Ya]}},overrides:$T}:{bubble:Lu(0,12,jT),layouts:e?WT:UT,overrides:$T}}(t,u()))}(t.position,r);p.set(b.some(i)),g.set(e);var a=s.element();di(a,"display"),Nm.showWithinBounds(s,i,y(n),(function(){return b.some(c())})),l()&&ri(a,"display","none")}},k=function(){t.hasFocus()&&function(t,e){var n=qe(e.getBody()),o=function(t){return Cn(t,n)},r=qe(e.selection.getNode());return function(t){return!o(t)&&!Sn(n,t)}(r)?b.none():hT(r,t.inNodeScope).orThunk((function(){return hT(r,t.inEditorScope).orThunk((function(){return o(r)?b.none():kn(r,(function(e){return hT(e,t.inNodeScope)}),o)}))}))}(x(),t).fold((function(){p.set(b.none()),Nm.hide(s)}),(function(t){S(t.toolbarApi,b.some(t.elem.dom()))}))},T=function(){var t=v.get();null!==t&&(Fm.clearTimeout(t),v.set(null))},E=function(t){T(),v.set(t)};t.on("init",(function(){t.on("contexttoolbar-hide",m),t.on("ScrollContent ScrollWindow longpress",h),t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){E(Fm.setEditorTimeout(t,k,0))})),t.on("focusout",(function(e){Fm.setEditorTimeout(t,(function(){gu(n.element()).isNone()&&gu(s.element()).isNone()&&(p.set(b.none()),Nm.hide(s))}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&(p.set(b.none()),Nm.hide(s))})),t.on("NodeChange",(function(e){gu(s.element()).fold((function(){E(Fm.setEditorTimeout(t,k,0))}),(function(t){}))}))}))},XT=Nl,GT=fl,YT=o([ze("shell",!1),ve("makeItem"),ze("setupItem",e),Pc("listBehaviours",[$d])]),KT=sl({name:"items",overrides:function(){return{behaviours:ru([$d.config({})])}}}),JT=o([KT]),QT=Rl({name:o("CustomList")(),configFields:YT(),partFields:JT(),factory:function(e,n,o,r){var i=e.shell?{behaviours:[$d.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Ic(e.listBehaviours,i.behaviours),apis:{setItems:function(n,o){var r;(r=n,e.shell?b.some(r):xl(r,e,"items")).fold((function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(t){var r=$d.contents(t),i=o.length,a=i-r.length,u=a>0?function(t,n){for(var o=[],r=0;r<t;r++)o.push(e.makeItem());return o}(a):[],s=r.slice(i);H(s,(function(e){return $d.remove(t,e)})),H(u,(function(e){return $d.append(t,e)}));var c=$d.contents(t);H(c,(function(t,r){e.setupItem(n,t,o[r],r)}))}))}}}},apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),ZT=function(t){return(ci(t,"position").is("fixed")?b.none():Go(t)).orThunk((function(){var e=Ue("span");return Xo(t).bind((function(t){tr(t,e);var n=Go(e);return or(e),n}))}))},tE=function(t){return ZT(t).map(Ai).getOrThunk((function(){return Oi(0,0)}))},eE=dt([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),nE=function(t,e){var n=t.element();Xr(n,e.transitionClass),Gr(n,e.fadeOutClass),Xr(n,e.fadeInClass),e.onShow(t)},oE=function(t,e){var n=t.element();Xr(n,e.transitionClass),Gr(n,e.fadeInClass),Xr(n,e.fadeOutClass),e.onHide(t)},rE=function(t,e,n){return q(t,(function(t){switch(t){case"bottom":return function(t,e){return t.bottom()<=e.bottom()}(e,n);case"top":return function(t,e){return t.y()>=e.y()}(e,n)}}))},iE=function(t,e){return e.getInitialPosition().map((function(e){return qi(e.bounds.x(),e.bounds.y(),zi(t),ki(t))}))},aE=function(t,e,n){return n.getInitialPosition().bind((function(o){switch(n.setInitialPosition(b.none()),o.position){case"static":return b.some(eE.static());case"absolute":var r=ZT(t).map(Xi).getOrThunk((function(){return Xi(ti())}));return b.some(eE.absolute(bu("absolute",ct(o.style,"left").map((function(t){return e.x()-r.x()})),ct(o.style,"top").map((function(t){return e.y()-r.y()})),ct(o.style,"right").map((function(t){return r.right()-e.right()})),ct(o.style,"bottom").map((function(t){return r.bottom()-e.bottom()})))));default:return b.none()}}))},uE=function(t,e){H(["left","right","top","bottom","position"],(function(e){return di(t.element(),e)})),e.onUndocked(t)},sE=function(t,e,n){yu(t.element(),n),("fixed"===n.position()?e.onDocked:e.onUndocked)(t)},cE=function(t,e,n,o,r){void 0===r&&(r=!1),e.contextual.each((function(e){e.lazyContext(t).each((function(i){var a=function(t,e){return t.y()<e.bottom()&&t.bottom()>e.y()}(i,o);a!==n.isVisible()&&(n.setVisible(a),r&&!a?(Kr(t.element(),[e.fadeOutClass]),e.onHide(t)):(a?nE:oE)(t,e))}))}))},lE=function(t,e,n){t.getSystem().isConnected()&&function(t,e,n){var o=e.lazyViewport(t),r=n.isDocked();r&&cE(t,e,n,o),function(t,e,n,o){var r=t.element();return ci(r,"position").is("fixed")?function(t,e,n,o){return iE(t,o).filter((function(t){return rE(e.modes,t,n)})).bind((function(e){return aE(t,e,o)}))}(r,e,n,o):function(t,e,n,o){var r=Xi(t);if(rE(e.modes,r,n))return b.none();!function(t,e,n){n.setInitialPosition(b.some({style:li(t),position:ui(t,"position")||"static",bounds:e}))}(t,r,o);var i=Yi(),a=r.x()-i.x(),u=n.y()-i.y(),s=i.bottom()-n.bottom(),c=r.y()<=n.y();return b.some(eE.fixed(bu("fixed",b.some(a),c?b.some(u):b.none(),b.none(),c?b.none():b.some(s))))}(r,e,n,o)}(t,e,o,n).each((function(i){n.setDocked(!r),i.fold((function(){return uE(t,e)}),(function(n){return sE(t,e,n)}),(function(r){cE(t,e,n,o,!0),sE(t,e,r)}))}))}(t,e,n)},fE=function(t,n,o){o.isDocked()&&function(t,n,o){var r=t.element();o.setDocked(!1),function(t,e){var n=t.element();return iE(n,e).bind((function(t){return aE(n,t,e)}))}(t,o).each((function(o){o.fold((function(){return uE(t,n)}),(function(e){return sE(t,n,e)}),e)})),o.setVisible(!0),n.contextual.each((function(e){Jr(r,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)})),lE(t,n,o)}(t,n,o)},dE=Object.freeze({__proto__:null,refresh:lE,reset:fE,isDocked:function(t,e,n){return n.isDocked()}}),mE=Object.freeze({__proto__:null,events:function(t,e){return To([Ro(Un(),(function(n,o){t.contextual.each((function(t){Yr(n.element(),t.transitionClass)&&(Jr(n.element(),[t.transitionClass,t.fadeInClass]),(e.isVisible()?t.onShown:t.onHidden)(n)),o.stop()}))})),No(ao(),(function(n,o){lE(n,t,e)})),No(uo(),(function(n,o){fE(n,t,e)}))])}}),hE=[De("contextual",[xe("fadeInClass"),xe("fadeOutClass"),xe("transitionClass"),Ce("lazyContext"),ba("onShow"),ba("onShown"),ba("onHide"),ba("onHidden")]),He("lazyViewport",Yi),(kT=fe,Me("modes",["top","bottom"],qt(kT))),ba("onDocked"),ba("onUndocked")],pE=au({fields:hE,name:"docking",active:mE,apis:dE,state:Object.freeze({__proto__:null,init:function(){var t=Ve(!1),e=Ve(!0),n=Ve(b.none());return Hr({isDocked:function(){return t.get()},setDocked:function(e){return t.set(e)},getInitialPosition:function(){return n.get()},setInitialPosition:function(t){return n.set(t)},isVisible:function(){return e.get()},setVisible:function(t){return e.set(t)},readState:function(){return"docked:  "+t.get()+", visible: "+e.get()}})}})}),gE={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},vE=function(t,e){var n=t.element();Xo(n).each((function(o){var r="padding-"+(e?"top":"bottom");if(pE.isDocked(t)){var i=zi(o);ri(n,"width",i+"px"),ri(o,r,function(t){return Ti(t)+(parseInt(ui(t,"margin-top"),10)||0)+(parseInt(ui(t,"margin-bottom"),10)||0)}(n)+"px")}else di(n,"width"),di(o,r)}))},bE=function(t,e){e?(Gr(t,gE.fadeOutClass),Kr(t,[gE.transitionClass,gE.fadeInClass])):(Gr(t,gE.fadeInClass),Kr(t,[gE.fadeOutClass,gE.transitionClass]))},yE=function(t,e){var n=qe(t.getContainer());e?(Xr(n,"tox-tinymce--toolbar-sticky-on"),Gr(n,"tox-tinymce--toolbar-sticky-off")):(Xr(n,"tox-tinymce--toolbar-sticky-off"),Gr(n,"tox-tinymce--toolbar-sticky-on"))},xE=function(t,e){var n=Ve(b.none()),o=nh(t),r=function(t){e().each((function(e){return t(e.element())}))},i=function(n){t.inline||vE(n,o),yE(t,pE.isDocked(n)),n.getSystem().broadcastOn([pc()],{}),e().each((function(t){return t.getSystem().broadcastOn([pc()],{})}))},a=t.inline?[]:function(t){var e;return[du.config({channels:(e={},e[hk()]={onReceive:function(e){vE(e,t)}},e)})]}(o);return m([Yd.config({}),pE.config({contextual:f({lazyContext:function(e){var n=Ti(e.element()),r=t.inline?t.getContentAreaContainer():t.getContainer(),i=Xi(qe(r)),a=i.height()-n,u=i.y()+(o?0:n);return b.some(qi(i.x(),u,i.width(),a))},onShow:function(){r((function(t){return bE(t,!0)}))},onShown:function(t){r((function(t){return Jr(t,[gE.transitionClass,gE.fadeInClass])})),n.get().each((function(e){var o,r,i;o=t.element(),i=Uo(r=e),pu(i).filter((function(t){return!Cn(r,t)})).filter((function(t){return Cn(t,qe(i.dom().body))||Sn(o,t)})).each((function(){return hu(r)})),n.set(b.none())}))},onHide:function(t){n.set(function(t,e){return gu(t).orThunk((function(){return e().toOption().bind((function(t){return gu(t.element())}))}))}(t.element(),e)),r((function(t){return bE(t,!1)}))},onHidden:function(){r((function(t){return Jr(t,[gE.transitionClass])}))}},gE),modes:[o?"top":"bottom"],onDocked:i,onUndocked:i})],a)},wE=Object.freeze({__proto__:null,setup:function(t,e){t.inline||(nh(t)||t.on("ResizeEditor",(function(){e().each(pE.reset)})),t.on("ResizeWindow ResizeEditor",(function(){e().each((function(e){return vE(e,nh(t))}))})),t.on("SkinLoaded",(function(){e().each((function(t){pE.isDocked(t)?pE.reset(t):pE.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){e().each(pE.reset)}))),t.on("AfterScrollIntoView",(function(t){e().each((function(e){pE.refresh(e);var n=e.element();Df(n)&&function(t,e){var n=Uo(e),o=n.dom().defaultView.innerHeight,r=Pi(n),i=qe(t.elm),a=Gi(i),u=ki(i),s=a.y(),c=s+u,l=Ai(e),f=ki(e),d=l.top(),m=d+f,h=Math.abs(d-r.top())<2,p=Math.abs(m-(r.top()+o))<2;if(h&&s<m)Hi(r.left(),s-f,n);else if(p&&c>d){var g=s-o+u+f;Hi(r.left(),g,n)}}(t,n)}))})),t.on("PostRender",(function(){yE(t,!1)}))},isDocked:function(t){return t().map(pE.isDocked).getOr(!1)},getBehaviours:xE}),CE=e,SE=s,kE=o([]),TE=Object.freeze({__proto__:null,setup:CE,isDocked:SE,getBehaviours:kE}),EE=Bl({factory:function(t,e){var n={focus:Hd.focusIn,setMenus:function(t,n){var o=P(n,(function(t){var n=Dk({type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}}).mapError((function(t){return ie(t)})).getOrDie();return ww(n,"tox-mbtn",e.backstage,b.some("menuitem"))}));$d.set(t,o)}};return{uid:t.uid,dom:t.dom,components:[],behaviours:ru([$d.config({}),Ud("menubar-events",[Io((function(e){t.onSetup(e)})),No(In(),(function(t,e){na(t.element(),".tox-mbtn--active").each((function(n){oa(e.event().target(),".tox-mbtn").each((function(e){Cn(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){vb.expand(t),vb.close(n),Yd.focus(t)}))}))}))}))})),No(mo(),(function(t,e){e.event().prevFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(n){e.event().newFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(t){vb.isOpen(n)&&(vb.expand(t),vb.close(n))}))}))}))]),Hd.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),b.some(!0)}}),Kv.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ve("dom"),ve("uid"),ve("onEscape"),ve("backstage"),ze("onSetup",e)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),OE=[Bc("slotBehaviours",[])],NE=function(t){return"<alloy.field."+t+">"},AE=function(t,e){var n,o=function(e){return kl(t)},r=function(e,n){return function(o,r){return xl(o,t,r).map((function(t){return e(t,r)})).getOr(n)}},i=function(t,e){return"true"!==mr(t.element(),"aria-hidden")},a=r(i,!1),u=r((function(t,e){if(i(t)){var n=t.element();ri(n,"display","none"),dr(n,"aria-hidden","true"),xo(t,ho(),{name:e,visible:!1})}})),s=(n=u,function(t,e){H(e,(function(e){return n(t,e)}))}),c=r((function(t,e){if(!i(t)){var n=t.element();di(n,"display"),gr(n,"aria-hidden"),xo(t,ho(),{name:e,visible:!0})}})),l={getSlotNames:o,getSlot:function(e,n){return xl(e,t,n)},isShowing:a,hideSlot:u,hideAllSlots:function(t){return s(t,o())},showSlot:c};return{uid:t.uid,dom:t.dom,components:e,behaviours:Rc(t.slotBehaviours),apis:l}},_E=rt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return Ir(t)})),DE=f(f({},_E),{sketch:function(t){var e=function(){var t=[];return{slot:function(e,n){return t.push(e),pl("container",NE(e),n)},record:function(){return t}}}(),n=t(e),o=e.record(),r=P(o,(function(t){return al({name:t,pname:NE(t)})}));return _l("container",OE,r,AE,n)}}),zE=Wt([Ae("icon"),Ae("tooltip"),He("onShow",e),He("onHide",e),He("onSetup",(function(){return e}))]),ME=function(t){return{element:function(){return t.element().dom()}}},BE=function(t,n){var o=P(et(n),(function(t){var e=oe(ne("sidebar",zE,n[t]));return{name:t,getApi:ME,onSetup:e.onSetup,onShow:e.onShow,onHide:e.onHide}}));return P(o,(function(n){var r=Ve(e);return t.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ph([Tp(n,r),Ep(n,r),No(ho(),(function(t,e){var n=e.event();j(o,(function(t){return t.name===n.name()})).each((function(e){(n.visible()?e.onShow:e.onHide)(e.getApi(t))}))}))])})}))},RE=function(t){return DE.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:BE(e,t),slotBehaviours:Ph([Io((function(t){return DE.hideAllSlots(t)}))])}}))},IE=function(t){return Fl.getCurrent(t).bind((function(t){return ck.isGrowing(t)||ck.hasGrown(t)?Fl.getCurrent(t).bind((function(t){return j(DE.getSlotNames(t),(function(e){return DE.isShowing(t,e)}))})):b.none()}))},PE=wr("FixSizeEvent"),HE=wr("AutoSizeEvent"),LE=function(t){var e=$e(t),n=Yo(e),o=function(t){var e=void 0!==t.dom().attributes?t.dom().attributes:[];return V(e,(function(t,e){var n;return"class"===e.name?t:f(f({},t),((n={})[e.name]=e.value,n))}),{})}(e),r=function(t){return Array.prototype.slice.call(t.dom().classList,0)}(e),i=0===n.length?{}:{innerHtml:ir(e)};return f({tag:ur(e),classes:r,attributes:o},i)},FE=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:LE('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:ru([Hd.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),Yd.config({})])}},VE=GT.optional({factory:EE,name:"menubar",schema:[ve("backstage")]}),jE=GT.optional({factory:{sketch:function(t){return QT.sketch({uid:t.uid,dom:t.dom,listBehaviours:ru([Hd.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Tk({type:t.type,uid:wr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],onEscape:function(){return b.none()}})},setupItem:function(t,e,n,o){_S.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[ve("dom"),ve("onEscape")]}),$E=GT.optional({factory:{sketch:function(t){return function(t){return t.type===ff.sliding?kk:t.type===ff.floating?Sk:Tk}(t)({type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),b.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,backstage:t.backstage,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes})}},name:"toolbar",schema:[ve("dom"),ve("onEscape"),ve("getSink")]}),UE=GT.optional({factory:{sketch:function(t){return{uid:t.uid,dom:t.dom,components:t.components,behaviours:ru((t.sticky?xE:kE)(t.editor,t.getSink))}}},name:"header",schema:[ve("dom")]}),WE=GT.optional({name:"socket",schema:[ve("dom")]}),qE=GT.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ru([Kv.config({}),Yd.config({}),ck.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){Fl.getCurrent(t).each(DE.hideAllSlots),yo(t,HE)},onGrown:function(t){yo(t,HE)},onStartGrow:function(t){xo(t,PE,{width:ci(t.element(),"width").getOr("")})},onStartShrink:function(t){xo(t,PE,{width:zi(t.element())+"px"})}}),$d.config({}),Fl.config({find:function(t){var e=$d.contents(t);return J(e)}})])}],behaviours:ru([px(0),Ud("sidebar-sliding-events",[No(PE,(function(t,e){ri(t.element(),"width",e.event().width())})),No(HE,(function(t,e){di(t.element(),"width")}))])])}}},name:"sidebar",schema:[ve("dom")]}),XE=GT.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ru([$d.config({})]),components:[]}}},name:"throbber",schema:[ve("dom")]}),GE=Rl({name:"OuterContainer",factory:function(t,e,n){return{uid:t.uid,dom:t.dom,components:e,apis:{getSocket:function(e){return XT.getPart(e,t,"socket")},setSidebar:function(e,n){XT.getPart(e,t,"sidebar").each((function(t){return function(t,e){Fl.getCurrent(t).each((function(t){return $d.set(t,[RE(e)])}))}(t,n)}))},toggleSidebar:function(e,n){XT.getPart(e,t,"sidebar").each((function(t){return function(t,e){Fl.getCurrent(t).each((function(t){Fl.getCurrent(t).each((function(n){ck.hasGrown(t)?DE.isShowing(n,e)?ck.shrink(t):(DE.hideAllSlots(n),DE.showSlot(n,e)):(DE.hideAllSlots(n),DE.showSlot(n,e),ck.grow(t))}))}))}(t,n)}))},whichSidebar:function(e){return XT.getPart(e,t,"sidebar").bind(IE).getOrNull()},getHeader:function(e){return XT.getPart(e,t,"header")},getToolbar:function(e){return XT.getPart(e,t,"toolbar")},setToolbar:function(e,n){XT.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){XT.getPart(e,t,"multiple-toolbar").each((function(t){QT.setItems(t,n)}))},refreshToolbar:function(e){XT.getPart(e,t,"toolbar").each((function(t){return t.getApis().refresh(t)}))},getThrobber:function(e){return XT.getPart(e,t,"throbber")},focusToolbar:function(e){XT.getPart(e,t,"toolbar").orThunk((function(){return XT.getPart(e,t,"multiple-toolbar")})).each((function(t){Hd.focusIn(t)}))},setMenubar:function(e,n){XT.getPart(e,t,"menubar").each((function(t){EE.setMenus(t,n)}))},focusMenubar:function(e){XT.getPart(e,t,"menubar").each((function(t){EE.focus(t)}))}},behaviours:t.behaviours}},configFields:[ve("dom"),ve("behaviours")],partFields:[UE,VE,$E,jE,WE,qE,XE],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var o=P(n,(function(t){return xk(t)}));t.setToolbar(e,o)},setToolbars:function(t,e,n){var o=P(n,(function(t){return P(t,xk)}));t.setToolbars(e,o)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}}),YE={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},KE=function(t){return"string"==typeof t?t.split(" "):t},JE=function(t,e){var n=f(f({},YE),e.menus),o=et(e.menus).length>0,r=KE(void 0===e.menubar||!0===e.menubar?"file edit view insert format tools table help":!1===e.menubar?"":e.menubar),i=L(r,(function(t){return o&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||YE.hasOwnProperty(t)})),a=P(i,(function(o){var r=n[o];return function(t,e,n){var o=function(t){return t.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:t.title,getItems:function(){return W(t.items,(function(t){var n=t.toLowerCase();return 0===n.trim().length?[]:R(o,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}}({title:r.title,items:KE(r.items)},e,t)}));return L(a,(function(t){return t.getItems().length>0&&R(t.getItems(),(function(t){return"separator"!==t.type}))}))},QE=function(t){var e=function(){t._skinLoaded=!0,function(t){t.fire("SkinLoaded")}(t)};return function(){t.initialized?e():t.on("init",e)}},ZE=function(t,e){var n,o=function(t){var e=t.settings,n=e.skin,o=e.skin_url;if(!1!==n){var r=n||"oxide";o=o?t.documentBaseURI.toAbsolute(o):jm.baseURL+"/skins/ui/"+r}return o}(e);o&&(n=o+"/skin.min.css",e.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css")),!1===function(t){return!1===t.getParam("skin")}(e)&&n?Vm.DOM.styleSheetLoader.load(n,QE(e),function(t,e){return function(){return function(t,e){return t.fire("SkinLoadError",e)}(t,{message:"Skin could not be loaded"})}}(e)):QE(e)()},tO=i(ZE,!1),eO=i(ZE,!0),nO=function(t,e,n,o){var r=e.outerContainer,i=n.toolbar,a=n.buttons;if(A(i,S)){var u=i.map((function(e){return VT(t,{toolbar:e,buttons:a,allowToolbarGroups:n.allowToolbarGroups},{backstage:o},b.none())}));GE.setToolbars(r,u)}else GE.setToolbar(r,VT(t,n,{backstage:o},b.none()))},oO=Vm.DOM,rO=hn(),iO=rO.os.isiOS()&&rO.os.version.major<=12,aO={render:function(e,n,o,r,i){var a=Ve(0);tO(e),function(t,e){nc(t,e,Qo)}(qe(i.targetNode),n.mothership),ec(ti(),n.uiMothership),e.on("PostRender",(function(){nO(e,n,o,r),a.set(e.getWin().innerWidth),GE.setMenubar(n.outerContainer,JE(e,o)),GE.setSidebar(n.outerContainer,o.sidebar),function(t){var e=t.getWin(),n=t.getDoc().documentElement,o=Ve(Oi(e.innerWidth,e.innerHeight)),r=Ve(Oi(n.offsetWidth,n.offsetHeight)),i=function(n){var i=t.getDoc().documentElement,a=o.get(),u=r.get();a.left()!==e.innerWidth||a.top()!==e.innerHeight?(o.set(Oi(e.innerWidth,e.innerHeight)),dg(t,n)):u.left()===i.offsetWidth&&u.top()===i.offsetHeight||(r.set(Oi(i.offsetWidth,i.offsetHeight)),dg(t,n))},a=function(e){return function(t,e){return t.fire("ScrollContent",e)}(t,e)};oO.bind(e,"resize",i),oO.bind(e,"scroll",a);var u=Yg(qe(t.getBody()),"load",i);t.on("remove",(function(){u.unbind(),oO.unbind(e,"resize",i),oO.unbind(e,"scroll",a)}))}(e)}));var u,s,c=GE.getSocket(n.outerContainer).getOrDie("Could not find expected socket element");if(!0===iO){ii(c.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var l=(u=function(){e.fire("ScrollContent")},s=null,{cancel:function(){null!==s&&(t.clearTimeout(s),s=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===s&&(s=t.setTimeout((function(){u.apply(null,e),s=null}),20))}});Gg(c.element(),"scroll",l.throttle)}vk(e,n),e.addCommand("ToggleSidebar",(function(t,o){GE.toggleSidebar(n.outerContainer,o),e.fire("ToggleSidebar")})),e.addQueryValueHandler("ToggleSidebar",(function(){return GE.whichSidebar(n.outerContainer)}));var f=th(e);return f!==ff.sliding&&f!==ff.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth;t!==a.get()&&(GE.refreshToolbar(n.outerContainer),a.set(t))})),{iframeContainer:c.element().dom(),editorContainer:n.outerContainer.element().dom()}}},uO=function(t,e,n){var o=e.filter((function(e){return t<e})),r=n.filter((function(e){return t>e}));return o.or(r).getOr(t)},sO=function(t){return/^[0-9\.]+(|px)$/i.test(""+t)?b.some(parseInt(""+t,10)):b.none()},cO=function(t){return N(t)?t+"px":t},lO=function(t){var e=Um(t),n=Wm(t),o=Xm(t);return sO(e).map((function(t){return uO(t,n,o)}))},fO=function(t,e){var n=Xi(t);return{pos:e?n.y():n.bottom(),height:n.height()}},dO={render:function(t,e,n,o,r){var i,a=e.mothership,u=e.uiMothership,s=e.outerContainer,c=Vm.DOM,l=rh(t),f=ah(t),d=qe(r.targetNode),m=Xm(t).or(lO(t)),h=th(t),p=h===ff.sliding||h===ff.floating,g=nh(t),v=Ve(fO(d,g)),b=Ve(!1);eO(t);var y=function(){u.broadcastOn([pc()],{})},x=function(t){void 0===t&&(t=!1),p&&GE.refreshToolbar(s),l||function(t){var e=p?t.fold((function(){return 0}),(function(t){return t.components().length>1?ki(t.components()[1].element()):0})):0,n=Xi(d),o=g?n.y()-ki(i.element())+e:n.bottom();ii(s.element(),{position:"absolute",top:Math.round(o)+"px",left:Math.round(n.x())+"px"});var r=m.getOrThunk((function(){var t=sO(ui(ti(),"margin-left")).getOr(0);return zi(ti())-n.x()+t}));ri(i.element(),"max-width",r+"px")}(GE.getToolbar(s)),f&&(t?pE.reset(i):pE.refresh(i)),y()},w=function(){b.set(!0),ri(s.element(),"display","flex"),c.addClass(t.getBody(),"mce-edit-focus"),di(u.element(),"display"),x()},C=function(){b.set(!1),e.outerContainer&&(ri(s.element(),"display","none"),c.removeClass(t.getBody(),"mce-edit-focus")),ri(u.element(),"display","none")},S=function(){if(i)w();else{i=GE.getHeader(s).getOrDie();var r=function(t){return oh(t).getOr(ti())}(t);ec(r,a),ec(r,u),nO(t,e,n,o),GE.setMenubar(s,JE(t,n)),w(),t.on("activate",w),t.on("deactivate",C),t.on("SkinLoaded ResizeWindow",(function(){b.get()&&x(!0)})),t.on("NodeChange keydown",(function(){Fm.requestAnimationFrame((function(){var t=fO(d,g),e=v.get();b.get()&&(t.pos!==e.pos?(x(!0),v.set(t)):t.height!==e.height&&(y(),v.set(t)))}))})),t.nodeChanged()}};return t.on("focus",S),t.on("blur hide",C),t.on("init",(function(){t.hasFocus()&&S()})),vk(t,e),{editorContainer:s.element().dom()}}},mO=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},hO=function(t,e,n){var o=function(){return!!e.undoManager&&e.undoManager[n]()},r=function(){t.setDisabled(e.mode.isReadOnly()||!o())};return t.setDisabled(!o()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",r),function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",r)}},pO=function(t,e){(function(t){Xw.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:bT(t,e.name)})})),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",onAction:function(){return t.execCommand("JustifyNone")},icon:"align-none"})})(t),function(t){(function(t){!function(t){Xw.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:bT(t,e.name),onAction:mO(t,e.name)})}));for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:bT(t,n),onAction:mO(t,n)})}}(t),function(t){Xw.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))}(t),function(t){Xw.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:bT(t,e.name)})}))}(t)})(t),function(t){Xw.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:mO(t,"code")})}(t)}(t),function(t,e){!function(t,e){var n=wT(0,e,OT(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=wT(0,e,_T(t));t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=f({type:"advanced"},e.styleselect),o=wT(0,e,IT(t,n));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})}(t,e),function(t,e){var n=wT(0,e,RT(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=wT(0,e,zT(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e)}(t,e),function(t){!function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return hO(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return hO(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t),function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return hO(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return hO(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t)}(t),Sg.register(t),function(t){!function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}(t),function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return function(t,e){t.setActive(e.hasVisual);var n=function(e){t.setActive(e.hasVisual)};return e.on("VisualAid",n),function(){return e.off("VisualAid",n)}}(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}(t)}(t),function(t){!function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return function(t,e){t.setDisabled(!e.queryCommandState("outdent"));var n=function(){t.setDisabled(!e.queryCommandState("outdent"))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}(e,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}(t)}(t)},gO=function(t,e){return{anchor:"makeshift",x:t,y:e}},vO=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},bO=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?function(t){if(vO(t)){var e=t.touches[0];return gO(e.pageX,e.pageY)}return gO(t.pageX,t.pageY)}(e):function(t,e){var n=Vm.DOM.getPos(t);return function(t,e,n){return gO(t.x+e,t.y+n)}(e,n.x,n.y)}(t.getContentAreaContainer(),function(t){if(vO(t)){var e=t.touches[0];return gO(e.clientX,e.clientY)}return gO(t.clientX,t.clientY)}(e)):yO(t)},yO=function(t){return{anchor:"selection",root:qe(t.selection.getNode())}},xO=function(t){return{anchor:"node",node:b.some(qe(t.selection.getNode())),root:qe(t.getBody())}},wO=function(t,e,n,o,r,i){var a=n(),u=function(t,e,n){return n?xO(t):bO(t,e)}(t,e,i);yw(a,Np.CLOSE_ON_EXECUTE,o,!1).map((function(t){e.preventDefault(),Nm.showMenuAt(r,u,{menu:{markers:Eg("normal")},data:t})}))},CO={onLtr:function(){return[Xa,ja,$a,Ua,Wa,qa,Hm,Lm,Im,Bm,Pm,Rm]},onRtl:function(){return[Xa,$a,ja,Wa,Ua,qa,Hm,Lm,Pm,Rm,Im,Bm]}},SO={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},kO=function(t,e,n,o,r,i){var a=hn(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),d=function(){var a=n();!function(t,e,n,o,r,i,a){var u=function(t,e,n){var o=e?xO(t):bO(t,n);return f({bubble:Lu(0,12,SO),layouts:CO,overrides:{maxWidthFunction:kS(),maxHeightFunction:Ru()}},o)}(t,i,e);yw(n,Np.CLOSE_ON_EXECUTE,o,!0).map((function(n){e.preventDefault(),Nm.showMenuWithinBounds(r,u,{menu:{markers:Eg("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return b.some(mT(t))})),t.fire("contexttoolbar-hide")}))}(t,e,a,o,r,i,!(c||u||s&&l))};if(!s&&!u||i)c&&!i&&t.selection.setCursorLocation(e.target,0),d();else{var m=function(){!function(t){var e=t.selection.getRng(),n=function(){Fm.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10),i()};t.once("touchend",n);var o=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",o,!0);var r=function(){return i()};t.once("longpresscancel",r);var i=function(){t.off("touchend",n),t.off("longpresscancel",r),t.off("mousedown",o)}}(t),d()};!function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var o=e.touches[0],r=n.getRng();return fs(t.getWin(),Zu.domRange(r)).exists((function(t){return t.left()<=o.clientX&&t.right()>=o.clientX&&t.top()<=o.clientY&&t.bottom()>=o.clientY}))}(t,e)?(t.once("selectionchange",m),t.once("touchend",(function(){return t.off("selectionchange",m)}))):m()}},TO=function(t){return"string"==typeof t?t.split(/[ ,]/):t},EO=function(t){return t.settings.contextmenu_never_use_native||!1},OO=function(t){return S(t)?"|"===t:"separator"===t.type},NO={type:"separator"},AO=function(t){if(S(t))return t;switch(t.type){case"separator":return NO;case"submenu":return{type:"nestedmenuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){var e=t.getSubmenuItems();return S(e)?e:P(e,AO)}};default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:(e=t.onAction,function(){return e()})}}var e},_O=function(t,e){if(0===e.length)return t;var n=Q(t).filter((function(t){return!OO(t)})).fold((function(){return[]}),(function(t){return[NO]}));return t.concat(n).concat(e).concat([NO])},DO=function(t,e,n){var o=hn().deviceType.isTouch,r=xi(Nm.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:ru([Ud("dismissContextMenu",[No(lo(),(function(e,n){mc.close(e),t.focus()}))])])})),i=function(t){return Nm.hide(r)},a=function(e){if(EO(t)&&e.preventDefault(),!function(t,e){return e.ctrlKey&&!EO(t)}(t,e)&&!function(t){return!1===t.getParam("contextmenu")}(t)){var i=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)}(t,e);(o()?kO:wO)(t,e,(function(){var n=i?t.selection.getStart(!0):e.target,o=t.ui.registry.getAll(),r=function(t){return function(t,e,n){var o=t.ui.registry.getAll().contextMenus;return ct(t.settings,"contextmenu").map(TO).getOrThunk((function(){return L(TO("link linkchecker image imagetools table spellchecker configurepermanentpen"),(function(t){return lt(o,t)}))}))}(t)}(t);return function(t,e,n){var o=V(e,(function(e,o){if(lt(t,o)){var r=t[o].update(n);if(S(r))return _O(e,r.split(" "));if(r.length>0){var i=P(r,AO);return _O(e,i)}return e}return e.concat([o])}),[]);return o.length>0&&OO(o[o.length-1])&&o.pop(),o}(o.contextMenus,r,n)}),n,r,i)}};t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");t.on(e,i),t.on("longpress contextmenu",a)}))},zO=dt([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),MO=function(t){return function(e){return e.translate(-t.left(),-t.top())}},BO=function(t){return function(e){return e.translate(t.left(),t.top())}},RO=function(t){return function(e,n){return V(t,(function(t,e){return e(t)}),Oi(e,n))}},IO=function(t,e,n){return t.fold(RO([BO(n),MO(e)]),RO([MO(e)]),RO([]))},PO=function(t,e,n){return t.fold(RO([BO(n)]),RO([]),RO([BO(e)]))},HO=function(t,e,n){return t.fold(RO([]),RO([MO(n)]),RO([BO(e),MO(n)]))},LO=function(t,e,n){var o=t.fold((function(t,e){return{position:b.some("absolute"),left:b.some(t+"px"),top:b.some(e+"px")}}),(function(t,e){return{position:b.some("absolute"),left:b.some(t-n.left()+"px"),top:b.some(e-n.top()+"px")}}),(function(t,e){return{position:b.some("fixed"),left:b.some(t+"px"),top:b.some(e+"px")}}));return f({right:b.none(),bottom:b.none()},o)},FO=function(t,e,n,o){var r=function(t,r){return function(i,a){var u=t(e,n,o);return r(i.getOr(u.left()),a.getOr(u.top()))}};return t.fold(r(HO,VO),r(PO,jO),r(IO,$O))},VO=zO.offset,jO=zO.absolute,$O=zO.fixed,UO=function(t,e,n,r){return tt(t,(function(t){var i=t.sensor();return function(t,e,n,o,r,i){var a=PO(t,r,i),u=PO(e,r,i);return Math.abs(a.left()-u.left())<=n&&Math.abs(a.top()-u.top())<=o}(e,i,t.range().left(),t.range().top(),n,r)?b.some({output:o(FO(t.output(),e,n,r)),extra:t.extra}):b.none()}))},WO=function(t,e,n,r,i){var a=e.getSnapPoints(t);return UO(a,n,r,i).orThunk((function(){return V(a,(function(t,e){var o=e.sensor(),a=function(t,e,n,o,r,i){var a=PO(t,r,i),u=PO(e,r,i),s=Math.abs(a.left()-u.left()),c=Math.abs(a.top()-u.top());return Oi(s,c)}(n,o,e.range().left(),e.range().top(),r,i);return t.deltas.fold((function(){return{deltas:b.some(a),snap:b.some(e)}}),(function(n){return(a.left()+a.top())/2<=(n.left()+n.top())/2?{deltas:b.some(a),snap:b.some(e)}:t}))}),{deltas:b.none(),snap:b.none()}).snap.map((function(t){return{output:o(FO(t.output(),n,r,i)),extra:t.extra}}))}))},qO=function(t,e,n,o,r){var i=e.getSnapPoints(t);return UO(i,n,o,r)},XO=Object.freeze({__proto__:null,snapTo:function(t,e,n,o){var r=e.getTarget(t.element());if(e.repositionTarget){var i=Uo(t.element()),a=Pi(i),u=tE(r),s=function(t,e,n){return{coord:FO(t.output(),t.output(),e,n),extra:t.extra()}}(o,a,u),c=LO(s.coord,0,u);ai(r,c)}}}),GO=function(t,e){t.getSystem().addToGui(e),function(t){Xo(t.element()).filter(cr).each((function(e){ci(e,"z-index").each((function(t){dr(e,"data-initial-z-index",t)})),ri(e,"z-index",ui(t.element(),"z-index"))}))}(e)},YO=function(t){!function(t){Xo(t.element()).filter(cr).each((function(t){var e=mr(t,"data-initial-z-index");pr(t,"data-initial-z-index")?ri(t,"z-index",e):di(t,"z-index"),gr(t,"data-initial-z-index")}))}(t),t.getSystem().removeFromGui(t)},KO=function(t,e,n){return t.getSystem().build(cv.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},JO=De("snaps",[ve("getSnapPoints"),ba("onSensor"),ve("leftAttr"),ve("topAttr"),ze("lazyViewport",Yi),ze("mustSnap",!1)]),QO=[ze("useFixed",s),ve("blockerClass"),ze("getTarget",r),ze("onDrag",e),ze("repositionTarget",!0),ze("onDrop",e),He("getBounds",Yi),JO],ZO=function(t,e){return{bounds:t.getBounds(),height:Ti(e.element()),width:Mi(e.element())}},tN=function(t,e,n,o,r){var i=n.update(o,r),a=n.getStartData().getOrThunk((function(){return ZO(e,t)}));i.each((function(n){!function(t,e,n,o){var r=e.getTarget(t.element());if(e.repositionTarget){var i=Uo(t.element()),a=Pi(i),u=tE(r),s=function(t){return(e=ci(t,"left"),n=ci(t,"top"),o=ci(t,"position"),r=function(t,e,n){return("fixed"===n?$O:VO)(parseInt(t,10),parseInt(e,10))},e.isSome()&&n.isSome()&&o.isSome()?b.some(r(e.getOrDie(),n.getOrDie(),o.getOrDie())):b.none()).getOrThunk((function(){var e=Ai(t);return jO(e.left(),e.top())}));var e,n,o,r}(r),c=function(t,e,n,o,r,i,a){return function(t,e,n,o,r){var i=r.bounds,a=PO(e,n,o),u=Au(a.left(),i.x(),i.x()+i.width()-r.width),s=Au(a.top(),i.y(),i.y()+i.height()-r.height),c=jO(u,s);return e.fold((function(){var t=HO(c,n,o);return VO(t.left(),t.top())}),(function(){return c}),(function(){var t=IO(c,n,o);return $O(t.left(),t.top())}))}(0,e.fold((function(){var t,e,a,u=(t=n,e=i.left(),a=i.top(),t.fold((function(t,n){return VO(t+e,n+a)}),(function(t,n){return jO(t+e,n+a)}),(function(t,n){return $O(t+e,n+a)}))),s=IO(u,o,r);return $O(s.left(),s.top())}),(function(e){var a=function(t,e,n,o,r,i){var a=function(t,e,n,o){return function(t,e){var n=t.element(),o=parseInt(mr(n,e.leftAttr),10),r=parseInt(mr(n,e.topAttr),10);return isNaN(o)||isNaN(r)?b.none():b.some(Oi(o,r))}(t,e).fold((function(){return n}),(function(t){return $O(t.left()+o.left(),t.top()+o.top())}))}(t,e,n,o),u=e.mustSnap?WO(t,e,a,r,i):qO(t,e,a,r,i),s=IO(a,r,i);return function(t,e,n){var o=t.element();dr(o,e.leftAttr,n.left()+"px"),dr(o,e.topAttr,n.top()+"px")}(t,e,s),u.fold((function(){return{coord:$O(s.left(),s.top()),extra:b.none()}}),(function(t){return{coord:t.output(),extra:t.extra()}}))}(t,e,n,i,o,r);return a.extra.each((function(n){e.onSensor(t,n)})),a.coord})),o,r,a)}(t,e.snaps,s,a,u,o,n),l=LO(c,0,u);ai(r,l)}e.onDrag(t,r,o)}(t,e,a,n)}))},eN=function(t,e,n,o){e.each(YO),n.snaps.each((function(e){!function(t,e){!function(t,e){var n=t.element();gr(n,e.leftAttr),gr(n,e.topAttr)}(t,e)}(t,e)}));var r=n.getTarget(t.element());o.reset(),n.onDrop(t,r)},nN=function(t){return function(e,n){var o=function(t){n.setStartData(ZO(e,t))};return To(m([No(ao(),(function(t){n.getStartData().each((function(){return o(t)}))}))],t(e,n,o)))}},oN=Object.freeze({__proto__:null,getData:function(t){return b.from(Oi(t.x(),t.y()))},getDelta:function(t,e){return Oi(e.left()-t.left(),e.top()-t.top())}}),rN=function(t,e,n){return[No(zn(),(function(o,r){if(0===r.event().raw().button){r.stop();var i=function(){return eN(o,b.some(u),t,e)},a=Qg(i,200),u=KO(o,t.blockerClass,(s={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),tN(o,t,e,oN,n)}},To([No(zn(),s.forceDrop),No(Rn(),s.drop),No(Mn(),(function(t,e){s.move(e.event())})),No(Bn(),s.delayDrop)])));n(o),GO(o,u)}var s}))]},iN=m(QO,[Ca("dragger",{handlers:nN(rN)})]),aN=Object.freeze({__proto__:null,getData:function(t){var e=t.raw().touches;return 1===e.length?function(t){var e=t[0];return b.some(Oi(e.clientX,e.clientY))}(e):b.none()},getDelta:function(t,e){return Oi(e.left()-t.left(),e.top()-t.top())}}),uN=function(t,e,n){var o=Ve(b.none());return[No(Nn(),(function(r,i){i.stop();var a,u=function(){eN(r,o.get(),t,e),o.set(b.none())},s=KO(r,t.blockerClass,(a={drop:u,delayDrop:function(){},forceDrop:u,move:function(n){tN(r,t,e,aN,n)}},To([No(Nn(),a.forceDrop),No(_n(),a.drop),No(Dn(),a.drop),No(An(),(function(t,e){a.move(e.event())}))])));o.set(b.some(s)),n(r),GO(r,s)})),No(An(),(function(n,o){o.stop(),tN(n,t,e,aN,o.event())})),No(_n(),(function(n,r){r.stop(),eN(n,o.get(),t,e),o.set(b.none())})),No(Dn(),(function(n){eN(n,o.get(),t,e),o.set(b.none())}))]},sN=m(QO,[Ca("dragger",{handlers:nN(uN)})]),cN=m(QO,[Ca("dragger",{handlers:nN((function(t,e,n){return m(rN(t,e,n),uN(t,e,n))}))})]),lN=Object.freeze({__proto__:null,mouse:iN,touch:sN,mouseOrTouch:cN}),fN=Object.freeze({__proto__:null,init:function(){var t=b.none(),e=b.none(),n=o({});return Hr({readState:n,reset:function(){t=b.none(),e=b.none()},update:function(e,n){return e.getData(n).bind((function(n){return function(e,n){var o=t.map((function(t){return e.getDelta(t,n)}));return t=b.some(n),o}(e,n)}))},getStartData:function(){return e},setStartData:function(t){e=b.some(t)}})}}),dN=su({branchKey:"mode",branches:lN,name:"dragging",active:{events:function(t,e){return t.dragger.handlers(t,e)}},extra:{snap:$o(["sensor","range","output"],["extra"])},state:fN,apis:XO}),mN=hn(),hN=function(t,e,n,o,r,i){return t.fold((function(){return dN.snap({sensor:jO(n-20,o-20),range:Oi(r,i),output:jO(b.some(n),b.some(o)),extra:{td:e}})}),(function(t){var r=n-20,i=o-20,a=t.element().dom().getBoundingClientRect();return dN.snap({sensor:jO(r,i),range:Oi(40,40),output:jO(b.some(n-a.width/2),b.some(o-a.height/2)),extra:{td:e}})}))},pN=function(t,e,n){return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var r=o.td;(function(t,e){return t.exists((function(t){return Cn(t,e)}))})(e.get(),r)||(e.set(b.some(r)),n(r))},mustSnap:!0}},gN=function(t){return sh(uh.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ru([dN.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),bb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))};!function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"}(ST||(ST={}));var vN,bN=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},yN=function(t,e){return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var n=function(){var n,o=[];return t.getParam("elementpath",!0,"boolean")&&o.push(function(t,e){return e.delimiter||(e.delimiter="\xbb"),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ru([Hd.config({mode:"flow",selector:"div[role=button]"}),Kv.config({}),$d.config({}),Ud("elementPathEvents",[Io((function(n,o){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Hd.focusIn(n)})),t.on("NodeChange",(function(o){var r,i,a=function(e){for(var n=[],o=e.length;o-- >0;){var r=e[o];if(1===r.nodeType&&!bN(r)){var i=t.fire("ResolveName",{name:r.nodeName.toLowerCase(),target:r});if(i.isDefaultPrevented()||n.push({name:i.name,element:r}),i.isPropagationStopped())break}}return n}(o.parents);$d.set(n,a.length>0?(r=P(a||[],(function(e,n){return uh.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":n,"tab-index":-1,"aria-level":n+1},innerHtml:e.name},action:function(n){t.focus(),t.selection.select(e.element),t.nodeChanged()}})})),i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+e.delimiter+" "}},V(r.slice(1),(function(t,e){var n=t;return n.push(i),n.push(e),n}),[r[0]])):[])}))}))])]),components:[]}}(t,{})),un(t.settings.plugins,"wordcount")&&o.push(function(t,e){var n=function(t,n,o){return $d.set(t,[vi(e.translate(["{0} "+o,n[o]]))])};return uh.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ru([Kv.config({}),$d.config({}),Mc.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ud("wordcount-events",[Lo((function(t){var e=Mc.getValue(t),o="words"===e.mode?"characters":"words";Mc.setValue(t,{mode:o,count:e.count}),n(t,e.count,o)})),Io((function(e){t.on("wordCountUpdate",(function(t){var o=Mc.getValue(e).mode;Mc.setValue(e,{mode:o,count:t.wordCount}),n(e,t.wordCount,o)}))}))])])})}(t,e)),t.getParam("branding",!0,"boolean")&&o.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=qh.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),o.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:o}]:[]}(),o=function(t){var e=!un(t.settings.plugins,"autoresize"),n=t.getParam("resize",e);return!1===n?ST.None:"both"===n?ST.Both:ST.Vertical}(t);return o!==ST.None&&n.push(function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-hidden":"true"},innerHtml:lh("resize-handle",e.icons)},behaviours:ru([dN.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,o,r){!function(t,e,n){var o=qe(t.getContainer()),r=function(t,e,n,o,r){var i={};return i.height=uO(o+e.top(),qm(t),Gm(t)),n===ST.Both&&(i.width=uO(r+e.left(),Wm(t),Xm(t))),i}(t,e,n,ki(o),zi(o));ot(r,(function(t,e){return ri(o,e,cO(t))})),function(t){t.fire("ResizeEditor")}(t)}(t,r,n)},blockerClass:"tox-blocker"})])}}(o)),n}()}},xN=function(e){var n,o=e.inline,r=o?dO:aO,i=ah(e)?wE:TE,a=b.none(),u=hn(),s=u.browser.isIE()?["tox-platform-ie"]:[],c=u.deviceType.isTouch()?["tox-platform-touch"]:[],l=nh(e),d=qh.isRtl()?{attributes:{dir:"rtl"}}:{},m={attributes:(n={},n[Uu]=l?aa.TopToBottom:aa.BottomToTop,n)},h=function(){return a.bind(GE.getHeader)},p=xi({dom:f({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(s).concat(c)},d),behaviours:ru([Ws.config({useFixed:function(){return i.isDocked(h)}})])}),g=function(){return w.value(p)},v=sh({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return a.bind((function(t){return GE.getThrobber(t)})).getOrDie("Could not find throbber element")},x=function(t,e,n){var o=Ve(!1),r={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:qh.translate},interpreter:function(t){return function(t,e){return MC(DC,t,e)}(t,r)},anchors:LC(e,(function(){return a.bind((function(t){return v.getOpt(t)})).getOrDie("Could not find a anchor bar element")})),getSink:function(){return w.value(t)}},urlinput:SS(e),styleselect:QC(e),colorinput:UC(e),dialog:qC(e),isContextMenuOpen:function(){return o.get()},setContextMenuState:function(t){return o.set(t)}};return r}(p,e),C=GE.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:x,onEscape:function(){e.focus()}}),S=th(e),k=GE.parts().toolbar(f({dom:{tag:"div",classes:["tox-toolbar"]},getSink:g,backstage:x,onEscape:function(){e.focus()},type:S,lazyToolbar:function(){return a.bind((function(t){return GE.getToolbar(t)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return h().getOrDie("Could not find header element")}},m)),T=GE.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},onEscape:function(){},type:S}),E=GE.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),O=GE.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),A=GE.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:x}),_=e.getParam("statusbar",!0,"boolean")&&!o?b.some(yN(e,x.shared.providers)):b.none(),D={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[E,O]},z=Qm(e),M=Km(e),B=Ym(e),R=GE.parts().header({dom:f({tag:"div",classes:["tox-editor-header"]},m),components:U([B?[C]:[],z?[T]:M?[k]:[],rh(e)?[]:[v.asSpec()]]),sticky:ah(e),editor:e,getSink:g}),I=U([l?[R]:[],o?[]:[D],l?[]:[R]]),L=U([[{dom:{tag:"div",classes:["tox-editor-container"]},components:I}],o?[]:_.toArray(),[A]]),F=ih(e),V=f(f({role:"application"},qh.isRtl()?{dir:"rtl"}:{}),F?{"aria-hidden":"true"}:{}),j=xi(GE.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(l?[]:["tox-tinymce--toolbar-bottom"]).concat(c).concat(s),styles:f({visibility:"hidden"},F?{opacity:"0",border:"0"}:{}),attributes:V},components:L,behaviours:ru([Hd.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));a=b.some(j),e.shortcuts.add("alt+F9","focus menubar",(function(){GE.focusMenubar(j)})),e.shortcuts.add("alt+F10","focus toolbar",(function(){GE.focusToolbar(j)}));var $=lv(j),W=lv(p);!function(e,n,o){var r=function(t,e){H([n,o],(function(n){n.broadcastEvent(t,e)}))},i=function(t,e){H([n,o],(function(n){n.broadcastOn([t],e)}))},a=function(t){return i(hc(),{target:t.target()})},u=Gg(qe(t.document),"touchstart",a),s=Gg(qe(t.document),"touchmove",(function(t){return r(ro(),t)})),c=Gg(qe(t.document),"touchend",(function(t){return r(io(),t)})),l=Gg(qe(t.document),"mousedown",a),f=Gg(qe(t.document),"mouseup",(function(t){0===t.raw().button&&i(gc(),{target:t.target()})})),d=function(t){return i(hc(),{target:qe(t.target)})},m=function(t){0===t.button&&i(gc(),{target:qe(t.target)})},h=function(t){return r(ao(),Kg(t))},p=function(t){i(pc(),{}),r(uo(),Kg(t))},g=function(){return i(pc(),{})};e.on("PostRender",(function(){e.on("click",d),e.on("tap",d),e.on("mouseup",m),e.on("ScrollWindow",h),e.on("ResizeWindow",p),e.on("ResizeEditor",g)})),e.on("remove",(function(){e.off("click",d),e.off("tap",d),e.off("mouseup",m),e.off("ScrollWindow",h),e.off("ResizeWindow",p),e.off("ResizeEditor",g),l.unbind(),u.unbind(),s.unbind(),c.unbind(),f.unbind()})),e.on("detach",(function(){oc(n),oc(o),n.destroy(),o.destroy()}))}(e,$,W);return{mothership:$,uiMothership:W,backstage:x,renderUI:function(){i.setup(e,h),pO(e,x),DO(e,g,x),function(t){var e=t.ui.registry.getAll().sidebars;H(et(e),(function(n){var o=e[n],r=function(){return b.from(t.queryCommandValue("ToggleSidebar")).is(n)};t.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",!1,n),e.setActive(r())},onSetup:function(e){var n=function(){return e.setActive(r())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})}))}(e),function(t,e,n){var o=Ve(!1),r=Ve(b.none()),i=function(t){t!==o.get()&&(function(t,e,n){var o=t.element();!0===e?($d.set(t,[FE(n)]),di(o,"display"),gr(o,"aria-hidden")):($d.set(t,[]),ri(o,"display","none"),dr(o,"aria-hidden","true"))}(e(),t,n.providers),o.set(t))};t.on("ProgressState",(function(e){if(r.get().each(Fm.clearTimeout),N(e.time)){var n=Fm.setEditorTimeout(t,(function(){return i(e.state)}),e.time);r.set(b.some(n))}else i(e.state),r.set(b.none())}))}(e,y,x.shared),rt(function(t){return t.getParam("toolbar_groups",{},"object")}(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}));var t=e.ui.registry.getAll(),n=t.buttons,o=t.menuItems,a=t.contextToolbars,u=t.sidebars,s=Jm(e),c={menuItems:o,menus:e.settings.menu?rt(e.settings.menu,(function(t){return f(f({},t),{items:t.items})})):{},menubar:e.settings.menubar,toolbar:s.getOrThunk((function(){return e.getParam("toolbar",!0)})),allowToolbarGroups:S===ff.floating,buttons:n,sidebar:u};qT(e,a,p,{backstage:x}),function(t,e){var n=Ve([]),o=Ve([]),r=Ve(!1),i=Ve(b.none()),a=Ve(b.none()),u=function(t){var n=Gi(t);return hN(f.getOpt(e),t,n.x(),n.y(),n.width(),n.height())},s=function(t){var n=Gi(t);return hN(d.getOpt(e),t,n.right(),n.bottom(),n.width(),n.height())},c=pN((function(){return P(n.get(),(function(t){return u(t)}))}),i,(function(e){a.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))})),l=pN((function(){return P(o.get(),(function(t){return s(t)}))}),a,(function(e){i.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))})),f=gN(c),d=gN(l),m=xi(f.asSpec()),h=xi(d.asSpec()),p=function(e,n,o,r){var i=o(n);dN.snapTo(e,i),function(e,n,o,i){var a=n.dom().getBoundingClientRect();di(e.element(),"display");var u=qo(qe(t.getBody())).dom().innerHeight,s=function(t){return t[r]<0}(a),c=function(t,e){return t[r]>e}(a,u);(s||c)&&ri(e.element(),"display","none")}(e,n)},g=function(t){return p(m,t,u,"top")},v=function(t){return p(h,t,s,"bottom")};mN.deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){r.get()||(Ks(e,m),Ks(e,h),r.set(!0)),i.set(b.some(t.start)),a.set(b.some(t.finish)),t.otherCells.each((function(e){n.set(e.upOrLeftCells),o.set(e.downOrRightCells),g(t.start),v(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(g),a.get().each(v)})),t.on("TableSelectionClear",(function(){r.get()&&(Zs(m),Zs(h),r.set(!1)),i.set(b.none()),a.set(b.none())})))}(e,p);var l,d,m=e.getElement(),v=(l=cO(function(t){return function(t){var e=$m(t),n=qm(t),o=Gm(t);return sO(e).map((function(t){return uO(t,n,o)}))}(t).getOr($m(t))}(e)),d=cO(function(t){return lO(t).getOr(Um(t))}(e)),e.inline||(fi("div","width",d)&&ri(j.element(),"width",d),fi("div","height",l)?ri(j.element(),"height",l):ri(j.element(),"height","200px")),l);return r.render(e,{mothership:$,uiMothership:W,outerContainer:j},c,x,{targetNode:m,height:v})},getUi:function(){return{channels:{broadcastAll:W.broadcast,broadcastOn:W.broadcastOn,register:function(){}}}}}},wN=o([ve("lazySink"),Ee("dragBlockClass"),He("getBounds",Yi),ze("useTabstopAt",o(!0)),ze("eventOrder",{}),Bc("modalBehaviours",[Hd]),ya("onExecute"),wa("onEscape")]),CN={sketch:r},SN=o([sl({name:"draghandle",overrides:function(t,e){return{behaviours:ru([dN.config({mode:"mouse",getTarget:function(t){return ea(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),al({schema:[ve("dom")],name:"title"}),al({factory:CN,schema:[ve("dom")],name:"close"}),al({factory:CN,schema:[ve("dom")],name:"body"}),sl({factory:CN,schema:[ve("dom")],name:"footer"}),ul({factory:{sketch:function(t,e){return f(f({},t),{dom:e.dom,components:e.components})}},schema:[ze("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ze("components",[])],name:"blocker"})]),kN=Rl({name:"ModalDialog",configFields:wN(),partFields:SN(),factory:function(t,e,n,o){var i=wr("alloy.dialog.busy"),a=wr("alloy.dialog.idle"),u=ru([Hd.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),Yd.config({})]),s=wr("modal-events"),c=f(f({},t.eventOrder),{"alloy.system.attached":[s].concat(t.eventOrder["alloy.system.attached"]||[])});return{uid:t.uid,dom:t.dom,components:e,apis:{show:function(e){var n=t.lazySink(e).getOrDie(),r=Ve(b.none()),s=o.blocker(),c=n.getSystem().build(f(f({},s),{components:s.components.concat([wi(e)]),behaviours:ru([Yd.config({}),Ud("dialog-blocker-events",[Ro(Pn(),(function(){Hd.focusIn(e)})),No(a,(function(t,n){pr(e.element(),"aria-busy")&&(gr(e.element(),"aria-busy"),r.get().each((function(t){return $d.remove(e,t)})))})),No(i,(function(t,n){dr(e.element(),"aria-busy","true");var o=n.event().getBusySpec();r.get().each((function(t){$d.remove(e,t)}));var i=o(e,u),a=t.getSystem().build(i);r.set(b.some(a)),$d.append(e,wi(a)),a.hasConfigured(Hd)&&Hd.focusIn(a)}))])])}));Ks(n,c),Hd.focusIn(e)},hide:function(t){Xo(t.element()).each((function(e){t.getSystem().getByDom(e).each((function(t){Zs(t)}))}))},getBody:function(e){return wl(e,t,"body")},getFooter:function(e){return wl(e,t,"footer")},setIdle:function(t){yo(t,a)},setBusy:function(t,e){xo(t,i,{getBusySpec:e})}},eventOrder:c,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ic(t.modalBehaviours,[$d.config({}),Hd.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Ud(s,[Io((function(e){var n,o,i,a,u,s;a=e.element(),u=wl(e,t,"title").element(),s=b.from(mr(a,"id")).fold((function(){var t=wr("dialog-label");return dr(u,"id",t),t}),r),dr(a,"aria-labelledby",s),n=e.element(),o=wl(e,t,"body").element(),i=b.from(mr(n,"id")).fold((function(){var t=wr("dialog-describe");return dr(o,"id",t),t}),r),dr(n,"aria-describedby",i)}))])])}},apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),TN=[xe("type"),xe("text"),we("level",["info","warn","error","success"]),xe("icon"),ze("url","")],EN=Wt(TN),ON=[xe("type"),xe("text"),Pe("disabled",!1),Pe("primary",!1),Kt("name","name",_t((function(){return wr("button-name")})),fe),Ae("icon"),Pe("borderless",!1)],NN=Wt(ON),AN=[xe("type"),xe("name"),xe("label"),Pe("disabled",!1)],_N=Wt(AN),DN=de,zN=[xe("type"),xe("name")],MN=zN.concat([Ae("label")]),BN=Wt(MN),RN=fe,IN=Wt(MN),PN=fe,HN=Wt(MN),LN=qt(Qt),FN=function(t){return[xe("type"),ye("columns"),t]},VN=MN.concat([Pe("sandboxed",!0)]),jN=Wt(VN),$N=fe,UN=MN.concat([Ae("inputMode"),Ae("placeholder"),Pe("maximized",!1),Pe("disabled",!1)]),WN=Wt(UN),qN=fe,XN=MN.concat([ke("items",[xe("text"),xe("value")]),Be("size",1),Pe("disabled",!1)]),GN=Wt(XN),YN=fe,KN=MN.concat([Pe("constrain",!0),Pe("disabled",!1)]),JN=Wt(KN),QN=Wt([xe("width"),xe("height")]),ZN=MN.concat([Ae("placeholder"),Pe("maximized",!1),Pe("disabled",!1)]),tA=Wt(ZN),eA=fe,nA=MN.concat([Ie("filetype","file",["image","media","file"]),ze("disabled",!1)]),oA=Wt(nA),rA=Wt([xe("value"),ze("meta",{})]),iA=zN.concat([Re("tag","textarea"),xe("scriptId"),xe("scriptUrl"),Me("settings",void 0,pe)]),aA=zN.concat([Re("tag","textarea"),Ce("init")]),uA=te((function(t){return ne("customeditor.old",Ut(aA),t).orThunk((function(){return ne("customeditor.new",Ut(iA),t)}))})),sA=fe,cA=[xe("type"),xe("html"),Ie("presets","presentation",["presentation","document"])],lA=Wt(cA),fA=MN.concat([be("currentState",Wt([ve("blob"),xe("url")]))]),dA=Wt(fA),mA=MN.concat([ze("columns","auto")]),hA=Wt(mA),pA=Zt([xe("value"),xe("text"),xe("icon")]),gA=function(t){return[xe("type"),xe("label"),t]},vA=[xe("type"),Te("header",fe),Te("cells",qt(fe))],bA=Wt(vA),yA=function(t){return Kt("items","items",Nt(),qt(te((function(e){return ne("Checking item of "+t,xA,e).fold((function(t){return w.error(ie(t))}),(function(t){return w.value(t)}))}))))},xA=(vN=function(){return ae("type",{alertbanner:EN,bar:Wt((t=yA("bar"),[xe("type"),t])),button:NN,checkbox:_N,colorinput:BN,colorpicker:IN,dropzone:HN,grid:Wt(FN(yA("grid"))),iframe:jN,input:WN,selectbox:GN,sizeinput:JN,textarea:tA,urlinput:oA,customeditor:uA,htmlpanel:lA,imagetools:dA,collection:hA,label:Wt(gA(yA("label"))),table:bA,panel:CA});var t},{extract:function(t,e,n){return vN().extract(t,e,n)},toString:function(){return vN().toString()}}),wA=[xe("type"),ze("classes",[]),Te("items",xA)],CA=Wt(wA),SA=[Kt("name","name",_t((function(){return wr("tab-name")})),fe),xe("title"),Te("items",xA)],kA=[xe("type"),ke("tabs",SA)],TA=Wt(kA),EA=Wt([xe("type"),xe("name")].concat(_h)),OA=de,NA=[Kt("name","name",_t((function(){return wr("button-name")})),fe),Ae("icon"),Ie("align","end",["start","end"]),Pe("primary",!1),Pe("disabled",!1)],AA=m(NA,[xe("text")]),_A=m([we("type",["submit","cancel","custom"])],AA),DA=m([we("type",["menu"]),Ae("text"),Ae("tooltip"),Ae("icon"),Te("items",EA)],NA),zA=AA,MA=ue("type",{submit:_A,cancel:_A,custom:_A,menu:DA}),BA=Wt([xe("title"),be("body",ae("type",{panel:CA,tabpanel:TA})),Re("size","normal"),Te("buttons",MA),ze("initialData",{}),He("onAction",e),He("onChange",e),He("onSubmit",e),He("onClose",e),He("onCancel",e),ze("onTabChange",e)]),RA=function(t){return k(t)?[t].concat(W(st(t),RA)):T(t)?W(t,RA):[]},IA=function(t){return S(t.type)&&S(t.name)},PA={checkbox:DN,colorinput:RN,colorpicker:PN,dropzone:LN,input:qN,iframe:$N,sizeinput:QN,selectbox:YN,size:QN,textarea:eA,urlinput:rA,customeditor:sA,collection:pA,togglemenuitem:OA},HA=function(t){var e=function(t){return L(RA(t),IA)}(t),n=W(e,(function(t){return function(t){return b.from(PA[t.type])}(t).fold((function(){return[]}),(function(e){return[be(t.name,e)]}))}));return Wt(n)},LA=Wt(m([we("type",["cancel","custom"])],zA)),FA=Wt([xe("title"),xe("url"),Ne("height"),Ne("width"),function(t,e){return Oe("buttons",qt(e))}(0,LA),He("onAction",e),He("onCancel",e),He("onClose",e),He("onMessage",e)]),VA=function(t){return{internalDialog:oe(ne("dialog",BA,t)),dataValidator:HA(t),initialData:t.initialData}},jA={open:function(t,e){var n=VA(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){return t(oe(ne("dialog",FA,e)))},redial:function(t){return VA(t)}},$A=function(t){var e=[],n={};return ot(t,(function(t,o){t.fold((function(){e.push(o)}),(function(t){n[o]=t}))})),e.length>0?w.error(e):w.value(n)},UA=function(e,n){var o,r=sh(cx.sketch((function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:P(e.items,(function(e){return zC(t,e,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:ru([Hd.config({mode:"acyclic",useTabstopAt:a(Nx)}),(o=r,Fl.config({find:o.getOpt})),wx(r,{postprocess:function(e){return $A(e).fold((function(e){return t.console.error(e),{}}),(function(t){return t}))}})])}},WA=Bl({name:"TabButton",configFields:[ze("uid",void 0),ve("value"),Kt("dom","dom",Dt((function(){return{attributes:{role:"tab",id:wr("aria"),"aria-selected":"false"}}})),se()),Ee("action"),ze("domModification",{}),Bc("tabButtonBehaviours",[Yd,Hd,Mc]),ve("view")],factory:function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:cm(t.action),behaviours:Ic(t.tabButtonBehaviours,[Yd.config({}),Hd.config({mode:"execution",useSpace:!0,useEnter:!0}),Mc.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}}),qA=o([ve("tabs"),ve("dom"),ze("clickToDismiss",!1),Bc("tabbarBehaviours",[Kl,Hd]),ga(["tabClass","selectedClass"])]),XA=cl({factory:WA,name:"tabs",unit:"tab",overrides:function(t){var n=function(t,e){Kl.dehighlight(t,e),xo(t,go(),{tabbar:t,button:e})},o=function(t,e){Kl.highlight(t,e),xo(t,po(),{tabbar:t,button:e})};return{action:function(r){var i=r.getSystem().getByUid(t.uid).getOrDie(),a=Kl.isHighlighted(i,r);(a&&t.clickToDismiss?n:a?e:o)(i,r)},domModification:{classes:[t.markers.tabClass]}}}}),GA=o([XA]),YA=Rl({name:"Tabbar",configFields:qA(),partFields:GA(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ic(t.tabbarBehaviours,[Kl.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){dr(e.element(),"aria-selected","true")},onDehighlight:function(t,e){dr(e.element(),"aria-selected","false")}}),Hd.config({mode:"flow",getInitial:function(t){return Kl.getHighlighted(t).map((function(t){return t.element()}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}}}),KA=Bl({name:"Tabview",configFields:[Bc("tabviewBehaviours",[$d])],factory:function(t,e){return{uid:t.uid,dom:t.dom,behaviours:Ic(t.tabviewBehaviours,[$d.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),JA=o([ze("selectFirst",!0),ba("onChangeTab"),ba("onDismissTab"),ze("tabs",[]),Bc("tabSectionBehaviours",[])]),QA=al({factory:YA,schema:[ve("dom"),Se("markers",[ve("tabClass"),ve("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),ZA=al({factory:KA,name:"tabview"}),t_=o([QA,ZA]),e_=Rl({name:"TabSection",configFields:JA(),partFields:t_(),factory:function(t,e,n,o){var r=function(e,n){xl(e,t,"tabbar").each((function(t){n(t).each(wo)}))};return{uid:t.uid,dom:t.dom,components:e,behaviours:Rc(t.tabSectionBehaviours),events:To(U([t.selectFirst?[Io((function(t,e){r(t,Kl.getFirst)}))]:[],[No(po(),(function(e,n){var o,r;o=n.event().button(),r=Mc.getValue(o),xl(o,t,"tabview").each((function(e){j(t.tabs,(function(t){return t.value===r})).each((function(n){var r=n.view();hr(o.element(),"id").each((function(t){dr(e.element(),"aria-labelledby",t)})),$d.set(e,r),t.onChangeTab(e,o,r)}))}))})),No(go(),(function(e,n){var o=n.event().button();t.onDismissTab(e,o)}))]])),apis:{getViewItems:function(e){return xl(e,t,"tabview").map((function(t){return $d.contents(t)})).getOr([])},showTab:function(t,e){r(t,(function(t){var n=Kl.getCandidates(t);return j(n,(function(t){return Mc.getValue(t)===e})).filter((function(e){return!Kl.isHighlighted(t,e)}))}))}}}},apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),n_=function(t,e){ri(t,"height",e+"px"),hn().browser.isIE()?di(t,"flex-basis"):ri(t,"flex-basis",e+"px")},o_=function(e,n,o){ea(e,'[role="dialog"]').each((function(e){na(e,'[role="tablist"]').each((function(r){o.get().map((function(o){return ri(n,"height","0"),ri(n,"flex-basis","0"),Math.min(o,function(e,n,o){var r,i=Wo(e).dom(),a=ea(e,".tox-dialog-wrap").getOr(e);r="fixed"===ui(a,"position")?Math.max(i.clientHeight,t.window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var u=ki(n),s=n.dom().offsetLeft>=o.dom().offsetLeft+zi(o)?Math.max(ki(o),u):u,c=parseInt(ui(e,"margin-top"),10)||0,l=parseInt(ui(e,"margin-bottom"),10)||0;return r-(ki(e)+c+l-s)}(e,n,r))})).each((function(t){n_(n,t)}))}))}))},r_=function(t){return na(t,'[role="tabpanel"]')},i_=function(t,e){var n=Ve({}),o=function(t){var e=Mc.getValue(t),o=$A(e).getOr({}),r=n.get(),i=pt(r,o);n.set(i)},r=function(t){var e=n.get();Mc.setValue(t,e)},i=Ve(null),u=P(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[cx.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:P(t.items,(function(t){return zC(n,t,e)})),formBehaviours:ru([Hd.config({mode:"acyclic",useTabstopAt:a(Nx)}),Ud("TabView.form.events",[Io(r),Po(o)]),du.config({channels:Rt([{key:"send-data-to-section",value:{onReceive:o}},{key:"send-data-to-view",value:{onReceive:r}}])})])}}))]}}})),s=function(t){var e;return{smartTabHeight:(e=Ve(b.none()),{extraEvents:[Io((function(n){var o=n.element();r_(o).each((function(r){ri(r,"visibility","hidden"),n.getSystem().getByDom(r).toOption().each((function(n){var o,i=(o=function(t,e,n){return P(t,(function(o,r){$d.set(n,t[r].view());var i=e.dom().getBoundingClientRect();return $d.set(n,[]),i.height}))}(t,r,n),J(K(o,(function(t,e){return t>e?-1:t<e?1:0}))));e.set(i)})),o_(o,r,e),di(r,"visibility"),function(t,e){J(t).each((function(t){return e_.showTab(e,t.value)}))}(t,n),Fm.requestAnimationFrame((function(){o_(o,r,e)}))}))})),No(uo(),(function(t){var n=t.element();r_(n).each((function(t){o_(n,t,e)}))})),No(yv,(function(t,n){var o=t.element();r_(o).each((function(t){var n=pu();ri(t,"visibility","hidden");var r=ci(t,"height").map((function(t){return parseInt(t,10)}));di(t,"height"),di(t,"flex-basis");var i=t.dom().getBoundingClientRect().height;r.forall((function(t){return i>t}))?(e.set(b.from(i)),o_(o,t,e)):r.each((function(e){n_(t,e)})),di(t,"visibility"),n.each(hu)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}}(u).smartTabHeight;return e_.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var o=Mc.getValue(e);xo(t,bv,{name:o,oldName:i.get()}),i.set(o)},tabs:u,components:[e_.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[YA.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ru([Kv.config({})])}),e_.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:s.selectFirst,tabSectionBehaviours:ru([Ud("tabpanel",s.extraEvents),Hd.config({mode:"acyclic"}),Fl.config({find:function(t){return J(e_.getViewItems(t))}}),Mc.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(t,e){n.set(e),t.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},a_=wr("update-dialog"),u_=wr("update-title"),s_=wr("update-body"),c_=wr("update-footer"),l_=wr("body-send-message"),f_=function(t,e,n,o){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:f(f({},e.map((function(t){return{id:t}})).getOr({})),o?{"aria-live":"polite"}:{})},components:[],behaviours:ru([px(0),Yk.config({channel:s_,updateState:function(t,e){return b.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},renderComponents:function(t){switch(t.body.type){case"tabpanel":return[i_(t.body,n)];default:return[UA(t.body,n)]}},initialData:t})])}},d_=Zh.deviceType.isTouch(),m_=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},h_=function(t,e){return kN.parts().close(uh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:ru([Kv.config({})])}))},p_=function(){return kN.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},g_=function(t,e){return kN.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:LE("<p>"+e.translate(t)+"</p>")}]}]})},v_=function(t){return kN.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},b_=function(t,e){return[cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},y_=function(t){var e,n="tox-dialog",o=n+"-wrap",r=o+"__backdrop",i=n+"__disable-scroll";return kN.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),b.some(!0)},useTabstopAt:function(t){return!Nx(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:f({position:"relative"},t.extraStyles)},components:m([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:LE('<div class="'+o+'"></div>'),components:[{dom:{tag:"div",classes:d_?[r,r+"--opaque"]:[r]}}]}},dragBlockClass:o,modalBehaviours:ru(m([Yd.config({}),Ud("dialog-events",t.dialogEvents.concat([Ro(Pn(),(function(t,e){Hd.focusIn(t)}))])),Ud("scroll-lock",[Io((function(){Xr(ti(),i)})),Po((function(){Gr(ti(),i)}))])],t.extraBehaviours)),eventOrder:f((e={},e[Jn()]=["dialog-events"],e[so()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[co()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})},x_=function(t){return uh.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(t){yo(t,mv)}})},w_=function(t,e,n){var o=function(t){return[vi(n.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:f({},e.map((function(t){return{id:t}})).getOr({}))},components:o(t),behaviours:ru([Yk.config({channel:u_,renderComponents:o})])}},C_=function(){return{dom:LE('<div class="tox-dialog__draghandle"></div>')}},S_=function(t,e){return function(t,e){var n=kN.parts().title(w_(t,b.none(),e)),o=kN.parts().draghandle(C_()),r=kN.parts().close(x_(e)),i=[n].concat(t.draggable?[o]:[]).concat([r]);return cv.sketch({dom:LE('<div class="tox-dialog__header"></div>'),components:i})}({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)},k_=function(t,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){kN.setBusy(t(),(function(t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:LE('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}))},onUnblock:function(){kN.setIdle(t())}}},T_=function(t,e,n,o){var r;return xi(y_(f(f({},t),{lazySink:o.shared.getSink,extraBehaviours:m([Yk.config({channel:a_,updateState:function(t,e){return b.some(e)},initialData:e}),Sx({})],t.extraBehaviours),onEscape:function(t){yo(t,mv)},dialogEvents:n,eventOrder:(r={},r[Kn()]=["reflecting","receiving"],r[so()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],r[co()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],r)})))},E_=function(t){return P(t,(function(t){return"menu"===t.type?function(t){var e=P(t.items,(function(t){var e=Ve(!1);return f(f({},t),{storage:e})}));return f(f({},t),{items:e})}(t):t}))},O_=function(t){return V(t,(function(t,e){return"menu"===e.type?V(e.items,(function(t,e){return t[e.name]=e.storage,t}),t):t}),{})},N_=function(t,e){return[zo(Pn(),Ax),t(dv,(function(t,n){e.onClose(),n.onClose()})),t(mv,(function(t,e,n,o){e.onCancel(t),yo(o,dv)})),No(vv,(function(t,n){return e.onUnblock()})),No(gv,(function(t,n){return e.onBlock(n.event())}))]},A_=function(t,e,n){var o=function(e,n){return No(e,(function(e,o){r(e,(function(r,i){n(t(),r,o.event(),e)}))}))},r=function(t,e){Yk.getState(t).get().each((function(n){e(n.internalDialog,t)}))};return m(N_(o,e),[o(pv,(function(t,e){return e.onSubmit(t)})),o(fv,(function(t,e,n){e.onChange(t,{name:n.name()})})),o(hv,(function(t,e,o,r){var i=function(){return Hd.focusIn(r)},a=function(t){return pr(t,"disabled")||hr(t,"aria-disabled").exists((function(t){return"true"===t}))},u=pu();e.onAction(t,{name:o.name(),value:o.value()}),pu().fold(i,(function(t){a(t)?i():u.exists((function(e){return Sn(t,e)&&a(e)}))?i():n().toOption().filter((function(e){return!Sn(e.element(),t)})).each(i)}))})),o(bv,(function(t,e,n){e.onTabChange(t,{newTabName:n.name(),oldTabName:n.oldName()})})),Po((function(e){var n=t();Mc.setValue(e,n.getData())}))])},__=function(t,e){var n=function(t,e){for(var n=[],o=[],r=0,i=t.length;r<i;r++){var a=t[r];(u=a,"start"===u.align?n:o).push(a)}var u;return{pass:n,fail:o}}(e.map((function(t){return t.footerButtons})).getOr([])),o=function(t,e){return cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:P(e,(function(t){return t.memento.asSpec()}))})};return[o("start",n.pass),o("end",n.fail)]},D_=function(t,e){return{dom:LE('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ru([Yk.config({channel:c_,initialData:t,updateState:function(t,n){var o=P(n.buttons,(function(t){var n=sh(function(t,e){return Aw(t,t.type,e)}(t,e));return{name:t.name,align:t.align,memento:n}}));return b.some({lookupByName:function(t,e){return function(t,e,n){return j(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))}(t,o,e)},footerButtons:o})},renderComponents:__})])}},z_=function(t,e){return kN.parts().footer(D_(t,e))},M_=function(t,e){if(t.getRoot().getSystem().isConnected()){var n=Fl.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return cx.getField(n,e).fold((function(){var o=t.getFooter();return Yk.getState(o).get().bind((function(t){return t.lookupByName(n,e)}))}),(function(t){return b.some(t)}))}return b.none()},B_=function(t,e,n){var o=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},r={getData:function(){var e=t.getRoot(),o=e.getSystem().isConnected()?t.getFormWrapper():e,r=Mc.getValue(o),i=rt(n,(function(t){return t.get()}));return f(f({},r),i)},setData:function(e){o((function(o){var i=r.getData(),a=f(f({},i),e),u=function(t,e){var n=t.getRoot();return Yk.getState(n).get().map((function(t){return oe(ne("data",t.dataValidator,e))})).getOr(e)}(t,a),s=t.getFormWrapper();Mc.setValue(s,u),ot(n,(function(t,e){lt(a,e)&&t.set(a[e])}))}))},disable:function(e){M_(t,e).each(Cp.disable)},enable:function(e){M_(t,e).each(Cp.enable)},focus:function(e){M_(t,e).each(Yd.focus)},block:function(t){if(!S(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o((function(e){xo(e,gv,{message:t})}))},unblock:function(){o((function(t){yo(t,vv)}))},showTab:function(e){o((function(n){var o=t.getBody();Yk.getState(o).get().exists((function(t){return t.isTabPanel()}))&&Fl.getCurrent(o).each((function(t){e_.showTab(t,e)}))}))},redial:function(t){o((function(n){var o=e(t);n.getSystem().broadcastOn([a_],o),n.getSystem().broadcastOn([u_],o.internalDialog),n.getSystem().broadcastOn([s_],o.internalDialog),n.getSystem().broadcastOn([c_],o.internalDialog),r.setData(o.initialData)}))},close:function(){o((function(t){yo(t,dv)}))}};return r},R_=tinymce.util.Tools.resolve("tinymce.util.URI"),I_=["insertContent","setContent","execCommand","close","block","unblock"],P_=function(t){return k(t)&&-1!==I_.indexOf(t.mceAction)},H_=function(e,n,o,r){var i,u,s,c,l,d,h,p,g=S_(e.title,r),v=(p={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[_x({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:ru([Kv.config({}),Yd.config({})])})]}],behaviours:ru([Hd.config({mode:"acyclic",useTabstopAt:a(Nx)})])},kN.parts().body(p)),y=e.buttons.bind((function(t){return 0===t.length?b.none():b.some(z_({buttons:t},r))})),x=(c=function(){return D},l=k_((function(){return _}),n),d=function(t,e){return No(t,(function(t,n){h(t,(function(o,r){e(c(),o,n.event(),t)}))}))},h=function(t,e){Yk.getState(t).get().each((function(n){e(n,t)}))},m(N_(d,l),[d(hv,(function(t,e,n){e.onAction(t,{name:n.name()})}))])),w=f(f({},e.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),e.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),C=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],T=new R_(e.url,{base_uri:new R_(t.window.location.href)}),O=T.protocol+"://"+T.host+(T.port?":"+T.port:""),N=Ve(b.none()),A=[Ud("messages",[Io((function(){var n=Gg(qe(t.window),"message",(function(t){if(T.isSameOrigin(new R_(t.raw().origin))){var n=t.raw().data;P_(n)?function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var o=!!E(n.ui)&&n.ui;t.execCommand(n.cmd,o,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock()}}(o,D,n):function(t){return!P_(t)&&k(t)&&lt(t,"mceAction")}(n)&&e.onMessage(D,n)}}));N.set(b.some(n))})),Po((function(){N.get().each((function(t){return t.unbind()}))}))]),du.config({channels:(i={},i[l_]={onReceive:function(t,e){na(t.element(),"iframe").each((function(t){t.dom().contentWindow.postMessage(e,O)}))}},i)})],_=T_({header:g,body:v,footer:y,extraClasses:C,extraBehaviours:A,extraStyles:w},e,x,r),D=(u=_,s=function(t){u.getSystem().isConnected()&&t(u)},{block:function(t){if(!S(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s((function(e){xo(e,gv,{message:t})}))},unblock:function(){s((function(t){yo(t,vv)}))},close:function(){s((function(t){yo(t,dv)}))},sendMessage:function(t){s((function(e){e.getSystem().broadcastOn([l_],t)}))}});return{dialog:_,instanceApi:D}},L_=function(t,e,n){return e&&n?[]:[pE.config({contextual:{lazyContext:function(){return b.some(Xi(qe(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},F_=function(t){var e=t.backstage,n=t.editor,o=ah(n),r=nh(n),i=function(t){var e=t.backstage.shared;return{open:function(n,o){var r=function(){kN.hide(s),o()},i=sh(Aw({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage)),a=p_(),u=h_(r,e.providers),s=xi(y_({lazySink:function(){return e.getSink()},header:m_(a,u),body:g_(n,e.providers),footer:b.some(v_(b_([],[i.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[No(mv,r)],eventOrder:{}}));kN.show(s);var c=i.get(s);Yd.focus(c)}}}(t),a=function(t){var e=t.backstage.shared;return{open:function(n,o){var r=function(t){kN.hide(c),o(t)},i=sh(Aw({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:b.none()},"submit",t.backstage)),a=Aw({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage),u=p_(),s=h_((function(){return r(!1)}),e.providers),c=xi(y_({lazySink:function(){return e.getSink()},header:m_(u,s),body:g_(n,e.providers),footer:b.some(v_(b_([],[a,i.asSpec()]))),onEscape:function(){return r(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[No(mv,(function(){return r(!1)})),No(pv,(function(){return r(!0)}))],eventOrder:{}}));kN.show(c);var l=i.get(c);Yd.focus(l)}}}(t),u=function(t,i,a,u){return jA.open((function(t,s,c){var l,d=oe(ne("data",c,s)),h=(l=Ve(b.none()),{clear:function(){l.set(b.none())},set:function(t){l.set(b.some(t))},isSet:function(){return l.get().isSome()},on:function(t){l.get().each(t)}}),p=function(){return h.on((function(t){Nm.reposition(t),pE.refresh(t)}))},g=function(t,e,n,o){var r,i,a,u,s,c=wr("dialog-label"),l=wr("dialog-content"),f=sh((a={title:t.internalDialog.title,draggable:!0},u=c,s=n.shared.providers,cv.sketch({dom:LE('<div class="tox-dialog__header"></div>'),components:[w_(a,b.some(u),s),C_(),x_(s)],containerBehaviours:ru([dN.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return oa(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),d=sh(function(t,e,n,o){return f_(t,b.some(e),n,o)}({body:t.internalDialog.body},l,n,o)),m=E_(t.internalDialog.buttons),h=O_(m),p=sh(function(t,e){return D_(t,e)}({buttons:m},n)),g=A_((function(){return y}),{onBlock:function(){},onUnblock:function(){},onClose:function(){return e.closeWindow()}},n.shared.getSink),v=xi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(r={role:"dialog"},r["aria-labelledby"]=c,r["aria-describedby"]=""+l,r)},eventOrder:(i={},i[Kn()]=[Yk.name(),du.name()],i[Jn()]=["execute-on-form"],i[so()]=["reflecting","execute-on-form"],i),behaviours:ru([Hd.config({mode:"cyclic",onEscape:function(t){return yo(t,dv),b.some(!0)},useTabstopAt:function(t){return!Nx(t)&&("button"!==ur(t)||"disabled"!==mr(t,"disabled"))}}),Yk.config({channel:a_,updateState:function(t,e){return b.some(e)},initialData:t}),Yd.config({}),Ud("execute-on-form",g.concat([Ro(Pn(),(function(t,e){Hd.focusIn(t)}))])),Sx({})]),components:[f.asSpec(),d.asSpec(),p.asSpec()]}),y=B_({getRoot:function(){return v},getFooter:function(){return p.get(v)},getBody:function(){return d.get(v)},getFormWrapper:function(){var t=d.get(v);return Fl.getCurrent(t).getOr(t)}},e.redial,h);return{dialog:v,instanceApi:y}}({dataValidator:c,initialData:d,internalDialog:t},{redial:jA.redial,closeWindow:function(){h.on(Nm.hide),n.off("ResizeEditor",p),h.clear(),a(g.instanceApi)}},e,u),v=xi(Nm.sketch(f(f({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},r?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:ru(m([Ud("window-manager-inline-events",[No(lo(),(function(t,e){yo(g.dialog,mv)}))])],L_(n,o,r))),isExtraPart:function(t,e){return function(t){return Jg(t,".tox-alert-dialog")||Jg(t,".tox-confirm-dialog")}(e)}})));return h.set(v),Nm.showWithin(v,i,wi(g.dialog),b.some(ti())),o&&r||(pE.refresh(v),n.on("ResizeEditor",p)),g.instanceApi.setData(d),Hd.focusIn(g.dialog),g.instanceApi}),t)};return{open:function(t,n,o){return void 0!==n&&"toolbar"===n.inline?u(t,e.shared.anchors.inlineDialog(),o,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?u(t,e.shared.anchors.cursor(),o,n.ariaAttrs):function(t,n){return jA.open((function(t,o,r){var i=o,a=function(t,e,n){var o=S_(t.internalDialog.title,n),r=function(t,e){var n=f_(t,b.none(),e,!1);return kN.parts().body(n)}({body:t.internalDialog.body},n),i=E_(t.internalDialog.buttons),a=O_(i),u=z_({buttons:i},n),s=A_((function(){return d}),k_((function(){return f}),e),n.shared.getSink),c="normal"!==t.internalDialog.size?"large"===t.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],l={header:o,body:r,footer:b.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},f=T_(l,t,s,n),d=B_({getRoot:function(){return f},getBody:function(){return kN.getBody(f)},getFooter:function(){return kN.getFooter(f)},getFormWrapper:function(){var t=kN.getBody(f);return Fl.getCurrent(t).getOr(t)}},e.redial,a);return{dialog:f,instanceApi:d}}({dataValidator:r,initialData:i,internalDialog:t},{redial:jA.redial,closeWindow:function(){kN.hide(a.dialog),n(a.instanceApi)}},e);return kN.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),t)}(t,o)},openUrl:function(t,o){return function(t,o){return jA.openUrl((function(t){var r=H_(t,{closeWindow:function(){kN.hide(r.dialog),o(r.instanceApi)}},n,e);return kN.show(r.dialog),r.instanceApi}),t)}(t,o)},alert:function(t,e){i.open(t,(function(){e()}))},close:function(t){t.close()},confirm:function(t,e){a.open(t,(function(t){e(t)}))}}};l.add("silver",(function(t){var e=xN(t),n=e.uiMothership,r=e.backstage,i=e.renderUI,a=e.getUi;qg(t,r.shared);var u=F_({editor:t,backstage:r});return{renderUI:i,getWindowManagerImpl:o(u),getNotificationManagerImpl:function(){return function(t,e,n){var o=e.backstage,r=nh(t);return{open:function(t,i){var a=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),u=function(){i(),Nm.hide(c)},s=xi(mh.sketch({text:t.text,level:B(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:b.from(t.icon),closeButton:!a,onAction:u,iconProvider:o.shared.providers.icons,translationProvider:o.shared.providers.translate})),c=xi(Nm.sketch(f({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},r?{}:{fireRepositionEventInstead:{}})));return n.add(c),t.timeout>0&&Fm.setTimeout((function(){u()}),t.timeout),{close:u,moveTo:function(t,e){Nm.showAt(c,{anchor:"makeshift",x:t,y:e},wi(s))},moveRel:function(t,n){if("banner"!==n){var o=function(t){switch(t){case"bc-bc":return Lm;case"tc-tc":return Hm;case"tc-bc":return qa;case"bc-tc":default:return Xa}}(n),r={anchor:"node",root:ti(),node:b.some(qe(t)),layouts:{onRtl:function(){return[o]},onLtr:function(){return[o]}}};Nm.showAt(c,r,wi(s))}else Nm.showAt(c,e.backstage.shared.anchors.banner(),wi(s))},text:function(t){mh.updateText(s,t)},settings:t,getEl:function(){return s.element().dom()},progressBar:{value:function(t){mh.updateProgress(s,t)}}}},close:function(t){t.close()},reposition:function(t){!function(t){H(t,(function(t){return t.moveTo(0,0)}))}(t),function(t){t.length>0&&(J(t).each((function(t){return t.moveRel(null,"banner")})),H(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})))}(t)},getArgs:function(t){return t.settings}}}(t,{backstage:r},n)},ui:a()}}))}(window),function(t){"use strict";var e,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){},r=function(t){return function(){return t}},i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},a=r(!1),u=r(!0),s=function(){return c},c=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t,e){return t()},is:a,isSome:a,isNone:u,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:n,orThunk:e,map:s,each:o,bind:s,exists:a,forall:u,filter:s,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")};return Object.freeze&&Object.freeze(i),i}(),l=function(t){var e=r(t),n=function(){return i},o=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return l(e(t))},each:function(e){e(t)},bind:o,exists:o,forall:o,filter:function(e){return e(t)?i:c},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(a,(function(e){return n(t,e)}))}};return i},f={some:l,none:s,from:function(t){return null==t?c:l(t)}},d=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},m=d("string"),h=d("array"),p=d("boolean"),g=d("function"),v=d("number"),b=Array.prototype.slice,y=Array.prototype.push,x=function(t,e){for(var n=t.length,o=new Array(n),r=0;r<n;r++)o[r]=e(t[r],r);return o},w=function(t,e){for(var n=0,o=t.length;n<o;n++)e(t[n],n)},C=function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o];e(i,o)&&n.push(i)}return n},S=function(t,e,n){return w(t,(function(t){n=e(n,t)})),n},k=function(t,e){for(var n=0,o=t.length;n<o;n++){var r=t[n];if(e(r,n))return f.some(r)}return f.none()},T=function(t,e){return function(t){for(var e=[],n=0,o=t.length;n<o;++n){if(!h(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);y.apply(e,t[n])}return e}(x(t,e))},E=function(t){return 0===t.length?f.none():f.some(t[0])},O=function(t){return 0===t.length?f.none():f.some(t[t.length-1])},N=(g(Array.from),function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}),A=function(){return(A=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},_=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return _(n())}}},D=function(){return z(0,0)},z=function(t,e){return{major:t,minor:e}},M=function(t,e){var n=String(e).toLowerCase();return 0===t.length?D():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(o.test(e))return o}}(t,e);if(!n)return{major:0,minor:0};var o=function(t){return Number(e.replace(n,"$"+t))};return z(o(1),o(2))}(t,n)},B=D,R=function(t,e){return function(){return e===t}},I=function(t){var e=t.current;return{current:e,version:t.version,isEdge:R("Edge",e),isChrome:R("Chrome",e),isIE:R("IE",e),isOpera:R("Opera",e),isFirefox:R("Firefox",e),isSafari:R("Safari",e)}},P=function(){return I({current:void 0,version:B()})},H=I,L=(r("Edge"),r("Chrome"),r("IE"),r("Opera"),r("Firefox"),r("Safari"),function(t,e){return function(){return e===t}}),F=function(t){var e=t.current;return{current:e,version:t.version,isWindows:L("Windows",e),isiOS:L("iOS",e),isAndroid:L("Android",e),isOSX:L("OSX",e),isLinux:L("Linux",e),isSolaris:L("Solaris",e),isFreeBSD:L("FreeBSD",e),isChromeOS:L("ChromeOS",e)}},V=function(){return F({current:void 0,version:B()})},j=F,$=(r("Windows"),r("iOS"),r("Android"),r("Linux"),r("OSX"),r("Solaris"),r("FreeBSD"),r("ChromeOS"),function(t,e){var n=String(e).toLowerCase();return k(t,(function(t){return t.search(n)}))}),U=function(t,e){return-1!==t.indexOf(e)},W=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,q=function(t){return function(e){return U(e,t)}},X=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return U(t,"edge/")&&U(t,"chrome")&&U(t,"safari")&&U(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,W],search:function(t){return U(t,"chrome")&&!U(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return U(t,"msie")||U(t,"trident")}},{name:"Opera",versionRegexes:[W,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:q("firefox")},{name:"Safari",versionRegexes:[W,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(U(t,"safari")||U(t,"mobile/"))&&U(t,"applewebkit")}}],G=[{name:"Windows",search:q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return U(t,"iphone")||U(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:q("linux"),versionRegexes:[]},{name:"Solaris",search:q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Y={browsers:r(X),oses:r(G)},K=_(function(e,n){var o=Y.browsers(),i=Y.oses(),a=function(t,e){return $(t,e).map((function(t){var n=M(t.versionRegexes,e);return{current:t.name,version:n}}))}(o,e).fold(P,H),u=function(t,e){return $(t,e).map((function(t){var n=M(t.versionRegexes,e);return{current:t.name,version:n}}))}(i,e).fold(V,j),s=function(t,e,n,o){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,u=t.isiOS()||t.isAndroid(),s=u||o("(pointer:coarse)"),c=i||!a&&u&&o("(min-device-width:768px)"),l=a||u&&!c,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!l&&!c&&!f;return{isiPad:r(i),isiPhone:r(a),isTablet:r(c),isPhone:r(l),isTouch:r(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(f),isDesktop:r(d)}}(u,a,e,(function(e){return t.window.matchMedia(e).matches}));return{browser:a,os:u,deviceType:s}}(t.navigator.userAgent)),J=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:r(t)}},Q=function(e,n){var o=(n||t.document).createElement(e);return J(o)},Z=J,tt=t.Node.ELEMENT_NODE,et=tt,nt=function(t,e){return t.dom()===e.dom()},ot=K.get().browser.isIE()?function(e,n){return o=e.dom(),r=n.dom(),N(o,r,t.Node.DOCUMENT_POSITION_CONTAINED_BY);var o,r}:function(t,e){var n=t.dom(),o=e.dom();return n!==o&&n.contains(o)},rt=function(t,e){var n=t.dom();if(n.nodeType!==et)return!1;var o=n;if(void 0!==o.matches)return o.matches(e);if(void 0!==o.msMatchesSelector)return o.msMatchesSelector(e);if(void 0!==o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(void 0!==o.mozMatchesSelector)return o.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},it=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),at=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ut=tinymce.util.Tools.resolve("tinymce.util.VK"),st=function(t,e,n){return t.isSome()&&e.isSome()?f.some(n(t.getOrDie(),e.getOrDie())):f.none()},ct=Object.keys,lt=function(t){return f.from(t.dom().parentNode).map(Z)},ft=function(t){return x(t.dom().childNodes,Z)},dt=function(t,e){var n=t.dom().childNodes;return f.from(n[e]).map(Z)},mt=function(t){return dt(t,0)},ht=function(t){return dt(t,t.dom().childNodes.length-1)},pt=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}("element","offset"),function(t,e){lt(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))}),gt=function(t,e){t.dom().appendChild(e.dom())},vt=function(t,e){w(e,(function(e){gt(t,e)}))},bt=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},yt=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})},xt=void 0!==t.window?t.window:Function("return this;")(),wt=function(t,e){return function(t,e){for(var n=null!=e?e:xt,o=0;o<t.length&&null!=n;++o)n=n[t[o]];return n}(t.split("."),e)},Ct=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),St=tinymce.util.Tools.resolve("tinymce.util.Tools"),kt=function(t){return t&&"BR"===t.nodeName},Tt=function(t){return t&&3===t.nodeType},Et=function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)},Ot=function(t){return t&&/^(OL|UL)$/.test(t.nodeName)},Nt=function(t){return t&&/^(DT|DD)$/.test(t.nodeName)},At=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},_t=kt,Dt=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]},zt=function(t,e){return t&&t.nodeName in e},Mt=function(t,e,n){var o=t.isEmpty(e);return!(n&&t.select("span[data-mce-type=bookmark]",e).length>0)&&o},Bt=function(t,e){return t.isChildOf(e,t.getRoot())},Rt=function(t){var e=t.selection.getStart(!0);return t.dom.getParent(e,"OL,UL,DL",Pt(t,e))},It=function(t){var e=t.selection.getSelectedBlocks();return St.grep(function(t,e){var n=St.map(e,(function(e){return t.dom.getParent(e,"li,dd,dt",Pt(t,e))||e}));return Ct.unique(n)}(t,e),(function(t){return(e=t)&&/^(LI|DT|DD)$/.test(e.nodeName);var e}))},Pt=function(t,e){var n=t.dom.getParents(e,"TD,TH");return n.length>0?n[0]:t.getBody()},Ht=function(t,e){var n=t.dom.getParents(e,"ol,ul",Pt(t,e));return O(n)},Lt={isList:function(t){var e,n,o=Rt(t);return(n=wt("ownerDocument.defaultView",e=o),function(t,e){var n=function(t,e){return wt("HTMLElement",e)}(0,e);if(null==n)throw new Error("HTMLElement not available on this browser");return n}(0,n)).prototype.isPrototypeOf(e)},getParentList:Rt,getSelectedSubLists:function(t){var e=Rt(t),n=t.selection.getSelectedBlocks();return function(t,e){return t&&1===e.length&&e[0]===t}(e,n)?function(t){return St.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return Et(t)}))}(e):St.grep(n,(function(t){return Et(t)&&e!==t}))},getSelectedListItems:It,getClosestListRootElm:Pt,getSelectedDlItems:function(t){return C(It(t),Nt)},getSelectedListRoots:function(t){var e=function(t){var e=Ht(t,t.selection.getStart()),n=C(t.selection.getSelectedBlocks(),Ot);return e.toArray().concat(n)}(t);return function(t,e){var n=x(e,(function(e){return Ht(t,e).getOr(e)}));return Ct.unique(n)}(t,e)}},Ft=function(t,e){var n,o,r,i=t.dom,a=t.schema.getBlockElements(),u=i.createFragment(),s=function(t){var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e}(t);if(s&&((o=i.create(s)).tagName===s.toUpperCase()&&i.setAttribs(o,function(t){return t.getParam("forced_root_block_attrs",{})}(t)),zt(e.firstChild,a)||u.appendChild(o)),e)for(;n=e.firstChild;)r||"SPAN"===n.nodeName&&"bookmark"===n.getAttribute("data-mce-type")||(r=!0),zt(n,a)?(u.appendChild(n),o=null):s?(o||(o=i.create(s),u.appendChild(o)),o.appendChild(n)):u.appendChild(n);return s?r||o.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Vt=function(t){return t.dom().nodeName.toLowerCase()},jt=(e=tt,function(t){return function(t){return t.dom().nodeType}(t)===e}),$t=function(e,n){var o=e.dom();!function(t,e){for(var n=ct(t),o=0,r=n.length;o<r;o++){var i=n[o];e(t[i],i)}}(n,(function(e,n){!function(e,n,o){if(!(m(o)||p(o)||v(o)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,o+"")}(o,n,e)}))},Ut=function(t){return S(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},Wt=function(e,n,o){if(!m(o))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);(function(t){return void 0!==t.style&&g(t.style.getPropertyValue)})(e)&&e.style.setProperty(n,o)},qt=function(t){return function(t,e){return Z(t.dom().cloneNode(!0))}(t)},Xt=function(t,e){var n=function(t,e){var n=Q(e),o=Ut(t);return $t(n,o),n}(t,e);pt(t,n);var o=ft(t);return vt(n,o),bt(t),n},Gt=function(t,e){gt(t.item,e.list)},Yt=function(t,e){var n={list:Q(e,t),item:Q("li",t)};return gt(n.list,n.item),n},Kt=function(t){return rt(t,"OL,UL")},Jt=function(t){return mt(t).map(Kt).getOr(!1)},Qt=function(t){return t.depth>0},Zt=function(t){return t.isSelected},te=function(t){var e=ft(t),n=ht(t).map(Kt).getOr(!1)?e.slice(0,-1):e;return x(n,qt)},ee=function(t,e,n,o){return mt(o).filter(Kt).fold((function(){e.each((function(t){nt(t.start,o)&&n.set(!0)}));var r=function(t,e,n){return lt(t).filter(jt).map((function(o){return{depth:e,isSelected:n,content:te(t),itemAttributes:Ut(t),listAttributes:Ut(o),listType:Vt(o)}}))}(o,t,n.get());e.each((function(t){nt(t.end,o)&&n.set(!1)}));var i=ht(o).filter(Kt).map((function(o){return ne(t,e,n,o)})).getOr([]);return r.toArray().concat(i)}),(function(o){return ne(t,e,n,o)}))},ne=function(t,e,n,o){return T(ft(o),(function(o){return(Kt(o)?ne:ee)(t+1,e,n,o)}))},oe=function(e,n,o){var r=function(t,e){var n=_(!1);return x(t,(function(t){return{sourceList:t,entries:ne(0,e,n,t)}}))}(n,function(t){var e,n=x(Lt.getSelectedListItems(t),Z);return st(k(n,i(Jt)),k(((e=b.call(n,0)).reverse(),e),i(Jt)),(function(t,e){return{start:t,end:e}}))}(e));w(r,(function(n){!function(t,e){w(C(t,Zt),(function(t){return function(t,e){switch(t){case"Indent":e.depth++;break;case"Outdent":e.depth--;break;case"Flatten":e.depth=0}}(e,t)}))}(n.entries,o);var r,i=function(e,n){return T(function(t,e){if(0===t.length)return[];for(var n=e(t[0]),o=[],r=[],i=0,a=t.length;i<a;i++){var u=t[i],s=e(u);s!==n&&(o.push(r),r=[]),n=s,r.push(u)}return 0!==r.length&&o.push(r),o}(n,Qt),(function(n){return E(n).map(Qt).getOr(!1)?function(t,e){return function(t){w(t,(function(e,n){(function(t,e){for(var n=t[e].depth,o=e-1;o>=0;o--){if(t[o].depth===n)return f.some(t[o]);if(t[o].depth<n)break}return f.none()})(t,n).each((function(t){var n,o;(n=e).listType=(o=t).listType,n.listAttributes=A({},o.listAttributes)}))}))}(e),function(t,e){var n=S(e,(function(e,n){return n.depth>e.length?function(t,e,n){var o,r=function(t,e,n){for(var o=[],r=0;r<n;r++)o.push(Yt(t,e.listType));return o}(t,n,n.depth-e.length);return function(t){for(var e=1;e<t.length;e++)Gt(t[e-1],t[e])}(r),function(t,e){for(var n=0;n<t.length-1;n++)o=t[n].item.dom(),Wt(o,"list-style-type","none");var o;O(t).each((function(t){$t(t.list,e.listAttributes),$t(t.item,e.itemAttributes),vt(t.item,e.content)}))}(r,n),o=r,st(O(e),E(o),Gt),e.concat(r)}(t,e,n):function(t,e,n){var o=e.slice(0,n.depth);return O(o).each((function(e){!function(t,e){gt(t.list,e),t.item=e}(e,function(t,e,n){var o=Q("li",t);return $t(o,e),vt(o,n),o}(t,n.itemAttributes,n.content)),function(t,e){Vt(t.list)!==e.listType&&(t.list=Xt(t.list,e.listType)),$t(t.list,e.listAttributes)}(e,n)})),o}(t,e,n)}),[]);return E(n).map((function(t){return t.list}))}(t.contentDocument,e).toArray()}(e,n):function(e,n){return x(n,(function(n){var o,r,i=(o=n.content,r=t.document.createDocumentFragment(),w(o,(function(t){r.appendChild(t.dom())})),Z(r));return Z(Ft(e,i.dom()))}))}(e,n)}))}(e,n.entries);w(i,(function(t){yt(e,"Indent"===o?"IndentList":"OutdentList",t.dom())})),r=n.sourceList,w(i,(function(t){pt(r,t)})),bt(n.sourceList)}))},re=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ie=re.DOM,ae=function(t){rt(t,"dt")&&Xt(t,"dd")},ue=function(t,e){if(Tt(t))return{container:t,offset:e};var n=it.getNode(t,e);return Tt(n)?{container:n,offset:e>=t.childNodes.length?n.data.length:0}:n.previousSibling&&Tt(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Tt(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:t,offset:e}},se=function(t){var e=t.cloneRange(),n=ue(t.startContainer,t.startOffset);e.setStart(n.container,n.offset);var o=ue(t.endContainer,t.endOffset);return e.setEnd(o.container,o.offset),e},ce=function(t,e){var n=x(Lt.getSelectedListRoots(t),Z),o=x(Lt.getSelectedDlItems(t),Z),r=!1;if(n.length||o.length){var i=t.selection.getBookmark();oe(t,n,e),function(t,e,n){w(n,"Indent"===e?ae:function(e){return function(t,e){rt(e,"dd")?Xt(e,"dt"):rt(e,"dt")&&lt(e).each((function(n){return function(t,e,n){var o,r,i,a,u,s;for(i=ie.select('span[data-mce-type="bookmark"]',e),u=Ft(t,n),(o=ie.createRng()).setStartAfter(n),o.setEndAfter(e),a=(r=o.extractContents()).firstChild;a;a=a.firstChild)if("LI"===a.nodeName&&t.dom.isEmpty(a)){ie.remove(a);break}t.dom.isEmpty(r)||ie.insertAfter(r,e),ie.insertAfter(u,e),Mt(t.dom,n.parentNode)&&(s=n.parentNode,St.each(i,(function(t){s.parentNode.insertBefore(t,n.parentNode)})),ie.remove(s)),ie.remove(n),Mt(t.dom,e)&&ie.remove(e)}(t,n.dom(),e.dom())}))}(t,e)})}(t,e,o),t.selection.moveToBookmark(i),t.selection.setRng(se(t.selection.getRng())),t.nodeChanged(),r=!0}return r},le=function(t){return ce(t,"Indent")},fe=function(t){return ce(t,"Outdent")},de=function(t){return ce(t,"Flatten")},me=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),he=re.DOM,pe=function(t){var e={},n=function(n){var o,r,i;i=t[n?"startOffset":"endOffset"],1===(r=t[n?"startContainer":"endContainer"]).nodeType&&(o=he.create("span",{"data-mce-type":"bookmark"}),r.hasChildNodes()?(i=Math.min(i,r.childNodes.length-1),n?r.insertBefore(o,r.childNodes[i]):he.insertAfter(o,r.childNodes[i])):r.appendChild(o),r=o,i=0),e[n?"startContainer":"endContainer"]=r,e[n?"startOffset":"endOffset"]=i};return n(!0),t.collapsed||n(),e},ge=function(t){function e(e){var n,o,r;n=r=t[e?"startContainer":"endContainer"],o=t[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(o=function(t){for(var e=t.parentNode.firstChild,n=0;e;){if(e===t)return n;1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++,e=e.nextSibling}return-1}(n),n=n.parentNode,he.remove(r),!n.hasChildNodes()&&he.isBlock(n)&&n.appendChild(he.create("br"))),t[e?"startContainer":"endContainer"]=n,t[e?"startOffset":"endOffset"]=o)}e(!0),e();var n=he.createRng();return n.setStart(t.startContainer,t.startOffset),t.endContainer&&n.setEnd(t.endContainer,t.endOffset),se(n)},ve=function(t){return/\btox\-/.test(t.className)},be=function(t){switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ye=function(t,e){St.each(e,(function(e,n){t.setAttribute(n,e)}))},xe=function(t,e,n){!function(t,e,n){t.setStyle(e,"list-style-type",n["list-style-type"]?n["list-style-type"]:null)}(t,e,n),function(t,e,n){ye(e,n["list-attributes"]),St.each(t.select("li",e),(function(t){ye(t,n["list-item-attributes"])}))}(t,e,n)},we=function(t,e,n,o){var r;for(1===(r=e[n?"startContainer":"endContainer"]).nodeType&&(r=r.childNodes[Math.min(e[n?"startOffset":"endOffset"],r.childNodes.length-1)]||r),!n&&_t(r.nextSibling)&&(r=r.nextSibling);r.parentNode!==o;){if(Dt(t,r))return r;if(/^(TD|TH)$/.test(r.parentNode.nodeName))return r;r=r.parentNode}return r},Ce=function(t,e,n){return function(t,e){return t&&e&&Et(t)&&t.nodeName===e.nodeName}(e,n)&&function(t,e,n){return t.getStyle(e,"list-style-type",!0)===t.getStyle(n,"list-style-type",!0)}(t,e,n)&&e.className===n.className},Se=function(t,e){var n,o;if(Ce(t,e,n=e.nextSibling)){for(;o=n.firstChild;)e.appendChild(o);t.remove(n)}if(Ce(t,e,n=e.previousSibling)){for(;o=n.lastChild;)e.insertBefore(o,e.firstChild);t.remove(n)}},ke=function(t){return"list-style-type"in t},Te=function(t,e,n){var o=Lt.getParentList(t),r=Lt.getSelectedSubLists(t);n=n||{},o&&r.length>0?function(t,e,n,o,r){if(e.nodeName!==o||ke(r)){var i=pe(t.selection.getRng(!0));St.each([e].concat(n),(function(e){!function(t,e,n,o){if(e.nodeName!==n){var r=t.dom.rename(e,n);xe(t.dom,r,o),yt(t,be(n),r)}else xe(t.dom,e,o),yt(t,be(n),e)}(t,e,o,r)})),t.selection.setRng(ge(i))}else de(t)}(t,o,r,e,n):function(t,e,n,o){if(e!==t.getBody())if(e)if(e.nodeName!==n||ke(o)||ve(e)){var r=pe(t.selection.getRng(!0));xe(t.dom,e,o);var i=t.dom.rename(e,n);Se(t.dom,i),t.selection.setRng(ge(r)),yt(t,be(n),i)}else de(t);else(function(t,e,n){void 0===n&&(n={});var o,r=t.selection.getRng(!0),i="LI",a=Lt.getClosestListRootElm(t,t.selection.getStart(!0)),u=t.dom;"false"!==u.getContentEditable(t.selection.getNode())&&("DL"===(e=e.toUpperCase())&&(i="DT"),o=pe(r),St.each(function(t,e,n){for(var o,r=[],i=t.dom,a=we(t,e,!0,n),u=we(t,e,!1,n),s=[],c=a;c&&(s.push(c),c!==u);c=c.nextSibling);return St.each(s,(function(e){if(Dt(t,e))return r.push(e),void(o=null);if(i.isBlock(e)||_t(e))return _t(e)&&i.remove(e),void(o=null);var a=e.nextSibling;me.isBookmarkNode(e)&&(Dt(t,a)||!a&&e.parentNode===n)?o=null:(o||(o=i.create("p"),e.parentNode.insertBefore(o,e),r.push(o)),o.appendChild(e))})),r}(t,r,a),(function(o){var r,a;(a=o.previousSibling)&&Et(a)&&a.nodeName===e&&function(t,e,n){var o=t.getStyle(e,"list-style-type"),r=n?n["list-style-type"]:"";return o===(null===r?"":r)}(u,a,n)?(r=a,o=u.rename(o,i),a.appendChild(o)):(r=u.create(e),o.parentNode.insertBefore(r,o),r.appendChild(o),o=u.rename(o,i)),function(t,e,n){St.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],(function(n){var o;return t.setStyle(e,((o={})[n]="",o))}))}(u,o),xe(u,r,n),Se(t.dom,r)})),t.selection.setRng(ge(o)))})(t,n,o),yt(t,be(n),e)}(t,o,e,n)},Ee=Se,Oe=re.DOM,Ne=function(t,e,n,o){var r=e.startContainer,i=e.startOffset;if(Tt(r)&&(n?i<r.data.length:i>0))return r;var a=t.schema.getNonEmptyElements();1===r.nodeType&&(r=it.getNode(r,i));var u=new at(r,o);for(n&&function(t,e){return!!kt(e)&&!(!t.isBlock(e.nextSibling)||kt(e.previousSibling))}(t.dom,r)&&u.next();r=u[n?"next":"prev2"]();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(a[r.nodeName])return r;if(Tt(r)&&r.data.length>0)return r}},Ae=function(t,e){var n=e.childNodes;return 1===n.length&&!Et(n[0])&&t.isBlock(n[0])},_e=function(t,e,n){var o,r,i=e.parentNode;if(Bt(t,e)&&Bt(t,n)){Et(n.lastChild)&&(r=n.lastChild),i===n.lastChild&&_t(i.previousSibling)&&t.remove(i.previousSibling),(o=n.lastChild)&&_t(o)&&e.hasChildNodes()&&t.remove(o),Mt(t,n,!0)&&t.$(n).empty(),function(t,e,n){var o,r;if(r=Ae(t,n)?n.firstChild:n,function(t,e){Ae(t,e)&&t.remove(e.firstChild,!0)}(t,e),!Mt(t,e,!0))for(;o=e.firstChild;)r.appendChild(o)}(t,e,n),r&&n.appendChild(r);var a=ot(Z(n),Z(e))?t.getParents(e,Et,n):[];t.remove(e),w(a,(function(e){Mt(t,e)&&e!==t.getRoot()&&t.remove(e)}))}},De=function(t,e){return t.selection.isCollapsed()?function(t,e){return function(t,e){var n=t.dom,o=t.selection,r=o.getStart(),i=Lt.getClosestListRootElm(t,r),a=n.getParent(o.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===t.getBody()&&Mt(n,u))return!0;var s=se(o.getRng()),c=n.getParent(Ne(t,s,e,i),"LI",i);if(c&&c!==a)return t.undoManager.transact((function(){var n;e?function(t,e,n,o){var r=t.dom;if(r.isEmpty(o))!function(t,e,n){t.dom.$(n).empty(),_e(t.dom,e,n),t.selection.setCursorLocation(n)}(t,n,o);else{var i=pe(e);_e(r,n,o),t.selection.setRng(ge(i))}}(t,s,c,a):(n=a).parentNode.firstChild===n?fe(t):function(t,e,n,o){var r=pe(e);_e(t.dom,n,o);var i=ge(r);t.selection.setRng(i)}(t,s,a,c)})),!0;if(!c&&!e&&0===s.startOffset&&0===s.endOffset)return t.undoManager.transact((function(){de(t)})),!0}return!1}(t,e)||function(t,e){var n=t.dom,o=t.selection.getStart(),r=Lt.getClosestListRootElm(t,o),i=n.getParent(o,n.isBlock,r);if(i&&n.isEmpty(i)){var a=se(t.selection.getRng()),u=n.getParent(Ne(t,a,e,r),"LI",r);if(u)return t.undoManager.transact((function(){!function(t,e,n){var o=t.getParent(e.parentNode,t.isBlock,n);t.remove(e),o&&t.isEmpty(o)&&t.remove(o)}(n,i,r),Ee(n,u.parentNode),t.selection.select(u,!0),t.selection.collapse(e)})),!0}return!1}(t,e)}(t,e):function(t){var e=t.selection.getStart(),n=Lt.getClosestListRootElm(t,e);return!!(t.dom.getParent(e,"LI,DT,DD",n)||Lt.getSelectedListItems(t).length>0)&&(t.undoManager.transact((function(){var e,n;t.execCommand("Delete"),e=t.dom,n=t.getBody(),St.each(St.grep(e.select("ol,ul",n)),(function(t){!function(t,e){var n,o=e.parentNode;"LI"===o.nodeName&&o.firstChild===e&&((n=o.previousSibling)&&"LI"===n.nodeName?(n.appendChild(e),Mt(t,o)&&Oe.remove(o)):Oe.setStyle(o,"listStyleType","none")),Et(o)&&(n=o.previousSibling)&&"LI"===n.nodeName&&n.appendChild(e)}(e,t)}))})),!0)}(t)},ze=De,Me=function(t,e){return function(){var n=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===e}},Be=function(t,e){return function(n){var o=function(t){var o=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(t.parents,At),r=-1!==o?t.parents.slice(0,o):t.parents,i=St.grep(r,Et);n.setActive(i.length>0&&i[0].nodeName===e&&!ve(i[0]))};return t.on("NodeChange",o),function(){return t.off("NodeChange",o)}}};n.add("lists",(function(t){return function(t){(function(t){return t.getParam("lists_indent_on_tab",!0)})(t)&&function(t){t.on("keydown",(function(e){e.keyCode!==ut.TAB||ut.metaKeyPressed(e)||t.undoManager.transact((function(){(e.shiftKey?fe(t):le(t))&&e.preventDefault()}))}))}(t),function(t){t.on("keydown",(function(e){e.keyCode===ut.BACKSPACE?De(t,!1)&&e.preventDefault():e.keyCode===ut.DELETE&&De(t,!0)&&e.preventDefault()}))}(t)}(t),function(t){var e=function(e){return function(){return t.execCommand(e)}};(function(t,e){return-1!==St.inArray((t.settings.plugins?t.settings.plugins:"").split(/[ ,]/),"advlist")})(t)||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:Be(t,"OL")}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:Be(t,"UL")}))}(t),function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase();"indent"===n?le(t):"outdent"===n&&fe(t)})),t.addCommand("InsertUnorderedList",(function(e,n){Te(t,"UL",n)})),t.addCommand("InsertOrderedList",(function(e,n){Te(t,"OL",n)})),t.addCommand("InsertDefinitionList",(function(e,n){Te(t,"DL",n)})),t.addCommand("RemoveList",(function(){de(t)})),t.addQueryStateHandler("InsertUnorderedList",Me(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Me(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Me(t,"DL"))}(t),function(t){return{backspaceDelete:function(e){ze(t,e)}}}(t)}))}(window),function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){var e=function(t){return t.getContent({source_view:!0})}(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:e},onSubmit:function(e){(function(t,e){t.focus(),t.undoManager.transact((function(){t.setContent(e)})),t.selection.setCursorLocation(),t.nodeChanged()})(t,e.getData().code),e.close()}})};t.add("code",(function(t){return function(t){t.addCommand("mceCodeEditor",(function(){e(t)}))}(t),function(t){t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return e(t)}}),t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return e(t)}})}(t),{}}))}();